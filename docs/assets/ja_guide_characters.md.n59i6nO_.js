import{_ as i,c as t,o as s,f as a,D as A,a as e,aJ as l,aK as c,aL as o,aM as n,aN as r,aO as p,aP as d,aQ as h,aR as g,aS as m,av as u,aw as b,aT as y,aU as k,aV as B,aW as v,aX as w,aY as C,ge as _,gf as Q,gg as G,gh as Y,b7 as f,b8 as E,b9 as W,ba as I,bb as D,bc as x,bd as X,be as F,gi as M,gj as V,bh as Z,bi as R,bl as U,bm as S,gk as T,gl as j,gm as H,gn as N,bt as q,bu as P,bv as O,bw as z,bx as L,by as K,go as J,gp as $,bB as AA,bC as aA}from"./chunks/framework.BG74BkEs.js";const Wa=JSON.parse('{"title":"キャラクター","description":"","frontmatter":{},"headers":[],"relativePath":"ja/guide/characters.md","filePath":"ja/guide/characters.md","lastUpdated":1706881550000}'),eA={name:"ja/guide/characters.md"},iA=w+" 1x",tA=C+" 1x",sA=_+" 1x",lA=Q+" 1x",cA=G+" 1x",oA=Y+" 1x",nA=l+" 1x",rA=c+" 1x",pA=f+" 1x",dA=E+" 1x",hA=W+" 1x",gA=I+" 1x",mA=o+" 1x",uA=n+" 1x",bA=r+" 1x",yA=p+" 1x",kA=D+" 1x",BA=x+" 1x",vA=X+" 1x",wA=F+" 1x",CA=M+" 1x",_A=V+" 1x",QA=d+" 1x",GA=h+" 1x",YA=Z+" 1x",fA=R+" 1x",EA=g+" 1x",WA=m+" 1x",IA=U+" 1x",DA=S+" 1x",xA=T+" 1x",XA=j+" 1x",FA=H+" 1x",MA=N+" 1x",VA=u+" 1x",ZA=b+" 1x",RA=q+" 1x",UA=P+" 1x",SA=y+" 1x",TA=k+" 1x",jA=O+" 1x",HA=z+" 1x",NA=L+" 1x",qA=K+" 1x",PA=J+" 1x",OA=$+" 1x",zA=B+" 1x",LA=v+" 1x",KA=AA+" 1x",JA=aA+" 1x",$A=a('<h1 id="キャラクター" tabindex="-1">キャラクター <a class="header-anchor vp-link" href="#キャラクター" aria-label="Permalink to &quot;キャラクター&quot;">​</a></h1><p>キャラクターアクターはシーンの中で<a href="/naninovel-docs/ja/guide/backgrounds" class="vp-link">背景</a> の上に存在するアクターです。</p><p>キャラクターアクターは、名前、外観、可視性、および形状（位置、回転、スケール）および視線の向きで定義されます。外観、可視性、変形、および視線の向きを時間をかけて変化させることもできます。</p><p>キャラクターの動きはコンテキストメニューの <code>Naninovel -&gt; Configuration AM-&gt; Characters</code> で設定できます。利用可能なオプションについては <a href="/naninovel-docs/ja/guide/configuration#characters" class="vp-link">コンフィグガイド</a> をご覧ください。キャラクターのリソースマネージャーはコンテキストメニューの <code>Naninovel -&gt; Resources -&gt; Characters</code> からアクセスできます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+iA+'" type="image/avif"><source srcset="'+tA+`"><img data-imgit-loadable alt="Add Character" width="720" height="365" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABEAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABMbWRhdAoIOBUji0gIaAEyOBXACCCCBIRBAMaQNA5VnT4S2aw/UzApdDUPhBZYrXPXxMpNxsiI639/7JKGVPs2c96MsNA/p68Q" type="image/avif"><img src="//:0" alt="cover" width="720" height="365" decoding="sync"></picture></div><p>キャラクターや外観が大量にありエディターメニューから割り当てるのが大変な場合は、<code>Resources/Naninovel/Characters</code> フォルダーに、対応するアクターIDのフォルダでグループ分けしてドロップすることもできます。たとえば、 &quot;Kohaku&quot; IDを持つキャラクターアクターの外観を追加するには、テクスチャ（スプライト）を <code>Resources/Naninovel/Characters/Kohaku</code> フォルダーに保存すると、自動的にスクリプトで使用できるようになります。</p><p>必要に応じて、外観リソースをサブフォルダで整理できます。 その場合、naninovelスクリプトで参照するにはスラッシュ (<code>/</code>) を使用します。 たとえば、<code>Resources/Naninovel/Characters/Kohaku/Casual/Angry</code> に保存された外観テクスチャは、 <code>Casual/Angry</code> でスクリプトから参照できます。</p><p><a href="/naninovel-docs/ja/guide/resource-providers#addressable" class="vp-link">addressable asset system</a> を使用して手動でリソースを公開することもできます。アセットを公開するには、使用するパスと同じアドレスを &quot;Resources/&quot; の部分を除いて、上記の方法で割り当てます。例えば、&quot;Happy&quot; の外観を &quot;Kohaku&quot; キャラクターで公開するには, 次のアドレスにテクスチャアセットを割り当てます: <code>Naninovel/Characters/Kohaku/Happy</code>. addressable 機能はデフォルトではエディターで使用できないことに注意してください。リソースプロバイダーのコンフィグメニューで <code>Enable Addressable In Editor</code> プロパティを有効にすることで許可できます。</p><p>naninovel スクリプトでは、キャラクターは基本的に <a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドで操作します:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`Sora\` という名前のキャラクターをデフォルトの外観で表示。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 同様に、外観に \`Happy\` を設定。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora.Happy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 上記と同じですが、キャラクターを画面の左端から45％、下端から10％の位置に配置します。</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; また、左を向かせます。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> look:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">left</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">45,10</span></span></code></pre></div><h2 id="ポーズ" tabindex="-1">ポーズ <a class="header-anchor vp-link" href="#ポーズ" aria-label="Permalink to &quot;ポーズ&quot;">​</a></h2><p>各キャラクターは名前の付いたステート（ポーズ）を指定できる <code>Poses</code> プロパティを持っています。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+sA+'" type="image/avif"><source srcset="'+lA+'"><img data-imgit-loadable alt="" width="720" height="541" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABNAAIAAAABAAACHQAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABsAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAaW1kYXQKCDgVI9NICGgBMkEVwAQQQgSBBQDg041pJbQfjT85f+S5UHJ4s7pUkMCYkCYWgWWdBZR9fpPPvb2jLaVIpcaOEqCkw/ikbvVq2+6W0AoGGBUj00qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="541" decoding="sync"></picture></div><p>ポーズ名を <a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドの外観として使用すると、コマンドパラメーターで個別に指定する代わりに、ポーズステートで指定されたすべてのパラメーターを一度に適用できます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; `SuperAngry` ポーズが `Kohaku` キャラクターに定義されているとして、</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; ポーズステートで指定されたすべてのパラメータを適用します。</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 上記を3秒かけて `DropFade` トランジションで表示します。</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> transition:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">DropFade</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">3</span></span></code></pre></div><p>ポーズを外観として使用する場合でも、個々のパラメータは上書きできます。例：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; `SuperAngry` ポーズが `Kohaku` キャラクターに定義されているとして、</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; ポーズステートで指定されたすべてのパラメータを色味を除いて適用します。</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 色味はコマンドで上書きします。</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> tint:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">#ff45cb</span></span></code></pre></div><h2 id="表示名" tabindex="-1">表示名 <a class="header-anchor vp-link" href="#表示名" aria-label="Permalink to &quot;表示名&quot;">​</a></h2><p>キャラクター設定では、特定のキャラクターの <code>Display Name</code> を設定できます。 設定すると、キャラクターのIDではなく、プリンター名ラベルのUIに表示名が表示されます これにより、スペースや特殊文字（IDでは不可）を含むキャラクター名を使用できます。</p><p>ローカライズするには、<a href="/naninovel-docs/ja/guide/managed-text" class="vp-link">テキスト管理</a> で &quot;CharacterNames&quot; を使用します。このドキュメントは、テキスト管理リソースの生成タスクを実行すると自動的に作成されます。&quot;CharacterNames&quot; ドキュメントの値は、オリジナルロケールの場合、キャラクターメタデータに設定された値を上書きしません。</p><p>naninovelスクリプトでは、表示名をカスタム変数と紐付け、ゲーム全体で動的に変更することができます。表示名を紐付けるには、キャラクターコンフィグメニューでカスタム変数の名前を中括弧で囲み指定します。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+cA+'" type="image/avif"><source srcset="'+oA+`"><img data-imgit-loadable alt="" width="720" height="324" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABfAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABnbWRhdAoIOBTj9pAQ0AIyUxXABBABBIAAAO5NvmblvrIUmk2Q9YNh4GMg4jmQuXgTd2MObso5FEJpTcDTbvSOilnP4EnTecJR099Y4DEfVPbSURjQ73uVNbP9wOwuo+hH2LTo" type="image/avif"><img src="//:0" alt="cover" width="720" height="324" decoding="sync"></picture></div><p>これでスクリプトで変数の値を変更できます。これにより、表示名も変更されます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@set</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName=&quot;Mistery Man&quot;</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@set</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName=&quot;Dr. Stein&quot;</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> You can call me Dr. Stein.</span></span></code></pre></div><p>名前の紐付け機能を使うと、 <a href="/ja/api/#input" target="_blank"><code>@input</code></a> コマンドでプレイヤーに表示名を入力させることもできます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@input</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> summary:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;Choose your name.&quot;</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> You can call me </span><span style="--shiki-light:#3ABFB3;--shiki-dark:#62B8C1;">{PlayerName}</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">.</span></span></code></pre></div><h2 id="メッセージカラー" tabindex="-1">メッセージカラー <a class="header-anchor vp-link" href="#メッセージカラー" aria-label="Permalink to &quot;メッセージカラー&quot;">​</a></h2><p>キャラクターコンフィグで <code>Use Character Color</code> が有効だと、表示テキストと名前ラベルを指定した色に変更できます。対応するキャラクターIDが <a href="/ja/api/#print" target="_blank"><code>@print</code></a> コマンドか一般テキストで指定されている場合に適応されます。</p><p>以下の動画で表示名とメッセージカラーの使い方を解説しています。</p>`,29),Aa=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=u5B5s-X2Bw0",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:nA,type:"image/avif"}),A("source",{srcset:rA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABcAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABkbWRhdAoJGBUjm0QICBQQMk8VwBBAAQSAAAC1yW017p+S8T795eTW5c009vdxqN5kN/Ym+BqPhzos3nKgoP0H858oxUrRlKNDz7wL/fB7TqGhCd5qSSgLagyu9Hm0vXKA",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/u5B5s-X2Bw0?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),aa=a('<h2 id="アバターテクスチャ" tabindex="-1">アバターテクスチャ <a class="header-anchor vp-link" href="#アバターテクスチャ" aria-label="Permalink to &quot;アバターテクスチャ&quot;">​</a></h2><p><a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドの <code>avatar</code> パラメーターを使って、キャラクターにアバターテクスチャを設定できます。アバターは、キャラクターに紐付けられたテキストメッセージを表示するときに、対応できるテキストプリンターで表示されます。現在、 <code>Wide</code> と <code>Chat</code> のテキストプリンターのみがアバター機能をサポートしています。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+pA+'" type="image/avif"><source srcset="'+dA+'"><img data-imgit-loadable alt="" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAClAAIAAAABAAACdQAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAwW1kYXQKCDgVI5tICGgBMpgBFcAUUQUEgQQA410EIDEqvj9Zht6SL8BfVDP47cOqDaosiM8jBogH5X0lFA1+kVa7VdcLO77KsDLKG7IckVbRCSKe3lj0lwvwwCt60cJdfha9uneIzc1zbqlRmjv8cUeGL0FPmQSbJIFpth+PhGBTokxoqLQS+JuC+/iGhWWGXmiS2EqA6+y1TKlWOqGle8LFDQ6/0ZxUjkAKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>任意のアバターを使用するには、まずアバターリソースに追加し、名前を付ける必要があります。キャラクターコンフィグメニューの <code>Avatar Resources</code> プロパティで行うことができます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+hA+'" type="image/avif"><source srcset="'+gA+'"><img data-imgit-loadable alt="" width="720" height="361" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABbAAIAAAABAAACKwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABIAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAd21kYXQKCDgVI4tICGgBMk8VwAIIAgSABADg041LFcaWlX5nEJYrxOrrpRMbEdKSt+ZwW/WaZ7wjxxLd7HheeMKJqTW1/UWAozb1fR32gLH1QbPkHZMmPgRSz7YtWrCACgYYFSOLSoAyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="361" decoding="sync"></picture></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>アバター名は任意に設定することができ、既存のキャラクターIDや外観を含める必要はありません。アバターをキャラクターに関連付けて自動的に表示したい場合には必要です。</p></div><p>これで、次のように特定のアバターテクスチャを表示できます。:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharacaterId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> avatar:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">AvatarName</span></span></code></pre></div><p>キャラクターにデフォルトのアバターを設定するには、アバターテクスチャリソースの名前を <code>CharacterID/Default</code> にしてください。例えば、ID <code>Kohaku</code> のキャラクターにデフォルトのアバターを設定するには、アバターリソースに <code>Kohaku/Default</code> という名前を付けます。</p><p>アバターを特定のキャラクターの外観に紐付けることもできます。これにより、キャラクターの外観が変わると、アバターも自動的に変更されます。そのためにはアバターリソースの名前を次の形式にします: <code>CharacterID/CharacterAppearance</code>。この <code>CharacterAppearance</code> はアバターリソースをマップする外観の名前です。</p><p><strong>アバターはキャラクターの外観と直接繋がっておらず</strong> シーンにキャラクターを表示する方法ではないことに注意してください。キャラクターのリソースマネージャーで設定された外観は、シーン内での実際のキャラクター表示です。アバターは独立した機能で、対応しているテキストプリンターに任意の画像を&quot;挿入&quot;するものです。</p><p><a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドの <code>visible</code> パラメータを <code>false</code> に設定することで、キャラクターのアバターのみをテキストプリンター内に表示しキャラクター自体は非表示にすることができます。例:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharacaterId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> visible:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span></code></pre></div><p>キャラクター自体を非表示にしたままでアバターを常に変更したい場合は、キャラクターの設定メニューで <code>Auto Show On Modify</code> を無効にすることを検討してください。無効にすると、非表示にするときに <code>visible:false</code> を指定してキャラクターのパラメーターを変更する必要はありません。</p><h2 id="話者の強調" tabindex="-1">話者の強調 <a class="header-anchor vp-link" href="#話者の強調" aria-label="Permalink to &quot;話者の強調&quot;">​</a></h2><p>キャラクターコンフィグで有効にすると、最後に表示されたメッセージによって話しているキャラクターを色付けします。</p>',16),ea=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=gobowgagdyE",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:mA,type:"image/avif"}),A("source",{srcset:uA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABnAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABvbWRhdAoJGBUjm0QICBQQMloVwAggggSAAAC3Rmq/+0w5/C4M5IBXVhUrf57TOdV4z4oVXz8KEuQC6CbqFXRvyovHHGw9XPK2lxagb7AoytPlxI9uBCQ7RU00aTHL3BlVYyVq4XxkwhCp2TY=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/gobowgagdyE?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),ia=A("h2",{id:"口パク",tabindex:"-1"},[e("口パク "),A("a",{class:"header-anchor vp-link",href:"#口パク","aria-label":'Permalink to "口パク"'},"​")],-1),ta=A("p",null,[A("a",{href:"/naninovel-docs/ja/guide/characters#一般キャラクター",class:"vp-link"},"一般"),e(" と "),A("a",{href:"/naninovel-docs/ja/guide/characters#live2d-キャラクター",class:"vp-link"},"Live2D"),e(' のキャラクター実装では、いわゆる "口パク" を利用できます。イベントを送ることで、表示メッセージを発しているキャラクターの口パクアニメーションを動作させることが出来ます。')],-1),sa=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=fx_YS2ZQGHI",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:bA,type:"image/avif"}),A("source",{srcset:yA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABrAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABzbWRhdAoJGBUjm0QICBQQMl4VwBRQAASEIQDW9/P3A9G6hcaphSnC0FPmvjjnXbZvoO+j+aP7zKEj1sdI2WviKWG2xm3U5zWGJe2ye/VG17CZZe/yqp6UZqY67q21aaAX+FnmHfTTvtOr8bWoReGw",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),la=a('<p><a href="/naninovel-docs/ja/guide/voicing#自動ボイス再生" class="vp-link">自動ボイス再生</a> 機能が有効になっていると、口パクイベントはボイスオーバーによって起動します。それ以外の場合は、表示テキストメッセージによってイベントがアクティブになります。後者の場合、手動で口パクを開始または停止したい場合があると思います（句読点のときに口パクアニメーションを停止する時など）。その場合は、<a href="/ja/api/#lipsync" target="_blank"><code>@lipSync</code></a> コマンドを使用してください。</p><p>口パクを設定する方法について詳しくは、 <a href="/naninovel-docs/ja/guide/characters#一般キャラクター" class="vp-link">一般</a> と <a href="/naninovel-docs/ja/guide/characters#live2d-キャラクター" class="vp-link">Live2D</a> のキャラクター実装についてのドキュメントをご覧ください。</p><h2 id="プリンターのリンク" tabindex="-1">プリンターのリンク <a class="header-anchor vp-link" href="#プリンターのリンク" aria-label="Permalink to &quot;プリンターのリンク&quot;">​</a></h2><p><code>Linked Printer</code> プロパティを使用して、 <a href="/naninovel-docs/ja/guide/text-printers" class="vp-link">テキストプリンター</a> をキャラクターに関連付けることができます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+kA+'" type="image/avif"><source srcset="'+BA+'"><img data-imgit-loadable alt="" width="541" height="145" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACQAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAbAAAABwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACYbWRhdAoIOBC1mkBDQAgygwEVwAQQcQSBIQD5Bi/d/Pld3HhlgJfLn0BeoV8obhUeaUsS8LS4ZiouRdkDnAnwEQyPHRqM8V2bQ0eEVA7azG+PJls2yJ6LqsOebkVvtsXHvp00KAatjrqIjLDN8+yr8AGnbFZ88pDRaMYGoEYe3OUr6DqDwmEzN/1qkPeqD0fF+5t/8A==" type="image/avif"><img src="//:0" alt="cover" width="541" height="145" decoding="sync"></picture></div><p>リンクされていると、そのキャラクターが発しているメッセージと関連付けられたプリンターが自動的に使用されます。</p><p><a href="/ja/api/#print" target="_blank"><code>@print</code></a> コマンド（一般テキストを表示するときに内部で使用される）は、関連付けられたプリンターをデフォルト状態にし、他の可視プリンターをデフォルトで非表示にします。プリンターがキャラクターにリンクされている場合、print コマンドは、今表示されているデフォルトのテキストプリンターを自動的に変更し、対応するキャラクターに関連付けられたテキストを表示します。プリンタアクターのコンフィグメニューで <code>Auto Default</code> プロパティを無効にすることで、この動作を防ぐことができます。無効になっている場合は、 <a href="/ja/api/#printer" target="_blank"><code>@printer</code></a> コマンドで、手動でデフォルトのプリンターの表示/非表示を切り替える必要があります。</p><h2 id="スプライトキャラクター" tabindex="-1">スプライトキャラクター <a class="header-anchor vp-link" href="#スプライトキャラクター" aria-label="Permalink to &quot;スプライトキャラクター&quot;">​</a></h2><p>スプライト実装のキャラクターアクターは、最も一般的でシンプルなものです。これは、クアッドメッシュ（スプライト）にラップされた<a href="https://docs.unity3d.com/ja/current/Manual/Textures.html" class="vp-link" target="_blank" rel="noreferrer">テクスチャ<span class="external-link-icon"> ↗</span></a>アセットのセットによって、キャラクターの外観を表示します。テクスチャには、<code>.jpg</code>、<code>.png</code>、<code>.tiff</code>、<code>.psd</code> といった、<a href="https://docs.unity3d.com/ja/current/Manual/ImportingTextures.html" class="vp-link" target="_blank" rel="noreferrer">Unity でサポートされている画像ファイル形式<span class="external-link-icon"> ↗</span></a>を使用できます。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>開発のワークフローに合った、最も使いやすいファイル形式を選択してください。プロジェクトをビルドする際、Unity はすべてのソースリソース（テクスチャ、オーディオ、ビデオなど）を、ターゲットプラットフォームに最も適した形式に自動的に変換するので、プロジェクト内のリソースをどのような形式で保存しても、違いはありません。Unity がプロジェクトのアセットを管理する方法については、<a href="https://docs.unity3d.com/ja/current/Manual/AssetWorkflow.html" class="vp-link" target="_blank" rel="noreferrer">公式ドキュメント<span class="external-link-icon"> ↗</span></a>を参照してください。</p></div><p>シーン上のスプライトキャラクターのメッシュの初期サイズ（スケーリングされていないサイズ）は、Naninovel のカメラ設定の <code>Reference Resolution</code>、キャラクターの <code>Pixel Per Unit</code> プロパティ（設定メニューでキャラクターアクターごとに設定されます）、ソースとなるテクスチャの解像度に依存します。</p><p>最高のレンダリング品質と最適なパフォーマンスを得るためには、一般的に、すべてのキャラクターの <code>Pixel Per Unit</code> をデフォルト値（100）のままにし、テクスチャの解像度によってキャラクターの初期サイズを制御することをお勧めします。例えば、ゲームの <code>Reference Resolution</code> がデフォルトの 1920 x 1080 px である場合、キャラクターが画面全体を占めるようにするには、キャラクターのテクスチャの高さを（Photoshop などの画像編集ソフトで）<code>1080</code> px にリサイズします。同様に、画面の 2/3 を占めるようにするには、高さを <code>1080 * 2/3</code> px にします。</p><h2 id="分解スプライトキャラクター" tabindex="-1">分解スプライトキャラクター <a class="header-anchor vp-link" href="#分解スプライトキャラクター" aria-label="Permalink to &quot;分解スプライトキャラクター&quot;">​</a></h2><p>オープンソースの <a href="https://github.com/Elringus/SpriteDicing" class="vp-link" target="_blank" rel="noreferrer">SpriteDicing<span class="external-link-icon"> ↗</span></a> パッケージを使用した <code>DicedSpriteCharacter</code> 実装で、キャラクタースプライトのテクスチャを再利用することで、ビルド時の容量とテクスチャーのメモリを大きく削減することができます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+vA+'" type="image/avif"><source srcset="'+wA+'"><img data-imgit-loadable alt="Sprite Dicing" width="720" height="436" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAACsAAIAAAABAAACfAAAAFsAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABYAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAABD21kYXQKCDgVI6tICGgBMp8BFcAQQUEEgAAA4NOTbOnkIjVCwMtZjG67v8EXwhBqdiGmHBNpYHIaeUe2gUtu1d3eIfAZ7wKUZxO9kz8l+4QCaQR5EYRp7p6879FurLKKNVc1Dqu5TfCzWJ5UkGoyNNb1TGDvKC/3oZpHOFnDhf2bb4N9CgNJ0CrtM1mrvn08mAh2ryisNql17xIgkllmc1qH7mLwC0bgQutHGriu4asgCgYYFSOrSoAyURXAAAEgQN8YGQMjog6kZT4Gv6HRTO5qhl9d4Dpq4tHoZsU+FmH8IB2gH1mscKP2KbRZiu55Iyu9jhQyi9tAhNLcT8vvEkmaweAoL2n3ohGpeQ==" type="image/avif"><img src="//:0" alt="cover" width="720" height="436" decoding="sync"></picture></div><p><a href="https://docs.unity3d.com/Manual/upm-ui.html" class="vp-link" target="_blank" rel="noreferrer">Unityパッケージマネージャー<span class="external-link-icon"> ↗</span></a> でパッケージをインストールします: パッケージマネージャーを開く (Window -&gt; Package Manager)、 &quot;+&quot; ボタンをクリック、 &quot;Add package from git URL&quot; を選択、入力欄に <code>https://github.com/Elringus/SpriteDicing.git#package</code> と入力し、 &quot;Add&quot; をクリック。</p>',16),ca=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"696",height:"416"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-b54e9daa9a483d9bf7f74f0e94b2d38a.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-b54e9daa9a483d9bf7f74f0e94b2d38a.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAtAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAiAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA1bWRhdAoGGBUhm0AQMiMVwAQQQQSBBQDgh8KXLRRjo2TEmFiVKsE5pnQ35v85//uK2g==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"696",height:"416",decoding:"sync"})])],-1),oa=a('<p>キャラクターの外観を含む <code>DicedSpriteAtlas</code> アセットは、分解スプライトキャラクターのリソースとして使用されます。各外観は、アトラスに含まれている分解スプライトに名前でマップされます。</p><p>分解スプライトキャラクターのメタデータプロパティの一部（たとえば、ユニットあたりのピクセル数、ピボット）はアトラスアセットによって制御されます。一方、キャラクターコンフィグの値は、実際のスプライトを表示するためのレンダーテクスチャに適用されます。アトラスプロパティを変更するときは、変更を有効にするため再ビルドしてください。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+CA+'" type="image/avif"><source srcset="'+_A+'"><img data-imgit-loadable alt="" width="497" height="367" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABTAAIAAAABAAACIwAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABIAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAbm1kYXQKCDgRLxaQENACMkcVwAYYwcSAAQC8gQztVPMHfgraX/RpE5Osf/MeblE/pZpgqxgMlXqAhH2dqKV5MvuOTUSoeV/mfI2jdJ8WIz5+ogz9/Eo4zQoFGBEvFpUyChXAAAEgAAPHhDo=" type="image/avif"><img src="//:0" alt="cover" width="497" height="367" decoding="sync"></picture></div><p>以下のビデオガイドでは、分解スプライトアトラスの作成と構成、作成したアトラスに基づく新しい分解キャラクターの追加、naninovelスクリプトからのキャラクターの制御について説明しています。</p>',4),na=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=6PdOAOsnhio",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:QA,type:"image/avif"}),A("source",{srcset:GA}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABIAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABQbWRhdAoJGAz+GiBAQKCAMjsVwAYYAASQAADQBs/4hTxn2iwXUzNsJ4INGe+qcJoNiMJFmGcu6LlonMNIr8pHadMYabcS0tpLF2w7oA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/6PdOAOsnhio?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),ra=a('<h2 id="キャラクター差分" tabindex="-1">キャラクター差分 <a class="header-anchor vp-link" href="#キャラクター差分" aria-label="Permalink to &quot;キャラクター差分&quot;">​</a></h2><p>レイヤー実装で複数のスプライト（レイヤー）からキャラクターを作成し、実行時にnaninovelスクリプトで、個別またはグループごとに切り替えることができます。</p><p>キャラクター差分プレハブの作成は、コンテキストメニューの <code>Create -&gt; Naninovel -&gt; Character -&gt; Layered</code> で行います。<a href="https://docs.unity3d.com/Manual/EditingInPrefabMode.html" class="vp-link" target="_blank" rel="noreferrer">プレハブ編集モード<span class="external-link-icon"> ↗</span></a> に入りレイヤーを作成します。デフォルトでは、いくつかのレイヤーとグループが作成されます。そのまま使用するか、削除して独自のものを追加できます。</p><p><a href="https://docs.unity3d.com/Manual/class-SpriteRenderer.html" class="vp-link" target="_blank" rel="noreferrer">スプライトレンダラー<span class="external-link-icon"> ↗</span></a> コンポーネントを持つルートプレハブオブジェクトの子ゲームオブジェクトは、<em>レイヤー</em> と見なされます。他のオブジェクトは <em>グループ</em> と見なされます。グループ内にレイヤーを配置すると、naninovelスクリプトの一つの式であるレイヤーを選択したり、グループ内のすべてのレイヤーを無効/有効にしたりできます（詳細は後ほど）。</p><p>一部のレイヤーをデフォルトで非表示にするには、（ゲームオブジェクトではなく）スプライトレンダラーコンポーネントを無効にします。</p><p>プレハブの上に表示される白いフレームは、実行時にレンダーテクスチャにレンダリングされるアクターキャンバスを示しています。テクスチャメモリの浪費を防ぎ、かつアンカーを正しく機能させるため、レイヤーとグループを移動して、フレーム内の空白を最小限に抑えてください。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+YA+'" type="image/avif"><source srcset="'+fA+`"><img data-imgit-loadable alt="" width="571" height="508" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACLAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAcAAAAGQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACTbWRhdAoIOBE3hpAQ0AIyfxXADDDChIEEAJj41wl2kvmcGqJuJ0BYKVyioxo1jM5/AQHM91Enlaa8/qmEGZnpswOg2FBpoKZ79niWhC7hgmh9HTrUd1I4mC0e7ZxEFqU4kSll9IweTHR0p7eY5rolG0XLvDD9j/4TiSedgKcElhFss3yJcFGYAKLpARecOhA=" type="image/avif"><img src="//:0" alt="cover" width="571" height="508" decoding="sync"></picture></div><p>ブジェクトを拡大縮小して、アクターのデフォルトサイズを微調整できます。</p><p>キャラクター差分を Photoshop で作成している場合は、Unity の <a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@3.0/manual/index.html" class="vp-link" target="_blank" rel="noreferrer">PSD Importer package<span class="external-link-icon"> ↗</span></a> をご検討ください。これは、レイヤーとポジションを全て保持したキャラクタープレハブを自動的に生成します。レイヤー階層を保持するには、インポート設定で <code>Use Layer Grouping</code> オプションを必ず有効にしてください。</p><p>必ず作成した差分プレハブをキャラクターリソース (<code>Naninovel -&gt; Resources -&gt; Characters</code>) に追加してください。 &quot;Naninovel.LayeredCharacter&quot; 実装を選択し、リソースレコード設定時に &quot;Resource&quot; フィールドへプレハブをドロップしてください。</p><p>差分キャラクターを naninovel スクリプトで操作するには、他のキャラクター実装と同じように <a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドを使います。違いは外観の設定の仕方のみです: 単一のIDの代わりに <em>レイヤー構成式</em> を使います。式には3つの種類があります:</p><ul><li>グループ内の1つのレイヤーを有効にする: <code>group&gt;layer</code></li><li>レイヤーを有効にする: <code>group+layer</code></li><li>レイヤーを無効にする: <code>group-layer</code></li></ul><p>たとえば、 &quot;Miho&quot; のキャラクターを考えてみましょう。 &quot;Miho&quot; は &quot;Body&quot; グループを持っていて &quot;Uniform&quot;、 &quot;SportSuit&quot;、 &quot;Pajama&quot; の3つのレイヤーが含まれています。&quot;Uniform&quot; レイヤーを有効にして他のレイヤーをすべて無効にするには、次のコマンドを記述します:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.Body&gt;Uniform</span></span></code></pre></div><p>グループ内の他のレイヤーに影響を与えずにレイヤーを有効または無効にするには、 &quot;&gt;&quot; の代わりに &quot;+&quot; と &quot;-&quot; をそれぞれ使用します。また、複数の構成式をコンマで分割して指定することもできます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; メガネを有効に、帽子を無効にし、感情は &quot;Cool&quot; を選択。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Head/Accessories+BlackGlasses,Head-Hat,Head/Emotions&gt;Cool</span></span></code></pre></div><p>グループ外のレイヤー（ルートプレハブの子オブジェクト）を選択するには、グループの部分をスキップします。例:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; &quot;Halo&quot; レイヤーオブジェクトがルートプレハブの下にあり、それを無効にする。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.-Halo</span></span></code></pre></div><p>構成式でレイヤー名を省略することで、グループ内のすべてのレイヤーに適用させることもできます（さらに、select式を使用すると隣接レイヤーに適用されます）:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; &quot;Body/Decoration&quot; グループ内のレイヤーを全て無効にする。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Body/Decoration-</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 存在する全てのレイヤーを有効にする。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.+</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; それぞれ複数のレイヤーを含んだ \`Poses/Light\` と \`Poses/Dark\` グループがあるとして、</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`Light\` グループ内の全てのスプライトを有効に、 \`Dark\` グループの全てのレイヤーを無効にする。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Poses/Light&gt;</span></span></code></pre></div><p>上記の式は、ターゲットグループの直下の子だけでなく、基になるグループに含まれるすべてのレイヤーに再帰的に影響します。</p><p>外観が指定されていない場合（たとえば、事前に外観を設定せずに <code>@char CharId</code>）、デフォルトの外観が使用されます。キャラクター差分のデフォルトの外観は、レイヤー化されたプレハブのエディターでの見え方と同じです。</p><p>以下の動画は、キャラクター差分を設定してnaninovelコマンドで操作するデモです。</p>`,23),pa=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=Bl3kXrg8tiI",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:EA,type:"image/avif"}),A("source",{srcset:WA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABaAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABibWRhdAoJGBUjm0QICBQQMk0VwAggAASBAAC4f8zOw29Sr3OnQpix4CNquANw4uLzXcsv3CXnHSvfz2uM28jtJ+7D8bgJ+pfjx6zXGVA71g6TX5W+MTlBk2DKZ80ZEA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/Bl3kXrg8tiI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),da=a('<div class="info custom-block"><p class="custom-block-title">NOTE</p><p>動画で表示されている <code>@char Miho.Shoes&gt;</code> コマンドは実際には &quot;Shoes&quot;グループ（すべての隣接グループを無効にしています）を選択し、非表示にしていません。グループを非表示にする正しいコマンドは <code>@char Miho.Shoes-</code> です。</p></div><p><code>Layered Actor Behaviour</code> コンポーネントの <code>Composition Map</code> プロパティから、コンポジション式をキーにマップすることが可能です:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+IA+'" type="image/avif"><source srcset="'+DA+'"><img data-imgit-loadable alt="" width="496" height="532" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA1AAIAAAABAAACBQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAGgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABoAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAUG1kYXQKCDgRL5aQENACMikVwAAASFBQq1cYsiQj5hzk4EQWx6RlK5Gsg3AxpZYhj4lc0tviJt0IMgoFGBEvlpUyChXAAAEgAAPHhDo=" type="image/avif"><img src="//:0" alt="cover" width="496" height="532" decoding="sync"></picture></div><p>— これでキーを使用して、レイヤー化されたアクターの外観を指定できます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; `Body&gt;Uniform,Hair/Back&gt;Straight,Hair/Front&gt;Straight,Shoes&gt;Grey` を適用する。</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.Uniform</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; `Hair/Back&gt;Straight,Hair/Front&gt;Straight` を適用する。</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.StraightHair</span></span></code></pre></div><p>キャラクター差分プレハブを編集する際は、マップレコードを右クリックして &quot;Preview Composition&quot; を選択すると、マップされた構成式をプレビューできます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+xA+'" type="image/avif"><source srcset="'+XA+'"><img data-imgit-loadable alt="" width="602" height="316" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABdAAIAAAABAAACLQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAeAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAHgAAABAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAeG1kYXQKCDgQ++0gIaAEMlEVwAggQQSABADFYR5EPtUYP0g28aBLxdRkrXcigZqjfScTz1K6LL8viOd+PAYU6luKYrGMs+Lyu9cQMyQau3UQ5ObUwBUwMfBnbgTSvptWwkQKBRgQ++0qMgoVwAABIAACaw7h" type="image/avif"><img src="//:0" alt="cover" width="602" height="316" decoding="sync"></picture></div><p>レイヤーオブジェクトは実行時にUnityカメラで直接レンダリングされないことに注意してください。代わりに、コンポジション（外観）が一時的なレンダリングテクスチャに変わるたびに1回レンダリングされ、Naninovelカメラから見えるカスタムメッシュに送られます。この設定は、半透明のオーバードローを防ぎ、トランジションアニメーション効果をサポートするために必要です。</p><h2 id="一般キャラクター" tabindex="-1">一般キャラクター <a class="header-anchor vp-link" href="#一般キャラクター" aria-label="Permalink to &quot;一般キャラクター&quot;">​</a></h2><p>一般キャラクターは、最も柔軟なキャラクターアクターの実装です。これは、ルートオブジェクトに紐付けられた <code>CharacterActorBehaviour</code> コンポーネントを追加済みのプレハブをベースにしています。外観の変更と他のすべてのキャラクターパラメータは、<a href="https://docs.unity3d.com/Manual/UnityEvents.html" class="vp-link" target="_blank" rel="noreferrer">Unityイベント<span class="external-link-icon"> ↗</span></a> としてルーティングされ、下層のオブジェクトの動作を任意に実装できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+FA+'" type="image/avif"><source srcset="'+MA+'"><img data-imgit-loadable alt="" width="529" height="545" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAAxAAIAAAABAAACAQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAaAAAAGwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGgAAABsAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAATG1kYXQKCDgRM6aQENACMiUVwAAASBBAe+rq6yInIFSdew+bEkb/p/ZDQLhCuLlTpgmWlQT6CgUYETOmlTIKFcAAASAAA8eEOg==" type="image/avif"><img src="//:0" alt="cover" width="529" height="545" decoding="sync"></picture></div><p>テンプレートから一般キャラクタープレハブを作成するには、コンテキストメニューから <code>Create -&gt; Naninovel -&gt; Character -&gt; Generic</code> を使用してください。</p><p>一般キャラクターで口パク機能を利用するには、 <code>CharacterActorBehaviour</code> コンポーネントの <code>On Started Speaking</code> と <code>On Finished Speaking</code> Unityイベントを使用してください。そのキャラクターが表示メッセージを話始める時（またはメッセージが完全に表示された時）イベントが呼び出され、そのキャラクターの口パクアニメーションの開始や停止などのカスタムロジックをトリガーできます。これはUIの <code>On Show</code> イベントと <code>On Hide</code> イベントの仕組みに似ています。 <a href="/naninovel-docs/ja/guide/user-interface#カスタムUIの追加" class="vp-link">UIカスタマイズガイド</a>でカスタムアニメーションの駆動に使用する方法を見つけてください。</p><p>次の動画は、3Dリグモデルを一般キャラクターとして設定し、<a href="https://docs.unity3d.com/Manual/class-AnimatorController.html" class="vp-link" target="_blank" rel="noreferrer">Animator<span class="external-link-icon"> ↗</span></a> コンポーネントでリグアニメーションの外観の変更をルーティングする例です。</p>',14),ha=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=HPxhR0I1u2Q",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:VA,type:"image/avif"}),A("source",{srcset:ZA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoJGBUjm0QICBQQMkIVwAAASFAQtwW+s3Qs6qk4XRIYbcCLR8VkERSZYm5MnFVYFToD+yOqUfz4OtqjwzonBUfQOr5oxVXOqiqXoBlbNts=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),ga=a('<p>Unityの <code>Animator</code> コンポーネントは、ゲームオブジェクトが同じフレームで有効化/無効化されると、 <code>SetTrigger</code> の登録に失敗する可能性があります。<code>GameObject.SetActive</code> で可視状態を変更する場合（上記のチュートリアルで示しています）は、代わりにレンダラーで子オブジェクトを有効/無効にすることを検討してください。</p><h2 id="ビデオキャラクター" tabindex="-1">ビデオキャラクター <a class="header-anchor vp-link" href="#ビデオキャラクター" aria-label="Permalink to &quot;ビデオキャラクター&quot;">​</a></h2><p>ビデオキャラクター（VideoCharacter）は、ループする<a href="https://docs.unity3d.com/ja/current/Manual/class-VideoClip.html" class="vp-link" target="_blank" rel="noreferrer">ビデオクリップ<span class="external-link-icon"> ↗</span></a>アセットによって外観が表されます。</p><p>各プラットフォームでサポートされているビデオフォーマットについては、<a href="https://docs.unity3d.com/ja/current/Manual/VideoSources-FileCompatibility.html" class="vp-link" target="_blank" rel="noreferrer">Unity のドキュメント<span class="external-link-icon"> ↗</span></a>を参照してください。</p><p>アルファチャンネル（透明度）のあるビデオを使用する場合は、<a href="https://docs.unity3d.com/ja/current/Manual/VideoTransparency.html" class="vp-link" target="_blank" rel="noreferrer">サポートされているフォーマットのガイド<span class="external-link-icon"> ↗</span></a>を参照してください。</p><h2 id="live2d-キャラクター" tabindex="-1">Live2D キャラクター <a class="header-anchor vp-link" href="#live2d-キャラクター" aria-label="Permalink to &quot;Live2D キャラクター&quot;">​</a></h2><p>Live2D キャラクターの実装は、<a href="https://www.live2d.com" class="vp-link" target="_blank" rel="noreferrer">Live2D Cubism<span class="external-link-icon"> ↗</span></a> 2Dモデリングとアニメーションソフトで制作されたアセットを使用します。</p><p>利用するには、始めに <a href="https://live2d.github.io/#unity" class="vp-link" target="_blank" rel="noreferrer">Live2D Cubism SDK for Unity<span class="external-link-icon"> ↗</span></a> をインストールする必要があります。インストール方法や使い方は、公式のLive2Dドキュメントをご覧ください。</p><p>その後 <a href="https://github.com/naninovel/samples/raw/main/unity/live2d/NaninovelLive2D.unitypackage" class="vp-link" target="_blank" rel="noreferrer">Live2D 拡張パッケージ<span class="external-link-icon"> ↗</span></a> をダウンロードします。</p><p>実装に使用される Live2D モデルプレハブには、ルートオブジェクトに紐付けられた <code>Live2DController</code> コンポーネントが必要です。外観の変更は、<a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" class="vp-link" target="_blank" rel="noreferrer">SetTrigger<span class="external-link-icon"> ↗</span></a> コマンドの外観がトリガー名であるため、アニメーターコンポーネントにルーティングされます。たとえば、Live2Dキャラクタープレハブ &quot;Kaori&quot; があり、&quot;Surprise&quot; という名前のトリガーを呼び出したい場合は、次のコマンドを使用します:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kaori.Surprise</span></span></code></pre></div><p>上記のコマンドは、プレハブに紐付けられたアニメーターコントローラーで &quot;Surprise&quot; 引数を指定して <a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" class="vp-link" target="_blank" rel="noreferrer">SetTrigger<span class="external-link-icon"> ↗</span></a> を呼び出すのみです。基礎となる <a href="https://docs.unity3d.com/Manual/Animator" class="vp-link" target="_blank" rel="noreferrer">animator<span class="external-link-icon"> ↗</span></a> ステートマシンは自分で作成する必要があります。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Cubism SDK for Unity 最新バージョンは <code>Animator</code> コンポーネントと直接連携しています。これまで Cubism 2.x で使われていた式とポーズは <a href="https://docs.live2d.com/cubism-sdk-tutorials/blendexpression" class="vp-link" target="_blank" rel="noreferrer">非推奨<span class="external-link-icon"> ↗</span></a> となっており、Live2D用 Naninovel 拡張機能ではサポートしていません。</p></div><p>Live2Dの <code>CubismLookController</code> および <code>CubismMouthController</code> コンポーネントが存在し、Live2Dモデルプレハブに設定されている場合、<code>Live2DController</code> で任意にキャラクターの視線の向きと口のアニメーション（口パク機能）を制御できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+RA+'" type="image/avif"><source srcset="'+UA+'"><img data-imgit-loadable alt="" width="483" height="111" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABBAAIAAAABAAACEQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAABgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAAYAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAXG1kYXQKCDgQr1pAQ0AIMjUVwAAASQRQ8FyohdCkVWJHWrPV2yZT88IcQt+BaGvIwSP/libi6WhJfxEyzwGNdjqZH+EvIAoFGBCvWlQyChXAAAEgAAJrDuE=" type="image/avif"><img src="//:0" alt="cover" width="483" height="111" decoding="sync"></picture></div><p>設定方法の詳細は Live2D ドキュメントの <a href="https://docs.live2d.com/cubism-sdk-tutorials/lookat" class="vp-link" target="_blank" rel="noreferrer">視線の追従<span class="external-link-icon"> ↗</span></a> と <a href="https://docs.live2d.com/cubism-sdk-tutorials/lipsync" class="vp-link" target="_blank" rel="noreferrer">口パク<span class="external-link-icon"> ↗</span></a> を参照してください。</p><p><code>Live2DController</code> は Live2DモデルをUnityにインポートするときに自動的に作成されるLive2D モデルプレハブ内に、 &quot;Drawables&quot; ゲームオブジェクトがあると想定しています。コントローラは <a href="/ja/api/#char" target="_blank"><code>@char</code></a> コマンドの &quot;scale&quot; パラメータに沿って、実行時にこのゲームオブジェクトをスケーリングします。したがって、エディターで設定したローカルスケールの値は無視されます。Live2D プレハブで初期スケールを設定するには、<a href="https://youtu.be/rw_Z69z0pAg?t=353" class="vp-link" target="_blank" rel="noreferrer">この動画のように<span class="external-link-icon"> ↗</span></a> 親ゲームオブジェクトのスケーリングを使用してください。</p><p>次のビデオガイドでは、 Cubism Editor からの Live2D キャラクターのエクポートプレハブの設定、簡単なアニメーターステートマシンの作成、naninovelスクリプトでのキャラクターの操作について解説しています。</p>',18),ma=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=rw_Z69z0pAg",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:SA,type:"image/avif"}),A("source",{srcset:TA}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA9AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABFbWRhdAoJGAz+GiBAQKCAMjAVwAQQAASEAADKEMSZg+ZDVpE+rtbtXxnemtXCMdfa0i1Gn0z7qBXB3uOFsA4UWg4=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/rw_Z69z0pAg?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),ua=a('<div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p><a href="https://github.com/Naninovel/Live2D" class="vp-link" target="_blank" rel="noreferrer">GitHubのサンプルプロジェクト<span class="external-link-icon"> ↗</span></a> で Naninovel で Live2D キャラクターを扱っているので、参考にしてください。Naninovel と Live2D SDK パッケージはプロジェクトと一緒に配布されていないため、初めて開く際にコンパイルエラーが発生します。アセットストアから Naninovel パッケージをインポートし、ウェブサイトから Live2D Cubism SDK をインポートして問題を解決してください。</p></div><h2 id="spine-キャラクター" tabindex="-1">Spine キャラクター <a class="header-anchor vp-link" href="#spine-キャラクター" aria-label="Permalink to &quot;Spine キャラクター&quot;">​</a></h2><p>Spine キャラクターの実装は、<a href="http://esotericsoftware.com" class="vp-link" target="_blank" rel="noreferrer">Spine<span class="external-link-icon"> ↗</span></a> という 2D モデリング・アニメーションソフトで制作されたアセットを使用します。</p>',3),ba=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"404"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-08b04de115d97427d152cb5f37065d2d.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-08b04de115d97427d152cb5f37065d2d.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoGGBUjm0AQMkUVwAggQQSAAADS2NTScVlatscM7bjqlUtHUq62TrQcIvebVWbn0DXf791Sx67MzfAPseXuRdvyB7mSnzgZTPID3WMTl6A=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"404",decoding:"sync"})])],-1),ya=a('<p>この実装を使用するためには、最初に <a href="http://esotericsoftware.com/spine-unity-download" class="vp-link" target="_blank" rel="noreferrer">Spine runtime for Unity<span class="external-link-icon"> ↗</span></a> をインストールします。インストール方法や使用方法については、<a href="http://esotericsoftware.com/spine-unity" class="vp-link" target="_blank" rel="noreferrer">公式ドキュメント<span class="external-link-icon"> ↗</span></a>を参照してください。</p><p>次に、Naninovel の <a href="https://github.com/Naninovel/Spine/raw/main/NaninovelSpine.unitypackage" class="vp-link" target="_blank" rel="noreferrer">Spine 拡張パッケージ<span class="external-link-icon"> ↗</span></a>をダウンロードし、インポートします。</p><p>実装のリソースとして使用される Spine キャラクターのプレハブは、ルートのオブジェクトに <code>Spine Controller</code> コンポーネントがアタッチされている必要があります。Naninovel スクリプトのコマンド（<code>@char</code> など）による外観の変更は、<a href="/naninovel-docs/guide/characters#generic-characters" class="vp-link">一般キャラクターの実装</a>と同様に、Controller の <code>On Appearance Changed</code> イベントにルーティングされます。Spine の <code>SetAnimation</code> メソッドを使用したり、Unity の Animator Controller のトリガーを起動したりといったように、自由にイベントを扱うことができます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+jA+'" type="image/avif"><source srcset="'+HA+'"><img data-imgit-loadable alt="" width="494" height="442" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA3AAIAAAABAAACBwAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAFQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAUm1kYXQKCDgRL0aQENACMisVwAAASEcAvIEI0jMZDjkz+E7vDneHTUaT2bNlDoil+QVL2Q9absqr5d/ACgUYES9GlTIKFcAAASAAA8eEOg==" type="image/avif"><img src="//:0" alt="cover" width="494" height="442" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>Spine Controller</code> を継承したカスタムコンポーネントを使用することもできます。これにより、仮想メソッドや関連する動作をオーバーライドすることができます（例えば、特定の期間やトランジションパラメータで外観の変化を処理するなど）。</p></div><p>内部的には、Spine モデルはテクスチャにレンダリングされ、それがスクリーンに投影されます。これは、キャラクターをフェードする際に、半透明のオーバードローのアーティファクトを防ぐために必要です。テクスチャのサイズを指定するには、<code>Render Canvas</code> コンポーネントを使用します（<code>Spine Controller</code> の追加時に自動的にアタッチされます）。プレハブモード時に現在のサイズをプレビューする<a href="https://docs.unity3d.com/Manual/GizmosMenu.html" class="vp-link" target="_blank" rel="noreferrer">ギズモ<span class="external-link-icon"> ↗</span></a>を有効にしてください。サイズが大きくなると、テクスチャーが消費するメモリも大きくなるので、できるだけ小さくしておきましょう。</p><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Spine キャラクターを Naninovel で使用する<a href="https://github.com/Naninovel/Spine" class="vp-link" target="_blank" rel="noreferrer">サンプルプロジェクト<span class="external-link-icon"> ↗</span></a>をチェックしてください。</p></div><h2 id="ナレーターキャラクター" tabindex="-1">ナレーターキャラクター <a class="header-anchor vp-link" href="#ナレーターキャラクター" aria-label="Permalink to &quot;ナレーターキャラクター&quot;">​</a></h2><p>ナレーターキャラクターは、シーン上に目に見える形（外見、位置、視線方向、色合いなど）では存在しませんが、プリンターメッセージを作成することができ、関連する構成オプション（表示名、メッセージカラー、リンクされたプリンターなど）を持っています。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+NA+'" type="image/avif"><source srcset="'+qA+'"><img data-imgit-loadable alt="" width="720" height="266" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABsAAIAAAABAAACPAAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAADQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAAA0AAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAh21kYXQKCDgU48aQENACMmAVwAghAQSEIQDuTdybxecdJFQbGpYXOoB3PpnQuJQCMIsJpAturKTrDafR95oeejGqcm1A7wTAq+pokWrnG+u55WGnSBXFyLIKgy1hCyraTdKTyNuq+MMtqVyB15fsRMAKBRgU48aVMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="266" decoding="sync"></picture></div><h2 id="テクスチャへのレンダリング" tabindex="-1">テクスチャへのレンダリング <a class="header-anchor vp-link" href="#テクスチャへのレンダリング" aria-label="Permalink to &quot;テクスチャへのレンダリング&quot;">​</a></h2><p>すべての実装（一般キャラクターを除く）のキャラクターアクターと背景アクターは、テクスチャアセットにレンダリングすることができます。このアセットは、カスタム UI、プリンタ、マテリアル、またはその他の互換性のあるソースに割り当てることができます。</p><p><code>Render Texture</code> プロパティを持つアクターの設定で、レンダーテクスチャアセットを割り当ててください。テクスチャが割り当てられると、アクターはシーン上のゲームオブジェクトとしては表示されず、そのテクスチャにレンダリングされます。また、<code>Correct Render Aspect</code> プロパティが出現します。これは、レンダーテクスチャの解像度にかかわらず、レンダリングされたアクターがアスペクト比を維持するかどうかをコントロールします。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+PA+'" type="image/avif"><source srcset="'+OA+'"><img data-imgit-loadable alt="" width="720" height="341" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABXAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABfbWRhdAoIOBUjg0gIaAEySxXABBBCBIAFAOElHc4wGXVj7aMF1MI+AusJPOxCgRG5cjuUgq7zF8KodvTimT0TZjJjR4cM+m0yWr44ZIJtOqIyrJm5RFul7O9CFw==" type="image/avif"><img src="//:0" alt="cover" width="720" height="341" decoding="sync"></picture></div><p>アクターがテクスチャにレンダリングされると、トランスフォーム（位置、回転、スケール）やその他の変更は何の効果もないことに注意してください。代わりに、レンダーテクスチャのホストオブジェクトを変更してください（例：テクスチャが UI の RawImage コンポーネントに割り当てられている場合は、Image）。</p><p>下のビデオは、Live2D キャラクターを、カスタムテキストプリンターに割り当てられたテクスチャにレンダリングする方法を示しています。プリンターはキャラクターにリンクされているので、関連するテキストメッセージが処理されると、キャラクターは自動的にプリンターと一緒に表示されたり隠れたりします。</p>',16),ka=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=81OTbSAnWbw",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:zA,type:"image/avif"}),A("source",{srcset:LA}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAwAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA4bWRhdAoJGAz+GiBAQKCAMiMVwAAASBAQndzACnSsYe3piUd6rrq7LEntvoXGOqeBpQid4A==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/81OTbSAnWbw?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Ba=a('<div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Live2D キャラクターをテクスチャにレンダリングし、テキストプリンターと結合する完全な作例が、<a href="https://github.com/Naninovel/Live2D" class="vp-link" target="_blank" rel="noreferrer">GitHub の Naninovel Live2D プロジェクト<span class="external-link-icon"> ↗</span></a>にあります。</p></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>一般キャラクターを除いた他のキャラクター、および背景の実装タイプは、上述の Live2D のものと同様、テクスチャにレンダリングするように設定できます。</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><a href="https://docs.unity3d.com/ja/current/Manual/com.unity.addressables.html" class="vp-link" target="_blank" rel="noreferrer">Addressables パッケージ<span class="external-link-icon"> ↗</span></a>を使用している場合、Unity は<a href="https://issuetracker.unity3d.com/product/unity/issues/guid/1277169" class="vp-link" target="_blank" rel="noreferrer">アセットの参照を適切に追跡できない<span class="external-link-icon"> ↗</span></a>ため、ビルド時にレンダーテクスチャの重複が発生し、この機能が正しく動作しないことがあります。参照を手動で（<code>AssetReference API</code> で）処理するか、以下の図のように <code>Get Actor Render Texture</code> コンポーネントを使用してください。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+KA+'" type="image/avif"><source srcset="'+JA+'"><img data-imgit-loadable alt="" width="494" height="357" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABCAAIAAAABAAACEgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABEAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAXW1kYXQKCDgRLwaQENACMjYVwAAASBBQvIELhfxujLN2HCoTXVO2rPFYjN0peSB1TuK4y97dGOmbRScUmPHfa+yC/nrpb4AKBRgRLwaVMgoVwAABIAADx4Q6" type="image/avif"><img src="//:0" alt="cover" width="494" height="357" decoding="sync"></picture></div></div>',3),va=[$A,Aa,aa,ea,ia,ta,sa,la,ca,oa,na,ra,pa,da,ha,ga,ma,ua,ba,ya,ka,Ba];function wa(Ca,_a,Qa,Ga,Ya,fa){return s(),t("div",null,va)}const Ia=i(eA,[["render",wa]]);export{Wa as __pageData,Ia as default};
