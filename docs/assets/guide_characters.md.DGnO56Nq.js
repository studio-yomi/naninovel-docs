import{_ as t,c as i,o as s,f as e,D as A,a,at as o,au as n,aJ as r,aK as c,aL as l,aM as d,aN as p,aO as h,aP as m,aQ as g,aR as u,aS as y,av as b,aw as v,aT as k,aU as w,aV as B,aW as f,aX as C,aY as G,aZ as Q,a_ as Y,a$ as _,b0 as x,b1 as E,b2 as I,b3 as W,b4 as D,b5 as F,b6 as X,b7 as M,b8 as V,b9 as T,ba as Z,bb as R,bc as S,bd as U,be as j,bf as H,bg as N,bh as q,bi as P,bj as z,bk as O,bl as L,bm as K,bn as J,bo as $,bp as AA,bq as eA,br as aA,bs as tA,bt as iA,bu as sA,bv as oA,bw as nA,bx as rA,by as cA,bz as lA,bA as dA,bB as pA,bC as hA}from"./chunks/framework.BG74BkEs.js";const da=JSON.parse('{"title":"Characters","description":"","frontmatter":{},"headers":[],"relativePath":"guide/characters.md","filePath":"guide/characters.md","lastUpdated":1704924775000}'),mA={name:"guide/characters.md"},gA=C+" 1x",uA=G+" 1x",yA=o+" 1x",bA=n+" 1x",vA=Q+" 1x",kA=Y+" 1x",wA=_+" 1x",BA=x+" 1x",fA=E+" 1x",CA=I+" 1x",GA=W+" 1x",QA=D+" 1x",YA=F+" 1x",_A=X+" 1x",xA=r+" 1x",EA=c+" 1x",IA=M+" 1x",WA=V+" 1x",DA=T+" 1x",FA=Z+" 1x",XA=l+" 1x",MA=d+" 1x",VA=p+" 1x",TA=h+" 1x",ZA=R+" 1x",RA=S+" 1x",SA=U+" 1x",UA=j+" 1x",jA=H+" 1x",HA=N+" 1x",NA=m+" 1x",qA=g+" 1x",PA=q+" 1x",zA=P+" 1x",OA=z+" 1x",LA=O+" 1x",KA=u+" 1x",JA=y+" 1x",$A=L+" 1x",Ae=K+" 1x",ee=J+" 1x",ae=$+" 1x",te=AA+" 1x",ie=eA+" 1x",se=aA+" 1x",oe=tA+" 1x",ne=b+" 1x",re=v+" 1x",ce=iA+" 1x",le=sA+" 1x",de=k+" 1x",pe=w+" 1x",he=oA+" 1x",me=nA+" 1x",ge=rA+" 1x",ue=cA+" 1x",ye=lA+" 1x",be=dA+" 1x",ve=pA+" 1x",ke=hA+" 1x",we=B+" 1x",Be=f+" 1x",fe=e('<h1 id="characters" tabindex="-1">Characters <a class="header-anchor vp-link" href="#characters" aria-label="Permalink to &quot;Characters&quot;">​</a></h1><p>Characters are actors used to represent scene entities that are placed on top of the <a href="/naninovel-docs/guide/backgrounds" class="vp-link">backgrounds</a>.</p><p>A character actor is defined with a name, appearance, visibility, transform (position, rotation, scale) and look direction. It can change appearance, visibility, transform and look direction over time.</p><p>Characters&#39; behavior can be configured using <code>Naninovel -&gt; Configuration -&gt; Characters</code> context menu; for available options see <a href="/naninovel-docs/guide/configuration#characters" class="vp-link">configuration guide</a>. The characters&#39; resources manager can be accessed using <code>Naninovel -&gt; Resources -&gt; Characters</code> context menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+gA+'" type="image/avif"><source srcset="'+uA+'"><img data-imgit-loadable alt="Add Character" width="720" height="365" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABEAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABMbWRhdAoIOBUji0gIaAEyOBXACCCCBIRBAMaQNA5VnT4S2aw/UzApdDUPhBZYrXPXxMpNxsiI639/7JKGVPs2c96MsNA/p68Q" type="image/avif"><img src="//:0" alt="cover" width="720" height="365" decoding="sync"></picture></div><p>In case you have a lot of characters and/or appearances per character and it&#39;s inconvenient to assign them all via editor menu, use actor record assets (<code>Create -&gt; Naninovel -&gt; Actor Record -&gt; Character</code>) which support multi-editing and organizing the records with folders; check the video below for an example.</p>',6),Ce=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=2YP-36THHvk",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:yA,type:"image/avif"}),A("source",{srcset:bA}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABHAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABPbWRhdAoJGAz+GiBAQKCAMjoVwAAASEAQxJvPcHnpChNZI20NPfTP7Yc2PSeqVIiLxnDve2WVgILcGryMXFiclxhCTrBG8M8fl0Pe",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/2YP-36THHvk?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Ge=e(`<p>It&#39;s possible to use <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">addressable asset system</a> to associate resources with actor records without using editor menus. Eg, to associate a &quot;Happy&quot; appearance with &quot;Kohaku&quot; character, assign the texture asset following address: <code>Naninovel/Characters/Kohaku/Happy</code> and assign <code>Naninovel</code> label to the asset in addressable group configuration. Be aware, that addressable provider is not used in editor by default; you can allow it by enabling <code>Allow Addressable In Editor</code> property in resource provider configuration menu. Find more info on using addressable provider in the <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">resource providers documentation</a>.</p><p>In naninovel scripts, characters are mostly controlled with <a href="/api/#char" target="_blank"><code>@char</code></a> command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Shows character with name \`Sora\` with a default appearance.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Same as above, but sets appearance to \`Happy\`.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora.Happy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Same as above, but also positions the character 45% away from the left</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; border of the scene and 10% away from the bottom border;</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; also makes him look to the left.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Sora.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> look:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">left</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">45,10</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Consider using <a href="https://github.com/idaocracy/NaninovelSceneAssistant" class="vp-link" target="_blank" rel="noreferrer">Scene Assistant<span class="external-link-icon"> ↗</span></a> extension to help with positioning the actors on scene.</p></div><h2 id="poses" tabindex="-1">Poses <a class="header-anchor vp-link" href="#poses" aria-label="Permalink to &quot;Poses&quot;">​</a></h2><p>Each character has <code>Poses</code> property allowing to specify named states (poses).</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+vA+'" type="image/avif"><source srcset="'+kA+'"><img data-imgit-loadable alt="" width="720" height="559" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABTAAIAAAABAAACIwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAHAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABwAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAb21kYXQKCDgVI9tICGgBMkcVwAQQQgSIBQDmYCk1Y5WQBi1+GGn2Lb/MZe9FjeOF8jvhiITDwnfImbzZBl8huusnV+5D0kIQQp4q6mz/HeD3rO5+8waeKQoGGBUj20qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="559" decoding="sync"></picture></div><p>Pose name can be used as appearance in <a href="/api/#char" target="_blank"><code>@char</code></a> command to apply all the selected parameters specified in the pose at once, instead of specifying them individually via the command parameters.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given `SuperAngry` pose is defined for `Kohaku` character,</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; applies all the selected parameters specified in the pose.</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Same as above, but using `DropFade` transition over 3 seconds.</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> transition:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">DropFade</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">3</span></span></code></pre></div><p>Notice, that when a pose is used as appearance, you can still override individual parameters, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given `SuperAngry` pose is defined for `Kohaku` character,</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; applies all the parameters specified in the pose state,</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; except tint, which is overridden in the command.</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.SuperAngry</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> tint:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">#ff45cb</span></span></code></pre></div><p>In the character and background configurations you can also find <code>Shared Poses</code> — these poses are shared between all the respective actors. Example use cases for shared poses are re-using speaking/non-speaking template or creating pre-defined stages respective to camera.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+wA+'" type="image/avif"><source srcset="'+BA+`"><img data-imgit-loadable alt="" width="720" height="479" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABNAAIAAAABAAACHQAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABgAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAaW1kYXQKCDgVI7tICGgBMkEVwAAASBBQ4xzgDFWR4oqustP/OQ5WcblI6pd/jBHVkMx4vTNsBZZZvO2ZfH+smpJYvVFeKLPN+GVu93gtAcMXOAoGGBUju0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="479" decoding="sync"></picture></div><p>Both per-actor and shared poses can also be applied via dedicated <code>pose</code> parameter:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pose:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">DownLeft</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Yuko.Surprise</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pose:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">UpCenter</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Misaki</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pose:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">UpRight</span></span></code></pre></div><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+fA+'" type="image/avif"><source srcset="'+CA+'"><img data-imgit-loadable alt="" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAACwAAIAAAABAAACgAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAzG1kYXQKCDgVI5tICGgBMqMBFcAAAEhBEMaQM4eGC+5aGRm9+TIN07wfDC9V4Ed3gtdKI1j4i3wWTFul11FdPm8iph1FQvywqrwI0W+SCtVhdGBuZE8fgNCl9P2g7/MwwGUwyiSMCxAd7axf7t66uc4cpzKNIIsc0tc8w8WpsjrAJRrVQegsKyI6z0j2eLualj7rE+0/UR0yLONiZDR2e1FMzLLPGmE44hancRgwflumvhd+0AoGGBUjm0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>Per-actor poses have priority over shared poses meaning if actor pose name is equal to a shared pose, actor&#39;s pose will be used. This allows overriding shared poses for specific actors when necessary.</p><h2 id="display-names" tabindex="-1">Display Names <a class="header-anchor vp-link" href="#display-names" aria-label="Permalink to &quot;Display Names&quot;">​</a></h2><p>In the character configuration you can set a <code>Display Name</code> for specific characters. When set, display name will be shown in the printer name label UI, instead of the character&#39;s ID. This allows using compound character names, that contains spaces and special characters (which is not allowed for IDs).</p><p>Alternatively, the names can be specified with &quot;CharacterNames&quot; <a href="/naninovel-docs/guide/managed-text" class="vp-link">managed text</a> document, which is automatically created when running generate managed text resources task. Use this to localize display names and/or edit them outside of Unity editor. Records in the managed text document have priority over display names set in actor configuration and will override them.</p><p>It&#39;s possible to bind a display name to a custom variable to dynamically change it throughout the game via naninovel scripts. To bind a display name, specify name of the custom variable wrapped in curly braces in the character configuration menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+GA+'" type="image/avif"><source srcset="'+QA+`"><img data-imgit-loadable alt="" width="720" height="343" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABQAAIAAAABAAACIAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABEAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAbG1kYXQKCDgVI4NICGgBMkQVwAgggISEAADrlGgiI2ww+dCWTYzwdigrpPPzXUOwdcJVykARIcauLXqamvAKOxAerMgtOlAUw4UKNMmGTIwFD+tykQoGGBUjg0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="343" decoding="sync"></picture></div><p>You can then change the variable value in the scripts and it will also change the display name:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@set</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName=&quot;Mistery Man&quot;</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@set</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName=&quot;Dr. Stein&quot;</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> You can call me Dr. Stein.</span></span></code></pre></div><p>It&#39;s also possible to use the name binding feature to allow player pick their display name using <a href="/api/#input" target="_blank"><code>@input</code></a> command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@input</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PlayerName</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> summary:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;Choose your name.&quot;</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Player:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> You can call me </span><span style="--shiki-light:#3ABFB3;--shiki-dark:#62B8C1;">{PlayerName}</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">.</span></span></code></pre></div><p>The content of the curly braces is actually treated as a full-fledged <a href="/naninovel-docs/guide/script-expressions" class="vp-link">script expression</a>, allowing complex scenarios for evaluating the display name. For example, you may want to keep a pre-defined localizable display name for a character until some point and then let the player pick a custom name.</p><p>Let&#39;s say the character in questions has &quot;Char1&quot; ID, pre-defined name is stored as &quot;T_PredefinedName&quot; <a href="/naninovel-docs/guide/managed-text#script-text" class="vp-link">managed text record</a>, the value entered by the player will be stored as &quot;name&quot; <a href="/naninovel-docs/guide/custom-variables" class="vp-link">custom variable</a> and &quot;nameSet&quot; variable will be set to &quot;true&quot; when player has set the name. Assign the following expression to the <code>Display Name</code> property: <code>{ nameSet ? name : T_PredefinedName }</code>.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+YA+'" type="image/avif"><source srcset="'+_A+`"><img data-imgit-loadable alt="" width="720" height="343" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABPAAIAAAABAAACHwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABEAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAa21kYXQKCDgVI4NICGgBMkMVwAQQQQSAAADrlGelo8lb3K7ZFNCkiJbyU1BDaJzC1kCV231ElqxhOf5psve3dfCoESlrnilH8neT0mrFmsXGA8dQCgYYFSODSoAyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="343" decoding="sync"></picture></div><p>Then use the following scenario script:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Char1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Char1:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> My name is now pre-defined by \`T_PredefinedName\` managed text record.</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Char1:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> It&#39;s localizable; try changing the locale and it will update accordingly.</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Char1:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Now, we&#39;ll make the player input a custom name.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Notice the default input value assigned via \`value\` parameter:</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; it&#39;s retrieved from managed text and is localizable as well.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@input</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> name</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> summary:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;Choose your name.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> value:</span><span style="--shiki-light:#3ABFB3;--shiki-dark:#62B8C1;">{T_DefaultName}</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Here we set the variable, that is used in the expression</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; for display name to decide where to get the value from.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@set</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> nameSet=true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Char1:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> My display name is now bound to \`name\` custom variable.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span></code></pre></div><h2 id="message-colors" tabindex="-1">Message Colors <a class="header-anchor vp-link" href="#message-colors" aria-label="Permalink to &quot;Message Colors&quot;">​</a></h2><p>When <code>Use Character Color</code> is enabled in the character configuration, printer text messages and name labels will be tinted in the specified colors when the corresponding character ID is specified in a <a href="/api/#print" target="_blank"><code>@print</code></a> command or generic text line.</p><p>The following video demonstrates how to use display names and character colors.</p>`,34),Qe=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=u5B5s-X2Bw0",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:xA,type:"image/avif"}),A("source",{srcset:EA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABcAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABkbWRhdAoJGBUjm0QICBQQMk8VwBBAAQSAAAC1yW017p+S8T795eTW5c009vdxqN5kN/Ym+BqPhzos3nKgoP0H858oxUrRlKNDz7wL/fB7TqGhCd5qSSgLagyu9Hm0vXKA",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/u5B5s-X2Bw0?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Ye=e('<h2 id="avatar-textures" tabindex="-1">Avatar Textures <a class="header-anchor vp-link" href="#avatar-textures" aria-label="Permalink to &quot;Avatar Textures&quot;">​</a></h2><p>You can assign avatar textures to characters using <code>avatar</code> parameter of <a href="/api/#char" target="_blank"><code>@char</code></a> command. Avatars will be shown by the compatible text printers when they print a text message that is associated with the character.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+IA+'" type="image/avif"><source srcset="'+WA+'"><img data-imgit-loadable alt="" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAClAAIAAAABAAACdQAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAwW1kYXQKCDgVI5tICGgBMpgBFcAUUQUEgQQA410EIDEqvj9Zht6SL8BfVDP47cOqDaosiM8jBogH5X0lFA1+kVa7VdcLO77KsDLKG7IckVbRCSKe3lj0lwvwwCt60cJdfha9uneIzc1zbqlRmjv8cUeGL0FPmQSbJIFpth+PhGBTokxoqLQS+JuC+/iGhWWGXmiS2EqA6+y1TKlWOqGle8LFDQ6/0ZxUjkAKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>Currently, only <code>Wide</code> and <code>Chat</code> built-in printers (as well as their TMPro-counterparts) support the avatars feature. In order to support the feature in a custom printer, assign a game object with <code>Author Image</code> component to <code>Author Avatar Image</code> property of <code>Revealable Text Printer Panel</code> component.</p><p>To use any given avatar, you have to first add it to the avatar resources and give it a name. You can do this via <code>Avatar Resources</code> property in the characters configuration menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+DA+'" type="image/avif"><source srcset="'+FA+'"><img data-imgit-loadable alt="" width="720" height="361" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABbAAIAAAABAAACKwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABIAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAd21kYXQKCDgVI4tICGgBMk8VwAIIAgSABADg041LFcaWlX5nEJYrxOrrpRMbEdKSt+ZwW/WaZ7wjxxLd7HheeMKJqTW1/UWAozb1fR32gLH1QbPkHZMmPgRSz7YtWrCACgYYFSOLSoAyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="361" decoding="sync"></picture></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>Avatar names can be arbitrary and don&#39;t have to contain an existing character ID or appearance. This is only required when you want to associate an avatar with a character so that it&#39;s shown automatically.</p></div><p>You can then show a specific avatar texture like this:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharacaterId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> avatar:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">AvatarName</span></span></code></pre></div><p>To set a default avatar for a character, give the avatar texture resource name that equals to <code>CharacterID/Default</code>; eg, to set a default avatar for character with ID <code>Kohaku</code> name the avatar resource <code>Kohaku/Default</code>. Default avatars will be shown automatically, even when <code>avatar</code> parameter is not specified in the <a href="/api/#char" target="_blank"><code>@char</code></a> commands.</p><p>It&#39;s also possible to associate avatars with specific character appearances, so that when character changes appearance, the avatar will also change automatically. For this, name the avatar resources using the following format: <code>CharacterID/CharacterAppearance</code>, where <code>CharacterAppearance</code> is the name of the appearance for which to map the avatar resource.</p><p>To show only the avatar of a character inside a text printer, but hide the character itself, set <code>visible</code> parameter of the <a href="/api/#char" target="_blank"><code>@char</code></a> command to <code>false</code>, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharacaterId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> visible:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span></code></pre></div><p>In case you&#39;re constantly changing avatars while the character itself should remain hidden, consider disabling <code>Auto Show On Modify</code> in the characters configuration menu; when disabled, you won&#39;t have to specify <code>visible:false</code> to change any parameters of the character while it&#39;s hidden.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>The <strong>avatars are not directly connected with character appearances</strong> and shouldn&#39;t be considered as a way to represent a character on scene. Avatars is a standalone feature, that &quot;injects&quot; an arbitrary image to a compatible text printer. In case you want an actual character appear inside a text printer (or a custom UI), check <a href="/naninovel-docs/guide/characters.html#render-to-texture" class="vp-link">render actor to texture</a> feature.</p></div><h2 id="speaker-highlight" tabindex="-1">Speaker Highlight <a class="header-anchor vp-link" href="#speaker-highlight" aria-label="Permalink to &quot;Speaker Highlight&quot;">​</a></h2><p>When enabled in the character configuration, will set specified <a href="/naninovel-docs/guide/characters#poses" class="vp-link">poses</a> to the character based on whether the last printed message is associated with it. The video below demonstrates the feature with a previous version of Naninovel, where it was possible to apply only tint color for speakers; setup with the current version is similar, but instead tint color, specify a pose name.</p>',17),_e=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=gobowgagdyE",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:XA,type:"image/avif"}),A("source",{srcset:MA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABnAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABvbWRhdAoJGBUjm0QICBQQMloVwAggggSAAAC3Rmq/+0w5/C4M5IBXVhUrf57TOdV4z4oVXz8KEuQC6CbqFXRvyovHHGw9XPK2lxagb7AoytPlxI9uBCQ7RU00aTHL3BlVYyVq4XxkwhCp2TY=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/gobowgagdyE?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),xe=A("h2",{id:"lip-sync",tabindex:"-1"},[a("Lip Sync "),A("a",{class:"header-anchor vp-link",href:"#lip-sync","aria-label":'Permalink to "Lip Sync"'},"​")],-1),Ee=A("h3",{id:"event-driven",tabindex:"-1"},[a("Event Driven "),A("a",{class:"header-anchor vp-link",href:"#event-driven","aria-label":'Permalink to "Event Driven"'},"​")],-1),Ie=A("p",null,[a("Animatable character implementations (generic, layered, Live2D, etc) provide "),A("code",null,"On Started Speaking"),a(" and "),A("code",null,"On Finished Speaking"),a(" Unity events. When such character becomes or ceases to be the author of a printed message (or rather when the message is fully revealed), the events will be invoked allowing you to trigger any custom logic, like starting or stopping mouth animation of the controlled character.")],-1),We=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=fx_YS2ZQGHI",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:VA,type:"image/avif"}),A("source",{srcset:TA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABrAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABzbWRhdAoJGBUjm0QICBQQMl4VwBRQAASEIQDW9/P3A9G6hcaphSnC0FPmvjjnXbZvoO+j+aP7zKEj1sdI2WviKWG2xm3U5zWGJe2ye/VG17CZZe/yqp6UZqY67q21aaAX+FnmHfTTvtOr8bWoReGw",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),De=e('<p>When <a href="/naninovel-docs/guide/voicing#auto-voicing" class="vp-link">auto voicing</a> feature is enabled, the events will be driven by the voice-over; otherwise, printed text messages will activate the events. In the latter case, you&#39;ll probably want to manually mute the events (eg, to prevent mouth animation when punctuation marks are printed); for such cases, use <a href="/api/#lipsync" target="_blank"><code>@lipSync</code></a> command.</p><h3 id="audio-driven" tabindex="-1">Audio Driven <a class="header-anchor vp-link" href="#audio-driven" aria-label="Permalink to &quot;Audio Driven&quot;">​</a></h3><p>In case you&#39;d like to drive character mouth animation by the actual waves of the voice audio clips, use <code>Voice Source</code> option in the character configuration. When a prefab with Unity&#39;s <code>Audio Source</code> component is assigned, Naninovel will instantiate the prefab under the character object and play the voice of the character via the audio source component.</p><p>By having access to a dedicated audio source component used for character voice, you can hook a custom solution to analyze the waves of the played audio and drive mouth animation accordingly. There are multiple third-party solutions that can help achieve that. For example, Live2D&#39;s <code>Cubism Audio Mouth Input</code> component or <a href="https://assetstore.unity.com/packages/tools/animation/salsa-lipsync-suite-148442" class="vp-link" target="_blank" rel="noreferrer">SALSA<span class="external-link-icon"> ↗</span></a>.</p><h2 id="linked-printer" tabindex="-1">Linked Printer <a class="header-anchor vp-link" href="#linked-printer" aria-label="Permalink to &quot;Linked Printer&quot;">​</a></h2><p>It&#39;s possible to associate a <a href="/naninovel-docs/guide/text-printers" class="vp-link">text printer</a> with a character using <code>Linked Printer</code> property.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ZA+'" type="image/avif"><source srcset="'+RA+'"><img data-imgit-loadable alt="" width="541" height="145" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACQAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAbAAAABwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACYbWRhdAoIOBC1mkBDQAgygwEVwAQQcQSBIQD5Bi/d/Pld3HhlgJfLn0BeoV8obhUeaUsS8LS4ZiouRdkDnAnwEQyPHRqM8V2bQ0eEVA7azG+PJls2yJ6LqsOebkVvtsXHvp00KAatjrqIjLDN8+yr8AGnbFZ88pDRaMYGoEYe3OUr6DqDwmEzN/1qkPeqD0fF+5t/8A==" type="image/avif"><img src="//:0" alt="cover" width="541" height="145" decoding="sync"></picture></div><p>When linked, the printer will automatically be used to handle messages authored by the character.</p><p>Be aware, that <a href="/api/#print" target="_blank"><code>@print</code></a> commands (that are also used under the hood when printing generic text lines) make associated printers default and hide other visible printers by default. When printers are linked to characters, print commands will automatically change the currently visible and default text printer, while printing text associated with the corresponding characters. It&#39;s possible to prevent this behavior by disabling <code>Auto Default</code> property in printer actor configuration menu; when disabled you&#39;ll have to manually show/hide and switch default printers with <a href="/api/#printer" target="_blank"><code>@printer</code></a> commands.</p><h2 id="sprite-characters" tabindex="-1">Sprite Characters <a class="header-anchor vp-link" href="#sprite-characters" aria-label="Permalink to &quot;Sprite Characters&quot;">​</a></h2><p>Sprite implementation of the character actors is the most common and simple one; it uses a set of <a href="https://docs.unity3d.com/Manual/Textures.html" class="vp-link" target="_blank" rel="noreferrer">texture<span class="external-link-icon"> ↗</span></a> assets wrapped over a quad mesh (sprite) to represent appearances of the character. The textures can be based on <code>.jpg</code>, <code>.png</code>, <code>.tiff</code>, <code>.psd</code> or any other image file format <a href="https://docs.unity3d.com/Manual/ImportingTextures" class="vp-link" target="_blank" rel="noreferrer">supported by Unity<span class="external-link-icon"> ↗</span></a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Choose file formats that are most comfortable for your development workflow. When building the project, Unity will automatically convert all the source resources (textures, audio, video, etc) to the formats most suitable for the target platform, so it won&#39;t make difference in which format you originally store the resources in the project. Find more information on how Unity manage project assets in the <a href="https://docs.unity3d.com/Manual/AssetWorkflow" class="vp-link" target="_blank" rel="noreferrer">official documentation<span class="external-link-icon"> ↗</span></a>.</p></div><p>Initial (unscaled) size of the sprite character mesh on scene depends on the reference resolution (camera configuration), character&#39;s <code>Pixel Per Unit</code> property (set for each character actor in the configuration menu) and source texture resolution.</p><p>To achieve best render quality and optimal performance, it&#39;s generally advised to keep the default <code>Pixel Per Unit</code> value (100) for all the characters and control the desired initial character size via texture resolution. For example, given reference resolution in your game is the default <code>1920x1080</code> pixels, to make a character occupy the whole screen height, set height of the character&#39;s texture (eg, by resizing it via Photoshop or other image editor) to <code>1080</code> pixels; to make another character occupy 2/3 of the screen height, set the height to <code>1080 * 2/3</code> and so on.</p><h2 id="diced-sprite-characters" tabindex="-1">Diced Sprite Characters <a class="header-anchor vp-link" href="#diced-sprite-characters" aria-label="Permalink to &quot;Diced Sprite Characters&quot;">​</a></h2><p>Built with an open source <a href="https://github.com/elringus/SpriteDicing" class="vp-link" target="_blank" rel="noreferrer">SpriteDicing<span class="external-link-icon"> ↗</span></a> package, <code>DicedSpriteCharacter</code> implementation allows to significantly reduce build size and texture memory by reusing texture areas of the character sprites.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+SA+'" type="image/avif"><source srcset="'+UA+'"><img data-imgit-loadable alt="Sprite Dicing" width="720" height="436" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAACsAAIAAAABAAACfAAAAFsAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABYAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAABD21kYXQKCDgVI6tICGgBMp8BFcAQQUEEgAAA4NOTbOnkIjVCwMtZjG67v8EXwhBqdiGmHBNpYHIaeUe2gUtu1d3eIfAZ7wKUZxO9kz8l+4QCaQR5EYRp7p6879FurLKKNVc1Dqu5TfCzWJ5UkGoyNNb1TGDvKC/3oZpHOFnDhf2bb4N9CgNJ0CrtM1mrvn08mAh2ryisNql17xIgkllmc1qH7mLwC0bgQutHGriu4asgCgYYFSOrSoAyURXAAAEgQN8YGQMjog6kZT4Gv6HRTO5qhl9d4Dpq4tHoZsU+FmH8IB2gH1mscKP2KbRZiu55Iyu9jhQyi9tAhNLcT8vvEkmaweAoL2n3ohGpeQ==" type="image/avif"><img src="//:0" alt="cover" width="720" height="436" decoding="sync"></picture></div><p>Install the package via <a href="https://docs.unity3d.com/Manual/upm-ui.html" class="vp-link" target="_blank" rel="noreferrer">Unity package manager<span class="external-link-icon"> ↗</span></a>: open package manager window (Window -&gt; Package Manager), click &quot;+&quot; button, choose &quot;Add package from git URL&quot;, enter <code>https://github.com/elringus/SpriteDicing.git#package</code> to the input field and click &quot;Add&quot;.</p>',18),Fe=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"696",height:"416"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-b54e9daa9a483d9bf7f74f0e94b2d38a.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-b54e9daa9a483d9bf7f74f0e94b2d38a.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAtAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAiAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA1bWRhdAoGGBUhm0AQMiMVwAQQQQSBBQDgh8KXLRRjo2TEmFiVKsE5pnQ35v85//uK2g==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"696",height:"416",decoding:"sync"})])],-1),Xe=e('<div class="info custom-block"><p class="custom-block-title">NOTE</p><p>Before installing a package from a Git repository, make sure a <a href="https://git-scm.com/downloads" class="vp-link" target="_blank" rel="noreferrer">Git client<span class="external-link-icon"> ↗</span></a> is installed on your machine and Git executable path is set to the <a href="https://en.wikipedia.org/wiki/PATH_(variable)" class="vp-link" target="_blank" rel="noreferrer">PATH system environment variable<span class="external-link-icon"> ↗</span></a> (usually performed automatically during the installation).</p></div><p>When &quot;SpriteDicing&quot; extension is installed via UPM, a <code>Naninovel.DicedSpriteCharacter</code> option will appear in the character implementations list.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+jA+'" type="image/avif"><source srcset="'+HA+'"><img data-imgit-loadable alt="" width="720" height="267" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABgAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABobWRhdAoIOBTjxpAQ0AIyVBXACCDCBIQRAO5N3Jwq8c8lLfIBSW3ASPNPX5aU4h1Xju/EuIdXnCBYwjsUjGsjrq1SPgqudvHz3D/5yFj+LcFaWZzQHhF9xgGLaYplAxjOMAwEYA==" type="image/avif"><img src="//:0" alt="cover" width="720" height="267" decoding="sync"></picture></div><p><code>DicedSpriteAtlas</code> assets containing character appearances are used as the resources for the diced sprite characters. Each appearance is mapped by name to the diced sprites contained in the atlas.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Character metadata properties (eg, pixels per unit, pivot) are applied to render texture used to represent the character on scene, while similar diced atlas properties are applied to the generated diced sprites. When changing atlas properties, don&#39;t forget to rebuild it for changes to take effect.</p></div><p>Following video guide covers creating and configuring diced sprite atlas, adding new diced character based on the created atlas and controlling the character from a naninovel script.</p>',6),Me=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=6PdOAOsnhio",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:NA,type:"image/avif"}),A("source",{srcset:qA}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABIAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABQbWRhdAoJGAz+GiBAQKCAMjsVwAYYAASQAADQBs/4hTxn2iwXUzNsJ4INGe+qcJoNiMJFmGcu6LlonMNIr8pHadMYabcS0tpLF2w7oA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/6PdOAOsnhio?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Ve=e('<h2 id="layered-characters" tabindex="-1">Layered Characters <a class="header-anchor vp-link" href="#layered-characters" aria-label="Permalink to &quot;Layered Characters&quot;">​</a></h2><p>The layered implementation allows composing characters from multiple layers and then toggle them individually or in groups via naninovel scripts at runtime.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Layered actor implementation has been evolving and is currently the most flexible with support for all the rendering features (in contrast to generic). Even if you don&#39;t want to use layer expressions, but instead control the appearance with Unity&#39;s Animator or other custom systems; or need to render non-trivial objects such as particle systems and/or utilize third-party renderers, check <a href="/naninovel-docs/guide/characters#outsourcing-appearance-management" class="vp-link">render only</a> and <a href="/naninovel-docs/guide/characters#camera-rendering" class="vp-link">camera rendering</a> options available for layered actors before reserving to generic or custom implementation.</p></div><p>To create a layered character prefab, use <code>Create -&gt; Naninovel -&gt; Character -&gt; Layered</code> asset context menu. Enter <a href="https://docs.unity3d.com/Manual/EditingInPrefabMode.html" class="vp-link" target="_blank" rel="noreferrer">prefab editing mode<span class="external-link-icon"> ↗</span></a> to compose the layers. Several layers and groups will be created by default. You can use them or delete and add your own.</p><p>Each child game object of the root prefab object with a <a href="https://docs.unity3d.com/ScriptReference/Renderer.html" class="vp-link" target="_blank" rel="noreferrer">renderer<span class="external-link-icon"> ↗</span></a>-derived component (eg, <code>SpriteRenderer</code>, <code>MeshRenderer</code>, eg) is considered a <em>layer</em>; other objects considered <em>groups</em>. Aside from organization and transformation purposes, placing layers inside groups will allow you to select a single layer or disable/enable all the layers inside a group with a single expression in naninovel script (more on that later).</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>Only &quot;simple&quot; draw mode for <code>Sprite Renderer</code> is supported in default (non-camera) render mode; when choosing other modes they&#39;ll be rendered as it was set to simple.</p></div><p>To hide specific layers from being visible by default, disable renderer components (not the game objects).</p><p>The white frame drawn over the prefab is used to describe the actor canvas, which will be rendered to a render texture at runtime. Make sure to minimize the empty areas inside the frame by moving the layers and groups to prevent wasting texture memory and for anchoring to work correctly. To set a custom canvas size (eg, in case some layers are animated and can stretch out of the default canvas), add <code>Render Canvas</code> component to the root object and set <code>Size</code> property.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+PA+'" type="image/avif"><source srcset="'+zA+'"><img data-imgit-loadable alt="" width="571" height="508" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACLAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAcAAAAGQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACTbWRhdAoIOBE3hpAQ0AIyfxXADDDChIEEAJj41wl2kvmcGqJuJ0BYKVyioxo1jM5/AQHM91Enlaa8/qmEGZnpswOg2FBpoKZ79niWhC7hgmh9HTrUd1I4mC0e7ZxEFqU4kSll9IweTHR0p7eY5rolG0XLvDD9j/4TiSedgKcElhFss3yJcFGYAKLpARecOhA=" type="image/avif"><img src="//:0" alt="cover" width="571" height="508" decoding="sync"></picture></div><p>You can scale the root game object to fine-tune the default size of the actor.</p><p>When authoring layered character art in Photoshop, consider using Unity&#39;s <a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@3.0/manual/index.html" class="vp-link" target="_blank" rel="noreferrer">PSD Importer package<span class="external-link-icon"> ↗</span></a> to automatically generate character prefab preserving all the layers and their positions. To preserve the layers hierarchy, make sure to enable <code>Use Layer Grouping</code> option in the import settings.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When using sprites, set <code>Mesh Type</code> to <code>Full Rect</code> in the texture import settings to prevent rendering issues.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+OA+'" type="image/avif"><source srcset="'+LA+`"><img data-imgit-loadable alt="" width="487" height="203" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA3AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAYAAAACgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA/bWRhdAoIOBDvLSAhoAQyKxXAAghAhIQFAMVhx1GKSA+f4EqxiWHUS9LuWaHoQek0OVPPBvHaF0duhkA=" type="image/avif"><img src="//:0" alt="cover" width="487" height="203" decoding="sync"></picture></div></div><p>Don&#39;t forget to add the created layered prefab to the character resources (<code>Naninovel -&gt; Resources -&gt; Characters</code>). Choose &quot;Naninovel.LayeredCharacter&quot; implementation and drop prefab to the &quot;Resource&quot; field when configuring the resource record.</p><p>To control the layered characters in naninovel scripts, use <a href="/api/#char" target="_blank"><code>@char</code></a> command in the same way as with the other character implementations. The only difference is how you set the appearance: instead of a single ID, use the <em>layer composition expression</em>. There are three expression types:</p><ul><li>Enable a single layer in group: <code>group&gt;layer</code></li><li>Enable a layer: <code>group+layer</code></li><li>Disable a layer: <code>group-layer</code></li></ul><p>For example, consider a &quot;Miho&quot; character, which has a &quot;Body&quot; group with three layers: &quot;Uniform&quot;, &quot;SportSuit&quot; and &quot;Pajama&quot;. To enable &quot;Uniform&quot; layer and disable all the others, use the following command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.Body&gt;Uniform</span></span></code></pre></div><p>To enable or disable a layer without affecting any other layers in the group, use &quot;+&quot; and &quot;-&quot; respectively instead of &quot;&gt;&quot;. You can also specify multiple composition expressions splitting them with commas:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Enable glasses, disable hat, select &quot;Cool&quot; emotion.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Head/Accessories+BlackGlasses,Head-Hat,Head/Emotions&gt;Cool</span></span></code></pre></div><p>To select a layer outside of any groups (a child of the root prefab object), just skip the group part, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given &quot;Halo&quot; layer object is placed under the prefab root, disable it.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.-Halo</span></span></code></pre></div><p>It&#39;s also possible to affect all the layers inside a group (and additionally its neighbors when using select expression) by omitting layer name in composition expression:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Disable all the layers in &quot;Body/Decoration&quot; group.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Body/Decoration-</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Enable all the existing layers.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.+</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given \`Poses/Light\` and \`Poses/Dark\` groups, enable all the layers</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; inside \`Light\` group and disable layers inside \`Dark\` group.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CharId.Poses/Light&gt;</span></span></code></pre></div><p>The above expressions will affect not only the direct descendants of the target groups, but all the layers contained in the underlying groups, recursively.</p><p>When an appearance is not specified (eg, <code>@char CharId</code> without previously setting any appearance), a default appearance will be used; default appearance of the layered characters equals to how the layered prefab looks in the editor.</p><p>The video below demonstrates how to set up a layered character and control it via naninovel commands.</p>`,26),Te=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=Bl3kXrg8tiI",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:KA,type:"image/avif"}),A("source",{srcset:JA}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABaAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABibWRhdAoJGBUjm0QICBQQMk0VwAggAASBAAC4f8zOw29Sr3OnQpix4CNquANw4uLzXcsv3CXnHSvfz2uM28jtJ+7D8bgJ+pfjx6zXGVA71g6TX5W+MTlBk2DKZ80ZEA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/Bl3kXrg8tiI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Ze=e('<div class="info custom-block"><p class="custom-block-title">NOTE</p><p><code>@char Miho.Shoes&gt;</code> command displayed in the video will actually select the &quot;Shoes&quot; group (disabling all the neighbor groups), not hide it. Correct command to hide a group is <code>@char Miho.Shoes-</code>.</p></div><p>It&#39;s possible to map composition expressions to keys via <code>Composition Map</code> property of <code>Layered Character Behaviour</code> component:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+$A+'" type="image/avif"><source srcset="'+Ae+`"><img data-imgit-loadable alt="" width="496" height="532" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA1AAIAAAABAAACBQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAGgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABoAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAUG1kYXQKCDgRL5aQENACMikVwAAASFBQq1cYsiQj5hzk4EQWx6RlK5Gsg3AxpZYhj4lc0tviJt0IMgoFGBEvlpUyChXAAAEgAAPHhDo=" type="image/avif"><img src="//:0" alt="cover" width="496" height="532" decoding="sync"></picture></div><p>— the keys can then be used to specify layered actor appearance:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Equal to \`Body&gt;Uniform,Hair/Back&gt;Straight,Hair/Front&gt;Straight,Shoes&gt;Grey\`.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.Uniform</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Equal to \`Hair/Back&gt;Straight,Hair/Front&gt;Straight\`.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.StraightHair</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; It&#39;s also possible to combine keys and expressions.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Miho.Uniform,Hair/Front&gt;Short</span></span></code></pre></div><p>While editing layered character prefab, it&#39;s possible to preview mapped composition expressions by right-clicking a map record and selecting &quot;Preview Composition&quot;. Another menu item — &quot;Paste Current Composition&quot; — will generate current composition expression string of the character (based on enabled/disabled sprite renderers in the hierarchy) and paste it to the inspected record; use it to quickly map current prefab state to a composition item.</p>`,6),Re=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"340"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-84a2f8e51997cdccbfb8321d58586d2a.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-84a2f8e51997cdccbfb8321d58586d2a.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABdAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABlbWRhdAoGGBUjg0AQMlMVwBRQQMSBBQDwI2rmRPyrtG8pXviUCg5i6PwG8AifYM/d/5/LQPktpHWY+1pgOGK+k59NN30GBDS7hI1arWBAihvVEQ9EAwIRXVPqi+0nbsMHwA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"340",decoding:"sync"})])],-1),Se=e('<p>Be aware, that the layer objects are not directly rendered by Unity cameras at runtime; instead, they&#39;re rendered once upon each composition (appearance) change to a temporary render texture, which is then fed to a custom mesh visible to the Naninovel camera. This setup is required to prevent semi-transparency overdraw issues and to support transition animation effects.</p><p>In case you wish to apply an animation or other dynamic behaviour to the layered character, enable <code>Animated</code> property found on <code>Layered Character Behaviour</code> component. When the property is enabled, the layers will be rendered each frame (instead once per appearance change).</p><h3 id="outsourcing-appearance-management" tabindex="-1">Outsourcing Appearance Management <a class="header-anchor vp-link" href="#outsourcing-appearance-management" aria-label="Permalink to &quot;Outsourcing Appearance Management&quot;">​</a></h3><p>You may find layered implementation useful for supporting various built-in render features (semi-transparency overdraw handling, transition effects, blur and depth-of-field support, etc), but would like to use external tools for managing appearance of the actor, such as Unity&#39;s <a href="https://docs.unity3d.com/Manual/class-Animator.html" class="vp-link" target="_blank" rel="noreferrer">Animator<span class="external-link-icon"> ↗</span></a>. By default, layered behaviour will use layered expressions when notifying about appearance changes via <code>On Appearance Changed</code> event, which may not be desired in such case.</p><p>Enabling <code>Render Only</code> option will disable layer-related behaviour and make the event report the appearance as it&#39;s specified in script commands. You will also have to specify <code>Default Appearance</code> on the behaviour component to prevent it from evaluating default appearance based on the initial prefab layer composition.</p><h3 id="camera-rendering" tabindex="-1">Camera Rendering <a class="header-anchor vp-link" href="#camera-rendering" aria-label="Permalink to &quot;Camera Rendering&quot;">​</a></h3><p>In case your character prefab contains non-trivial renderers like particle systems, trails, sprite masks or custom/third-party renderers, you can still use them with layered implementation by assigning a camera to <code>Render Camera</code> field of <code>Layered Behaviour</code> component (the camera has to be inside character&#39;s prefab).</p><p>When assigned, instead of custom render procedure, the actor will use the camera to render contents, which lifts all the inherent limitations, such as lacking stencil support. The drawback is, in order to ensure the content is only rendered to the actor texture (and doesn&#39;t &quot;leak&quot; to the main camera), you&#39;ll have to reserve camera <a href="https://docs.unity3d.com/Manual/Layers.html" class="vp-link" target="_blank" rel="noreferrer">layers<span class="external-link-icon"> ↗</span></a> specifically for rendering this kind of actor.</p><p>There a total of 32 layers available in Unity, while 8 of them are reserved for engine internals. You can use remaining layers as you wish (they&#39;re unused by default). To allow Naninovel use a layer for rendering layered actors in camera mode, give the layer name starting with <code>Naninovel</code>; eg: <code>Naninovel 1</code>, <code>Naninovel 2</code> and so on.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ee+'" type="image/avif"><source srcset="'+ae+'"><img data-imgit-loadable alt="" width="494" height="490" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA/AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAYAAAAGAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABHbWRhdAoIOBEvdpAQ0AIyMxXAAABJwgC8gQnT0kK8g7YQZRFf9xLgP00/X//S4M9ygOLZ+V1FVqYcHUSw0iPAdCK3qA==" type="image/avif"><img src="//:0" alt="cover" width="494" height="490" decoding="sync"></picture></div><p>Total number of layers to add depends on how many actors you want to be displayed at the same time. When layered actor is rendered, it holds a layer from the pool. When the actor hidden, it releases the layer, allowing it to be re-used by other actors. Be aware, that layered actors are rendered on appearance change, which happens when they&#39;re initially added to scene (even if they&#39;re initially hidden), so layer pool size should accommodate total number of camera-rendered actors in a scenario script.</p><p>While in camera rendering mode, game objects of the layered actor prefab are considered layers when they have <code>Layered Actor Layer</code> component attached, other objects are considered groups. After attaching the component, configure what should happen when camera layer is held and released with <code>On Layer Held</code> and <code>On Layer Released</code> Unity events. Typically, you&#39;d assign the held layer to the host game object and enable associated renderer and disable the renderer when released (to make sure the object is not picked by other cameras).</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+te+'" type="image/avif"><source srcset="'+ie+'"><img data-imgit-loadable alt="" width="491" height="297" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAAwAAIAAAABAAACAAAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAADwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAA8AAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAS21kYXQKCDgQ780gIaAEMiQVwAAASEQAxWHNTFWMc1ECrm5+x80jgqhHR0cTeeK3y6G1sYAKBRgQ780qMgoVwAABIAACaw7h" type="image/avif"><img src="//:0" alt="cover" width="491" height="297" decoding="sync"></picture></div><p>Layer active state is also reflected differently in camera mode: instead of renderer component enabled state, game object&#39;s active state is used. To set up default appearance of the actor, enable/disable game objects.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When layer contains lots of children, it would be tedious to set the layer held/release events for each of them individually. In this case use custom event handler to apply the changes in batch. Check <a href="https://forum.naninovel.com/viewtopic.php?t=606" class="vp-link" target="_blank" rel="noreferrer">the example<span class="external-link-icon"> ↗</span></a> on applying the changes to all the children renderers of a layer.</p></div><p>When <code>Render Canvas</code> component is attached to the layer actor prefab root, it&#39;ll work same as in normal render mode, restricting render texture size; when not present, render texture will equal camera&#39;s pixel size. It&#39;s recommended to use render canvas to optimize performance, as camera size will usually be higher than necessary.</p><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Find example on setting up layered background containing particle systems in the <a href="https://github.com/naninovel/samples/tree/main/unity/urp" class="vp-link" target="_blank" rel="noreferrer">URP project on GitHub<span class="external-link-icon"> ↗</span></a>. (URP is not required for this feature, it&#39;ll work the same with the default render backend)</p></div><h2 id="generic-characters" tabindex="-1">Generic Characters <a class="header-anchor vp-link" href="#generic-characters" aria-label="Permalink to &quot;Generic Characters&quot;">​</a></h2><p>Generic character is the most flexible character actor implementation. It&#39;s based on a prefab with a <code>Generic Character Behaviour</code> component attached to the root object. Appearance changes and all the other character parameters are routed as <a href="https://docs.unity3d.com/Manual/UnityEvents.html" class="vp-link" target="_blank" rel="noreferrer">Unity events<span class="external-link-icon"> ↗</span></a> allowing to implement the behavior of the underlying object in any way you wish.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+se+'" type="image/avif"><source srcset="'+oe+'"><img data-imgit-loadable alt="" width="479" height="717" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABFAAIAAAABAAACFQAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAXAAAAIgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAFwAAACIAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAYW1kYXQKCDgRbQtICGgBMjkVwAggggSBBQDsF/Erj0A7teA1A7YTmtBK7rQBC7EPxJnR47cyY+yHODBIJYqJwbd6pcrQpmmzjPAKBhgRbQtKgDIKFcAAASAABg5btg==" type="image/avif"><img src="//:0" alt="cover" width="479" height="717" decoding="sync"></picture></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Generic actor implementations just route events from the scenario scripts and it&#39;s up to user to implement the underlying behaviour, eg how the actor should react to the appearance or visibility change commands, whether and how it will support speaker highlight feature, etc. Don&#39;t expect most of the actor-related features to work automatically with the generic implementations.</p></div><p>To create generic character prefab from a template, use <code>Create -&gt; Naninovel -&gt; Character -&gt; Generic</code> context asset menu.</p><p>Check the following video tutorial for example on setting up a 3D rigged model as a generic character and routing appearance changes to the rig animations via <a href="https://docs.unity3d.com/Manual/class-AnimatorController.html" class="vp-link" target="_blank" rel="noreferrer">Animator<span class="external-link-icon"> ↗</span></a> component. Be aware, that the video is captured with an old Naninovel version and some properties and component names are different now; see the above docs for the up to date information.</p>',23),Ue=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=HPxhR0I1u2Q",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:ne,type:"image/avif"}),A("source",{srcset:re}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoJGBUjm0QICBQQMkIVwAAASFAQtwW+s3Qs6qk4XRIYbcCLR8VkERSZYm5MnFVYFToD+yOqUfz4OtqjwzonBUfQOr5oxVXOqiqXoBlbNts=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),je=e('<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Unity&#39;s <code>Animator</code> component could fail to register <code>SetTrigger</code> when the game object is enabled/disabled in the same frame; in case you use <code>GameObject.SetActive</code> to handle visibility changes (as it&#39;s shown in the above tutorial), consider enabling/disabling the child objects with renderers instead.</p></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Find <a href="https://github.com/naninovel/samples/tree/main/unity/generic-actor" class="vp-link" target="_blank" rel="noreferrer">example project on GitHub<span class="external-link-icon"> ↗</span></a>, where generic character implementation is used to host a 3D animated model.</p></div><h2 id="video-characters" tabindex="-1">Video Characters <a class="header-anchor vp-link" href="#video-characters" aria-label="Permalink to &quot;Video Characters&quot;">​</a></h2><p>Video characters use looped <a href="https://docs.unity3d.com/Manual/class-VideoClip" class="vp-link" target="_blank" rel="noreferrer">video clip<span class="external-link-icon"> ↗</span></a> assets to represent the appearance.</p><p>For the supported video formats for each platform see <a href="https://docs.unity3d.com/Manual/VideoSources-FileCompatibility.html" class="vp-link" target="_blank" rel="noreferrer">Unity docs for video sources<span class="external-link-icon"> ↗</span></a>.</p><p>When using video with an alpha channel (transparency), see the <a href="https://docs.unity3d.com/Manual/VideoTransparency.html" class="vp-link" target="_blank" rel="noreferrer">guide on the supported formats<span class="external-link-icon"> ↗</span></a>.</p><p>To prevent specific appearance from looping, append <code>NoLoop</code> (case-insensitive) to the appearance name.</p><h2 id="live2d-characters" tabindex="-1">Live2D Characters <a class="header-anchor vp-link" href="#live2d-characters" aria-label="Permalink to &quot;Live2D Characters&quot;">​</a></h2><p>Live2D character implementation uses assets created with <a href="https://www.live2d.com" class="vp-link" target="_blank" rel="noreferrer">Live2D Cubism<span class="external-link-icon"> ↗</span></a> 2D modeling and animation software.</p>',9),He=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"406"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-b81df72fc7afaed569520496cbee09f0.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-b81df72fc7afaed569520496cbee09f0.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABXAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABfbWRhdAoGGBUjm0AQMk0VwAwwgASAAADeZP1VQh5zmCHAmoCRDTmI0dh3nTgrwqF4CVK8w5HV6Rw8cbfN/Ojv5oZZnw2/SrOYgtbQBs7GuP45KIzyVaiNI5FZMA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"406",decoding:"sync"})])],-1),Ne=e('<p>In order to be able to use this implementation you have to first install <a href="https://live2d.github.io/#unity" class="vp-link" target="_blank" rel="noreferrer">Live2D Cubism SDK for Unity<span class="external-link-icon"> ↗</span></a>. Consult official Live2D docs for the installation and usage instructions. Then download and import Naninovel&#39;s sample <a href="https://github.com/naninovel/samples/raw/main/unity/live2d/NaninovelLive2D.unitypackage" class="vp-link" target="_blank" rel="noreferrer">Live2D extension package<span class="external-link-icon"> ↗</span></a>.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>This integration with third-party commercial product serve mostly as an example on how you can make Naninovel work with another tool. While we&#39;re committed to keep the sample integration compatible with Live2D updates and changes, please be aware that the functionality will remain bare minimum and we won&#39;t be able to provide any support or help on using another product with Naninovel beyond the scope of the sample.</p></div><p>Live2D model prefab used as the resource for the implementation should have a <code>Live2DController</code> component attached to the root object. Appearance changes are routed to the animator component as <a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" class="vp-link" target="_blank" rel="noreferrer">SetTrigger<span class="external-link-icon"> ↗</span></a> commands appearance being the trigger name. Eg, if you have a &quot;Kaori&quot; Live2D character prefab and want to invoke a trigger with name &quot;Surprise&quot;, use the following command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kaori.Surprise</span></span></code></pre></div><p>Note, that the above command will only attempt to invoke a <a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" class="vp-link" target="_blank" rel="noreferrer">SetTrigger<span class="external-link-icon"> ↗</span></a> with &quot;Surprise&quot; argument on the animator controller attached to the prefab; you have to compose underlying <a href="https://docs.unity3d.com/Manual/Animator" class="vp-link" target="_blank" rel="noreferrer">animator<span class="external-link-icon"> ↗</span></a> state machine yourself.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>Current actual version of Cubism SDK for Unity is working directly with <code>Animator</code> component; expressions and poses (exported as expression.json and pose.json), that were previously used in Cubism 2.x are now <a href="https://docs.live2d.com/cubism-sdk-tutorials/blendexpression" class="vp-link" target="_blank" rel="noreferrer">deprecated<span class="external-link-icon"> ↗</span></a> and not supported by Naninovel&#39;s extension for Live2D.</p></div><p>When Live2D&#39;s <code>CubismLookController</code> and <code>CubismMouthController</code> components are present and setup on the Live2D model prefab, <code>Live2DController</code> can optionally use them to control look direction and mouth animation (aka lip sync feature) of the character.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ce+'" type="image/avif"><source srcset="'+le+'"><img data-imgit-loadable alt="" width="483" height="111" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABBAAIAAAABAAACEQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAABgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAAYAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAXG1kYXQKCDgQr1pAQ0AIMjUVwAAASQRQ8FyohdCkVWJHWrPV2yZT88IcQt+BaGvIwSP/libi6WhJfxEyzwGNdjqZH+EvIAoFGBCvWlQyChXAAAEgAAJrDuE=" type="image/avif"><img src="//:0" alt="cover" width="483" height="111" decoding="sync"></picture></div><p>Consult Live2D documentation on <a href="https://docs.live2d.com/cubism-sdk-tutorials/lookat" class="vp-link" target="_blank" rel="noreferrer">eye tracking<span class="external-link-icon"> ↗</span></a> and <a href="https://docs.live2d.com/cubism-sdk-tutorials/lipsync" class="vp-link" target="_blank" rel="noreferrer">lip sync<span class="external-link-icon"> ↗</span></a> for the setup details.</p><p>In case the model appears too small or large, set an initial scale for the root Live2D prefab game object as <a href="https://youtu.be/rw_Z69z0pAg?t=353" class="vp-link" target="_blank" rel="noreferrer">shown in the video guide<span class="external-link-icon"> ↗</span></a>.</p><p>Internally, Live2D model is rendered to a texture, which is then projected to the screen. This is required to prevent semi-transparency overdraw artifacts when fading the character. Naninovel will attempt to evaluate size of the render canvas automatically, but in case the model contains animated parts that are moved outside of the initial bounds, the parts will be clipped. To prevent that, add <code>Render Canvas</code> component to the root game object of the Live2D prefab and set the desired size of the canvas manually. Enable <a href="https://docs.unity3d.com/Manual/GizmosMenu.html" class="vp-link" target="_blank" rel="noreferrer">gizmos<span class="external-link-icon"> ↗</span></a> to preview current render canvas size while in prefab mode.</p>',11),qe=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"266"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-23f916ae104f57828914221333e42dbf.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-23f916ae104f57828914221333e42dbf.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABJAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABRbWRhdAoGGBTjxoAgMj8VwAQQAASBAQDt6ui6HCS3uoU4Lp01nvq1Sdkviwot2W4aQy3x3Sb7+Rc3uEKO9bNVTLlbuavlK2d3K33X8Hg=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"266",decoding:"sync"})])],-1),Pe=A("p",null,"Be aware, that larger the size, the more memory will the texture consume, so keep it as small, as possible.",-1),ze=A("p",null,"Following video guide covers exporting a Live2D character from Cubism Editor, configuring the prefab, creating a simple animator state machine and controlling the character from a naninovel script.",-1),Oe=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=rw_Z69z0pAg",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:de,type:"image/avif"}),A("source",{srcset:pe}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA9AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABFbWRhdAoJGAz+GiBAQKCAMjAVwAQQAASEAADKEMSZg+ZDVpE+rtbtXxnemtXCMdfa0i1Gn0z7qBXB3uOFsA4UWg4=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/rw_Z69z0pAg?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Le=e('<div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Check out an <a href="https://github.com/naninovel/samples/tree/main/unity/live2d" class="vp-link" target="_blank" rel="noreferrer">example project on GitHub<span class="external-link-icon"> ↗</span></a>, where a Live2D character is used with Naninovel.</p></div><h2 id="spine-characters" tabindex="-1">Spine Characters <a class="header-anchor vp-link" href="#spine-characters" aria-label="Permalink to &quot;Spine Characters&quot;">​</a></h2><p>Spine character implementation uses assets created with <a href="http://esotericsoftware.com" class="vp-link" target="_blank" rel="noreferrer">Spine<span class="external-link-icon"> ↗</span></a> 2D modeling and animation software.</p>',3),Ke=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"404"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-08b04de115d97427d152cb5f37065d2d.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-08b04de115d97427d152cb5f37065d2d.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoGGBUjm0AQMkUVwAggQQSAAADS2NTScVlatscM7bjqlUtHUq62TrQcIvebVWbn0DXf791Sx67MzfAPseXuRdvyB7mSnzgZTPID3WMTl6A=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"404",decoding:"sync"})])],-1),Je=e('<p>In order to be able to use this implementation you have to first install <a href="http://esotericsoftware.com/spine-unity-download" class="vp-link" target="_blank" rel="noreferrer">Spine runtime for Unity<span class="external-link-icon"> ↗</span></a>. Consult <a href="http://esotericsoftware.com/spine-unity" class="vp-link" target="_blank" rel="noreferrer">the official docs<span class="external-link-icon"> ↗</span></a> for the installation and usage instructions. Then download and import Naninovel&#39;s sample <a href="https://github.com/naninovel/samples/raw/main/unity/spine/NaninovelSpine.unitypackage" class="vp-link" target="_blank" rel="noreferrer">Spine extension package<span class="external-link-icon"> ↗</span></a>.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>This integration with third-party commercial product serve mostly as an example on how you can make Naninovel work with another tool. While we&#39;re committed to keep the sample integration compatible with Spine updates and changes, please be aware that the functionality will remain bare minimum and we won&#39;t be able to provide any support or help on using another product with Naninovel beyond the scope of the sample.</p></div><p>Spine character prefab used as the resource for the implementation should have a <code>Spine Controller</code> component attached to the root object. Appearance changes from naninovel scripts commands (such as <code>@char</code>) are routed to the controller&#39;s <code>On Appearance Changed</code> events similar to <a href="/naninovel-docs/guide/characters#generic-characters" class="vp-link">generic implementation</a>. You can handle the events as you wish; for example, use Spine&#39;s <code>SetAnimation</code> method or invoke a trigger in Unity&#39;s animator controller.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+he+'" type="image/avif"><source srcset="'+me+'"><img data-imgit-loadable alt="" width="494" height="442" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA3AAIAAAABAAACBwAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAFQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAUm1kYXQKCDgRL0aQENACMisVwAAASEcAvIEI0jMZDjkz+E7vDneHTUaT2bNlDoil+QVL2Q9absqr5d/ACgUYES9GlTIKFcAAASAAA8eEOg==" type="image/avif"><img src="//:0" alt="cover" width="494" height="442" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>It&#39;s possible to use a custom component inherited from <code>Spine Controller</code>. This way you&#39;ll be able to override the virtual methods and associated behaviour (eg, handle appearance change with a specific duration or transition parameters).</p></div><p>Internally, Spine model is rendered to a texture, which is then projected to the screen. This is required to prevent semi-transparency overdraw artifacts when fading the character. To specify the texture size, use <code>Render Canvas</code> component (attached automatically when adding <code>Spine Controller</code>). Enable <a href="https://docs.unity3d.com/Manual/GizmosMenu.html" class="vp-link" target="_blank" rel="noreferrer">gizmos<span class="external-link-icon"> ↗</span></a> to preview current the size while in prefab mode. Be aware, that larger the size, the more memory will the texture consume, so keep it as small, as possible.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>Spine&#39;s <a href="https://github.com/pharan/spine-unity-docs/blob/master/spine-unity-skeletonrenderseparator" class="vp-link" target="_blank" rel="noreferrer">Skeleton Render Separator<span class="external-link-icon"> ↗</span></a> (multi-render) workflow is not supported; to integrate that workflow with Naninovel, create a custom character implementation.</p></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Check out an <a href="https://github.com/naninovel/samples/tree/main/unity/spine" class="vp-link" target="_blank" rel="noreferrer">example project on GitHub<span class="external-link-icon"> ↗</span></a>, where a Spine character is used with Naninovel.</p></div><h2 id="narrator-characters" tabindex="-1">Narrator Characters <a class="header-anchor vp-link" href="#narrator-characters" aria-label="Permalink to &quot;Narrator Characters&quot;">​</a></h2><p>Narrator characters don&#39;t have any presence on scene (appearances, position, look direction, tint, etc), but are still able to author printed messages and have the related configuration options (display name, message color, linked printer, etc).</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ge+'" type="image/avif"><source srcset="'+ue+'"><img data-imgit-loadable alt="" width="720" height="266" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABsAAIAAAABAAACPAAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAADQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAAA0AAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAh21kYXQKCDgU48aQENACMmAVwAghAQSEIQDuTdybxecdJFQbGpYXOoB3PpnQuJQCMIsJpAturKTrDafR95oeejGqcm1A7wTAq+pokWrnG+u55WGnSBXFyLIKgy1hCyraTdKTyNuq+MMtqVyB15fsRMAKBRgU48aVMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="266" decoding="sync"></picture></div><h2 id="render-to-texture" tabindex="-1">Render to Texture <a class="header-anchor vp-link" href="#render-to-texture" aria-label="Permalink to &quot;Render to Texture&quot;">​</a></h2><p>It&#39;s possible to render character and background actors of all the implementations (except generic) to a texture asset, which can then can be assigned to a custom UI, printer, material or any other compatible source.</p><p>Assign the render texture asset via actor configuration with <code>Render Texture</code> property. When a texture is assigned, the actor won&#39;t appear as a game object on scene, but will rather be rendered to the texture. <code>Render Rectangle</code> property allows specifying a region of the actor to render into texture.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ye+'" type="image/avif"><source srcset="'+be+'"><img data-imgit-loadable alt="" width="720" height="462" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABGAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABObWRhdAoIOBUjs0gIaAEyOhXABBBBBIAEAMj7jnMY8iE1OKBs1dogYM3Q/I10RXXiDc8gP9pbO+oDfeM5LqHqW78AFDL9dD5LTcA=" type="image/avif"><img src="//:0" alt="cover" width="720" height="462" decoding="sync"></picture></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>When using <a href="https://docs.unity3d.com/Manual/com.unity.addressables.html" class="vp-link" target="_blank" rel="noreferrer">addressables package<span class="external-link-icon"> ↗</span></a>, Unity <a href="https://issuetracker.unity3d.com/product/unity/issues/guid/1277169" class="vp-link" target="_blank" rel="noreferrer">can&#39;t properly track asset references<span class="external-link-icon"> ↗</span></a>, which may cause render texture duplication in build preventing the feature from working correctly. Either manually handle the references (via <code>AssetReference</code> API) or use <code>Get Actor Render Texture</code> component as illustrated below.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+ve+'" type="image/avif"><source srcset="'+ke+'"><img data-imgit-loadable alt="" width="494" height="357" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABCAAIAAAABAAACEgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABEAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAXW1kYXQKCDgRLwaQENACMjYVwAAASBBQvIELhfxujLN2HCoTXVO2rPFYjN0peSB1TuK4y97dGOmbRScUmPHfa+yC/nrpb4AKBRgRLwaVMgoVwAABIAADx4Q6" type="image/avif"><img src="//:0" alt="cover" width="494" height="357" decoding="sync"></picture></div></div><p>When an actor is rendered to a texture, transformations (position, rotation, scale) and some other modifications won&#39;t have any effect. Instead, transform the host object of the render texture (eg, image in case the texture is assigned to UI raw image component).</p><p>The video below demonstrates how to render a Live2D character to a texture, which is assigned to custom text printer. The printer is linked to the character, so the character will automatically show and hide with the printer when the associated text messages are processed.</p>',18),$e=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=81OTbSAnWbw",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:we,type:"image/avif"}),A("source",{srcset:Be}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAwAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA4bWRhdAoJGAz+GiBAQKCAMiMVwAAASBAQndzACnSsYe3piUd6rrq7LEntvoXGOqeBpQid4A==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/81OTbSAnWbw?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),Aa=A("div",{class:"tip custom-block"},[A("p",{class:"custom-block-title"},"EXAMPLE"),A("p",null,[a("Find a complete example on setting up Live2D character render to texture and binding it with a text printer in the "),A("a",{href:"https://github.com/naninovel/samples/tree/main/unity/live2d",class:"vp-link",target:"_blank",rel:"noreferrer"},[a("Naninovel Live2D project on GitHub"),A("span",{class:"external-link-icon"}," ↗")]),a(".")])],-1),ea=A("p",null,"All the other character and background implementation types (except generic) can be set up to render to texture similar to Live2D example.",-1),aa=[fe,Ce,Ge,Qe,Ye,_e,xe,Ee,Ie,We,De,Fe,Xe,Me,Ve,Te,Ze,Re,Se,Ue,je,He,Ne,qe,Pe,ze,Oe,Le,Ke,Je,$e,Aa,ea];function ta(ia,sa,oa,na,ra,ca){return s(),i("div",null,aa)}const pa=t(mA,[["render",ta]]);export{da as __pageData,pa as default};
