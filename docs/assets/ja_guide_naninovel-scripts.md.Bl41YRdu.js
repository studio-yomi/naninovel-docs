import{_ as s,c as i,o as e,f as a,D as A,a as t,dC as n,dD as l,gG as p,gH as d,cD as h,cE as o,gS as c,gT as r,dI as k,dJ as g,dK as m,dL as y,dM as B,dN as u}from"./chunks/framework.BG74BkEs.js";const sA=JSON.parse('{"title":"Naninovel スクリプト","description":"","frontmatter":{},"headers":[],"relativePath":"ja/guide/naninovel-scripts.md","filePath":"ja/guide/naninovel-scripts.md","lastUpdated":1698833889000}'),C={name:"ja/guide/naninovel-scripts.md"},v=h+" 1x",b=o+" 1x",E=c+" 1x",D=r+" 1x",w=n+" 1x",f=l+" 1x",F=k+" 1x",_=g+" 1x",Y=m+" 1x",G=y+" 1x",Q=p+" 1x",I=d+" 1x",x=B+" 1x",W=u+" 1x",q=a('<h1 id="naninovel-スクリプト" tabindex="-1">Naninovel スクリプト <a class="header-anchor vp-link" href="#naninovel-スクリプト" aria-label="Permalink to &quot;Naninovel スクリプト&quot;">​</a></h1><p>Naninovelスクリプトはテキストドキュメント（ <code>.nani</code>拡張子）であり、シーンで発生する動作を制御します。スクリプトアセットはコンテキストメニュー <code>Create -&gt; Naninovel -&gt; Naninovel Script</code> で作成できます。組み込みの <a href="#ビジュアルエディター" class="vp-link">ビジュアルエディター</a> か、メモ帳、TextEdit、<a href="https://code.visualstudio.com" class="vp-link" target="_blank" rel="noreferrer">VS Code<span class="external-link-icon"> ↗</span></a> などの任意のテキストエディターで開いて編集できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+v+'" type="image/avif"><source srcset="'+b+`"><img data-imgit-loadable alt="" width="720" height="297" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABDAAIAAAABAAACEwAAABYAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAADwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAQACAACAAAAAFGlzcGUAAAAAAAAAJAAAAA8AAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAYW1kYXQKCDgU4+aQENACMjcVwAQQggSEAQD4/kZM3pGoKDItzN4A+pPydmmxL0eFNh5wy5DaIcqtsQCoYFj0wrvxXib1Y4GACggYFOPmmAgQFTIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="297" decoding="sync"></picture></div><p>naninovelスクリプトの各行はステートメントを表し、コマンド、一般テキスト、ラベル、またはコメントになります。ステートメントのタイプは、行の先頭に置かれているリテラルによって決まります:</p><table><thead><tr><th style="text-align:center;">リテラル</th><th>ステートメントのタイプ</th></tr></thead><tbody><tr><td style="text-align:center;">@</td><td><a href="#コマンドライン" class="vp-link">コマンド</a></td></tr><tr><td style="text-align:center;">#</td><td><a href="#ラベル" class="vp-link">ラベル</a></td></tr><tr><td style="text-align:center;">;</td><td><a href="#コメント" class="vp-link">コメント</a></td></tr></tbody></table><p>上記のリテラルのいずれも行の先頭にない場合、<a href="#一般テキスト" class="vp-link">一般テキスト</a>ステートメントと見なされます。</p><h2 id="コマンドライン" tabindex="-1">コマンドライン <a class="header-anchor vp-link" href="#コマンドライン" aria-label="Permalink to &quot;コマンドライン&quot;">​</a></h2><p>行が <code>@</code> リテラルで始まる場合、その行はコマンドステートメントと見なされます。コマンドは、シーンで起きることを制御する単一の操作を表します。たとえば、背景の変更、キャラクターの移動、別のnaninovelスクリプトの読み込みに使用できます。</p><h3 id="コマンド識別子" tabindex="-1">コマンド識別子 <a class="header-anchor vp-link" href="#コマンド識別子" aria-label="Permalink to &quot;コマンド識別子&quot;">​</a></h3><p>コマンドリテラルの直後には、コマンド識別子が必要です。これはコマンドを実装する C# クラスの名前か、コマンドのエイリアス（<code>CommandAlias</code> 属性を介して適用された場合）のいずれかになります。</p><p>たとえば、 <a href="/ja/api/#save" target="_blank"><code>@save</code></a> コマンド（ゲームのオートセーブに使用）は、C# クラス <code>AutoSave</code> を介して実装されます。実装クラスにも <code>[CommandAlias(&quot;save&quot;)]</code> 属性が適用されているため、スクリプトで <code>@save</code> ステートメントと <code>@AutoSave</code> ステートメントのどちらでもこのコマンドを呼び出すことができます。</p><p>コマンド識別子は大文字と小文字を区別しません。次のステートメントはすべて有効で、同じ <code>AutoSave</code> コマンドを呼び出します:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@save</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@Save</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@AutoSave</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@autosave</span></span></code></pre></div><h3 id="コマンドパラメーター" tabindex="-1">コマンドパラメーター <a class="header-anchor vp-link" href="#コマンドパラメーター" aria-label="Permalink to &quot;コマンドパラメーター&quot;">​</a></h3><p>ほとんどのコマンドには、コマンドの効果を定義するパラメーターがいくつかあります。パラメーターはコマンドリテラルの後に定義される、コロン(<code>:</code>)で区切られたKey-Value論理式です。パラメーター識別子（キー）は、コマンド実装クラスの対応するパラメーターフィールドの名前または、パラメーターのエイリアス（ <code>CommandParameter</code> 属性の <code>alias</code> プロパティで定義されている場合）のいずれかです。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@commandId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> paramId:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">paramValue</span></span></code></pre></div><p><a href="/ja/api/#hidechars" target="_blank"><code>@hideChars</code></a> コマンドを考えてみましょう。このコマンドは、シーンに表示されているすべてのキャラクターを非表示にします。次のように使用できます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span></span></code></pre></div><p><code>time</code> <em>少数</em> パラメーターを使用して、キャラクターがフェードアウトして完全に非表示になる（シーンから削除される）までの時間を制御できます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">5.5</span></span></code></pre></div><p>これはキャラクターをシーンから消すのに、5.5秒かけてフェードアウトします。</p><p>また、<code>wait</code> <em>Boolean</em> パラメーターを使用して、次のコマンドをすぐに実行するか、現在のコマンドの完了を待つかを指定できます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">5.5</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hidePrinter</span></span></code></pre></div><p>上記は、文字がフェードアウトし始めた直後にテキストプリンターが非表示になります。<code>wait</code> が <code>true</code> または指定されていなければ、プリンターは <a href="/ja/api/#hidechars" target="_blank"><code>@hideChars</code></a> が完了してから非表示になります。</p><h3 id="パラメーター値タイプ" tabindex="-1">パラメーター値タイプ <a class="header-anchor vp-link" href="#パラメーター値タイプ" aria-label="Permalink to &quot;パラメーター値タイプ&quot;">​</a></h3><p>コマンドパラメータに応じて、次の値タイプのいずれかになります:</p><table><thead><tr><th>タイプ</th><th>説明</th></tr></thead><tbody><tr><td>String</td><td>単純なテキスト値。例: <code>LoremIpsum</code>。スペースを含む場合は必ずダブルクオーテーションで括ってください。例: <code>&quot;Lorem ipsum dolor sit amet.&quot;</code></td></tr><tr><td>Integer</td><td>分数ではない数値、整数。例: <code>1</code>, <code>150</code>, <code>-25</code></td></tr><tr><td>Decimal</td><td>小数をドットで区切った10進数。例: <code>1.0</code>, <code>12.08</code>, <code>-0.005</code></td></tr><tr><td>Boolean</td><td>2つのうちいずれかを持つことができる: <code>true</code> または <code>false</code> (大文字小文字を区別しません)</td></tr><tr><td>Named&lt;&gt;</td><td>上記のタイプのいずれかの値に関連付けられた名前文字列。名前の部分はドットで区切ります。 <em>Named&lt;Integer&gt;</em> の例: <code>foo.8</code>, <code>bar.-20</code></td></tr><tr><td>List&lt;&gt;</td><td>上記のタイプのいずれかの値をコンマで区切ったリスト。<em>List&lt;String&gt;</em> の例: <code>foo,bar,&quot;Lorem ipsum.&quot;</code>, <em>List&lt;Decimal&gt;</em> の例: <code>12,-8,0.105,2</code></td></tr></tbody></table><h3 id="無名パラメーター" tabindex="-1">無名パラメーター <a class="header-anchor vp-link" href="#無名パラメーター" aria-label="Permalink to &quot;無名パラメーター&quot;">​</a></h3><p>ほとんどのコマンドには、無名パラメーターがあります。名前を指定せずに使用できるパラメーターは、無名と見なされます。</p><p>たとえば、<a href="/ja/api/#bgm" target="_blank"><code>@bgm</code></a> コマンドは、再生する音楽トラックの名前を無名パラメーターで指定しています。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@bgm</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PianoTheme</span></span></code></pre></div><p>ここでの &quot;PianoTheme&quot; は、&quot;BgmPath&quot; <em>String</em> パラメータの値です。</p><p>コマンドごとに存在する無名パラメーターは1つだけで、他は常にパラメーターの前に指定する必要があります。</p><h3 id="任意と必須のパラメーター" tabindex="-1">任意と必須のパラメーター <a class="header-anchor vp-link" href="#任意と必須のパラメーター" aria-label="Permalink to &quot;任意と必須のパラメーター&quot;">​</a></h3><p>ほとんどのコマンドパラメーターは <em>任意</em> です。これは、事前定義された値があるか、コマンドを実行するために値を必要としないためです。たとえば、パラメーターを指定せずに <a href="/ja/api/#resettext" target="_blank"><code>@resetText</code></a> コマンドを使用すると、デフォルトのプリンターのテキストがリセットされますが、次のように特定のプリンターIDを設定することもできます: <code>@resetText printer:Dialogue</code>。</p><p>パラメーターのいくつかは <em>必須</em> で、コマンドを実行するには、常に指定する必要があります。</p><h3 id="コマンド-api-リファレンス" tabindex="-1">コマンド API リファレンス <a class="header-anchor vp-link" href="#コマンド-api-リファレンス" aria-label="Permalink to &quot;コマンド API リファレンス&quot;">​</a></h3><p>現在利用可能なすべてのコマンドの一覧と、概要、パラメーター、および使用例については、<a href="/naninovel-docs/ja/api/" class="vp-link">コマンド API リファレンス</a> を参照してください。</p><h2 id="一般テキスト" tabindex="-1">一般テキスト <a class="header-anchor vp-link" href="#一般テキスト" aria-label="Permalink to &quot;一般テキスト&quot;">​</a></h2><p>大量のテキストを含むスクリプトを快適に作成するには、一般テキストラインを使用します。先頭が事前定義されたステートメントリテラルでなければ、行は一般テキストステートメントと見なされます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></span></code></pre></div><p>話者のIDをコロン (<code>:</code>)で区切られた一般テキストの先頭に指定して、表示テキストを<a href="/naninovel-docs/ja/guide/characters" class="vp-link">キャラクターアクター</a>に関連付けることができます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></span></code></pre></div><p>表示テキストに関連付けられているキャラクターの外観を常に変更したいときは、話者のIDの後に外観を指定して入力を簡略化することもできます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix.Happy:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet.</span></span></code></pre></div><p>上記の行は以下の2行と同じ意味です:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet.</span></span></code></pre></div><h3 id="コマンドのインライン化" tabindex="-1">コマンドのインライン化 <a class="header-anchor vp-link" href="#コマンドのインライン化" aria-label="Permalink to &quot;コマンドのインライン化&quot;">​</a></h3><p>テキストメッセージを表示中、特定の文字の直後または直前にコマンドを実行したい場合があります。たとえば、特定の単語が表示されたときにアクターの外観（表現）を変更したり、表示メッセージの中のイベントに反応して特定の効果音が再生されるなど。コマンドのインライン化機能により、このようなケースを処理できます。</p><p>中括弧(<code>[</code>,<code>]</code>) を使用して、一般テキストにコマンド (<a href="/naninovel-docs/ja/api/" class="vp-link">組み込み</a>と<a href="/naninovel-docs/ja/guide/custom-commands" class="vp-link">カスタム</a>どちらも) を挿入（インライン化）することができます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">0.75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> dolor sit amet, consectetur adipiscing elit.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Aenean tempus eleifend ante, ac molestie metus condimentum quis.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i][br</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 2</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Morbi nunc magna, consequat posuere consectetur in, dapibus consectetur lorem. Duis consectetur semper augue nec pharetra.</span></span></code></pre></div><p>インライン化されたコマンド構文はまったく同じですが、 <code>@</code> リテラルが省略され、コマンド本体が角括弧で囲まれていることに注意してください。基本的に、任意のコマンドラインを使って一般テキストにインライン化することができます。効果は全く同じですが、テキストメッセージ内の位置によって異なるタイミングで行われます。</p><p>内部では、一般テキストは、インラインインデックスで識別される個々のコマンドにパースされます。 テキストは <a href="/ja/api/#print" target="_blank"><code>@print</code></a> コマンドで表示されます。たとえば、次のnaninovelスクリプトの一般テキスト:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> dolor sit amet.</span></span></code></pre></div><p>— は、実際には個々のコマンドのシーケンスとしてエンジンで処理されます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Lorem ipsum&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> waitInput:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;dolor sit amet.&quot;</span></span></code></pre></div><p>一般テキスト上で角括弧を実際に表示するには、バックスラッシュでエスケープします。 例:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Some text \\[ text inside brackets \\]</span></span></code></pre></div><p>— は、ゲーム内で &quot;Some text [ text inside brackets ]&quot; を表示します。</p><h2 id="ラベル" tabindex="-1">ラベル <a class="header-anchor vp-link" href="#ラベル" aria-label="Permalink to &quot;ラベル&quot;">​</a></h2><p>ラベルは、<a href="/ja/api/#goto" target="_blank"><code>@goto</code></a> コマンドでnaninovelスクリプトをジャンプするときに&quot;アンカー&quot;として使用されます。 ラベルを定義するには、行の先頭に <code>#</code> リテラルを記述し、ラベル名を続けます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># Epilogue</span></span></code></pre></div><p><a href="/ja/api/#goto" target="_blank"><code>@goto</code></a> コマンドでその行にジャンプできます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> ScriptName.Epilogue</span></span></code></pre></div><p>指定先のラベルと同じスクリプト内から <a href="/ja/api/#goto" target="_blank"><code>@goto</code></a> コマンドを使用する場合は、スクリプト名を省略できます:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> .Epilogue</span></span></code></pre></div><h2 id="コメント" tabindex="-1">コメント <a class="header-anchor vp-link" href="#コメント" aria-label="Permalink to &quot;コメント&quot;">​</a></h2><p>セミコロン (<code>;</code>) で始まる行は、コメントとみなされます。コメント行は、スクリプトが解析されるときエンジンで完全に無視されます。コメント行を使用して、naninovelスクリプトを使用する自分や他のチームメンバーに、メモまたは注釈を追加できます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 次のコマンドはゲームをオートセーブします。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@save</span></span></code></pre></div><h2 id="条件分岐" tabindex="-1">条件分岐 <a class="header-anchor vp-link" href="#条件分岐" aria-label="Permalink to &quot;条件分岐&quot;">​</a></h2><p>スクリプトはデフォルトでは順番に実行されますが、すべてのコマンドでサポートしている <code>if</code> パラメーターを使用して分岐を導入できます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`level\`の値が数値かつ、9000より大きい場合は、選択肢を追加。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;It&#39;s over 9000!&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">level&gt;9000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`dead\` 変数が bool かつ \`false\` の場合は、プリントコマンドを実行。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> text:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;I&#39;m still alive.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">!dead</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`glitch\` が bool かつ \`true\` または1~10のランダム関数の場合、</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 5以上を返し、\`@spawn\` コマンドを実行する。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@spawn</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> GlitchCamera</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;glitch || Random(1, 10) &gt;= 5&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`score\` 値が7~13の間または \`lucky\` 変数が bool かつ\`true\` の場合、</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; \`LuckyEnd\` スクリプトを読み込む。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> LuckyEnd</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;(score &gt;= 7 &amp;&amp; score &lt;= 13) || lucky&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; インラインコマンドで条件を記述することもできます。</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem sit amet. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> bold</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">score&gt;=10</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Consectetur elit.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> default</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 式自体の中でダブルクオーテーションを使用する場合、</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; 必ずダブルエスケープしてください。</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#3ABFB3;--shiki-dark:#62B8C1;"> {remark}</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">remark==&quot;Saying \\\\&quot;Stop the car\\\\&quot; was a mistake.&quot;</span></span></code></pre></div><p><a href="/ja/api/#if" target="_blank"><code>@if</code></a> <a href="/ja/api/#else" target="_blank"><code>@else</code></a> <a href="/ja/api/#elseif" target="_blank"><code>@elseif</code></a> <a href="/ja/api/#endif" target="_blank"><code>@endif</code></a> コマンドで、複数行に条件分岐を記述することもできます。</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@if</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> score&gt;10</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	Good job, you&#39;ve passed the test!</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@bgm</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Victory</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@spawn</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Fireworks</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@elseif</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> attempts&gt;100</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	You&#39;re hopeless... Need help?</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Yeah, please!&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> goto:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">.GetHelp</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;I&#39;ll keep trying.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> goto:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">.BeginTest</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@stop</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@else</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	You&#39;ve failed. Try again!</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> .BeginTest</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@endif</span></span></code></pre></div><p>このタブは完全に任意で、可読性のためだけに使用しています。</p><p>一般テキストで同じことをします:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum dolor sit amet. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[if</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> score&gt;10</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Duis efficitur imperdiet nunc. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[else]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Vestibulum sit amet dolor non dolor placerat vehicula.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[endif]</span></span></code></pre></div><p>条件式のフォーマットと使用可能な演算子の詳細については、<a href="/naninovel-docs/ja/guide/script-expressions" class="vp-link">スクリプト表記</a> ガイドを参照してください。</p><h2 id="ビジュアルエディター" tabindex="-1">ビジュアルエディター <a class="header-anchor vp-link" href="#ビジュアルエディター" aria-label="Permalink to &quot;ビジュアルエディター&quot;">​</a></h2><p>ビジュアルスクリプトエディターを使用して、naninovelスクリプトを編集することができます。スクリプトアセットを選択すると、ビジュアルエディターが自動的にインスペクターウィンドウで開きます。</p>`,80),X=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"396"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-ba57b9f78116e57408125325bdf66be9.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-ba57b9f78116e57408125325bdf66be9.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABAAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABIbWRhdAoGGBUjm0AQMjYVwAggQQSAAQDx2hr87E1E/GOxnVSsQ+Z9TfvDmCVc5hWEwk4khutpiCvnZOzWKkUKfo5txhI=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"396",decoding:"sync"})])],-1),S=a("<p>スクリプトに新しい行を追加するには、行を挿入したい場所を右クリックするか、 <code>Ctrl+Space</code> を押して（入力コンフィグメニューでデフォルトのキー紐付けを変更できます）、目的の行またはコマンドの種類を選択します。行を並べ替えるには、番号ラベルを使用してドラッグします。行を削除するには、行を右クリックして &quot;Remove&quot; を選択します。</p><p>ビジュアルエディターを使用してスクリプトを変更すると、インスペクターヘッダーのスクリプト名の上にアスタリスク (<code>*</code>) が表示されます。つまりアセットが dirty なので保存する必要があります。 <code>Ctrl+S</code> を押してアセットを保存します。スクリプトが dirty の時に別のアセットを選択しようとすると、ダイアログウィンドウがポップアップ表示され、変更を保存または元に戻すことができます。</p><p>編集したスクリプトを外部で更新すると、ビジュアルエディターに自動的に同期されるため、テキストエディターとビジュアルエディターの両方でスクリプトをシームレスに操作できます。もし自動同期が動いていないようなら、Unity エディターメニューの <code>Edit -&gt; Preferences -&gt; General</code> で <code>Auto Refresh</code> が有効になっているか確認してください。</p><p>プレイモード中、ビジュアルエディターで現在再生中のスクリプトラインを追跡し、ラインを右クリックして再生を巻き戻すことができます。この機能では、スクリプトに同じリソースID（リソースマネージャーメニューで割り当てられている場合）とアセット名が必要です。</p>",4),M=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"389"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-b6e04d664ce4b513296b378b7c25be03.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-b6e04d664ce4b513296b378b7c25be03.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACAAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACIbWRhdAoGGBUjk0AQMnYVwCaYwgSBBADpVI33UqSUhLbE6A8Ov4WU71otcdhzH/yuiy+A0v2Hgn4bPfXHuOTzy4GP7sqsis83FQknxsHXmwYkMJqYi2SqS1KuT8X3bLq4xy1Z4xHJgddnhoBNrqdT2QPZl2GT1hZxxfi96RFvUNfhLSpq",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"389",decoding:"sync"})])],-1),V=a('<p>再生中のラインは緑色でハイライトされます。ユーザーの入力を待つ間スクリプトの再生が停止すると、再生されたラインが黄色でハイライトされます。</p><p>エディターの動作と見た目は、スクリプトコンフィグメニューで調整できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+E+'" type="image/avif"><source srcset="'+D+'"><img data-imgit-loadable alt="" width="720" height="565" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABaAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAHAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABibWRhdAoIOBUj20gIaAEyThXAAgiBBIAEAMaQLVYmOG31+UuGcf65e0JdfDAq886UBXUtuwalEk9Iycvnvl+21SdNrrDI0FFP9JHMmtyEF5l6S5RDszVaSWYD/mBtoA==" type="image/avif"><img src="//:0" alt="cover" width="720" height="565" decoding="sync"></picture></div>',3),j=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=9UmccF9R9xI",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:w,type:"image/avif"}),A("source",{srcset:f}),A("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABIAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABQbWRhdAoJGBUjm0QICBQQMjsVwAggQgSAEADjLFiVgPjtRy4GQJVE9X6FjfStzEYkFMbaNUZm3kY/Jgj8oMT3sYAPPCxEN5OJ7ksRYA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/9UmccF9R9xI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),R=A("h2",{id:"スクリプトグラフ",tabindex:"-1"},[t("スクリプトグラフ "),A("a",{class:"header-anchor vp-link",href:"#スクリプトグラフ","aria-label":'Permalink to "スクリプトグラフ"'},"​")],-1),T=A("p",null,"大量のスクリプトや非連続ストーリーを扱う場合、ストーリーフローを視覚的に表現できると便利です。スクリプトグラフツールはこのような時に便利です。",-1),Z=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"432"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-0dd3ec2393807fb03d501028e1526895.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-0dd3ec2393807fb03d501028e1526895.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAmAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAAubWRhdAoGGBUjq0AQMhwVwAQQAASEAADeWOH6+zKNPp40STIKQrwsMgFQ",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"432",decoding:"sync"})])],-1),U=a('<p>グラフウィンドウは、<code>Naninovel -&gt; Script Graph</code> エディターメニューで開きます。必要に応じて、ウィンドウを他のエディターパネルと同じようにドッキングできます。</p><p>エディターリソース (<code>Naninovel -&gt; Resources -&gt; Scripts</code>) で割り当てられたすべてのnaninovelスクリプト（ノードとして表される）と、その繋がりを自動的にグラフとして構築します。</p><p>繋がりは、<a href="/ja/api/#goto" target="_blank"><code>@goto</code></a> コマンドと <a href="/ja/api/#gosub" target="_blank"><code>@gosub</code></a> コマンドに基づいて生成されます。コマンドに条件式が割り当てられている場合（<code>if</code> パラメーター）、ノードの対応するポートが黄色でハイライトされ、ポートにカーソルを合わせると式が表示されます。</p><p>ノードをダブルクリックするか、ポートをクリックして、スクリプトアセットを選択し、ビジュアルエディターを開くことができます。ポートをクリックすると、ビジュアルエディターがラベルの行にスクロールされます（ラベルが指定されている場合）。</p><p>必要に応じてノードを再配置でき、グラフウィンドウを閉じるかUnityを終了すると、ノードの位置が自動保存されます。ウィンドウを再び開くと、位置が復元されます。&quot;Save&quot; ボタンをクリックして手動で保存することもできます。&quot;Auto Align&quot; ボタンをクリックすると、すべての位置がリセットされます。</p><p>スクリプトを変更したり、新しいスクリプトを追加したりする場合は、 &quot;Rebuild Graph&quot; ボタンをクリックして同期します。</p><h2 id="ホットリロード" tabindex="-1">ホットリロード <a class="header-anchor vp-link" href="#ホットリロード" aria-label="Permalink to &quot;ホットリロード&quot;">​</a></h2><p>プレイモードで、（ビジュアルエディターと外部エディターの両方で）スクリプトを編集し、ゲームを再起動せずに変更をすぐに適用することができます。 この機能はスクリプト設定の <code>Hot Reload Scripts</code> プロパティで制御され、デフォルトで有効になっています。</p><p>現在再生中のラインの前にラインを変更、追加、または削除するとき、状態の不整合を防ぐために、自動的に変更されたラインにステートのロールバックが行われます。</p><p>もしホットリロードが機能しないようなら、<code>Auto Refresh</code> が有効になっていて、<code>Script Changes While Playing</code> が <code>Recompile And Continue Playing</code> にセットされているか確認してください。どちらもUnity エディターメニューの <code>Edit -&gt; Preferences -&gt; General</code> にあります。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+F+'" type="image/avif"><source srcset="'+_+'"><img data-imgit-loadable alt="" width="720" height="311" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABJAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABRbWRhdAoIOBTj9pAQ0AIyPRXABBBBBIABAMvOA/gD8HAjMgU1F7QU3P7IJ++Mu10xy7w2kcjawFGAGSbERZJQNpceckvPPeaHKBYle3w=" type="image/avif"><img src="//:0" alt="cover" width="720" height="311" decoding="sync"></picture></div><p>再生中のnaninovelスクリプトのホットリロードを手動で開始するには（たとえば、Unityプロジェクトの外部でスクリプトファイルを編集している場合）、 <code>reload</code> <a href="/naninovel-docs/ja/guide/development-console" class="vp-link">コンソールコマンド</a>を使用します。このコマンドはエディターのみで機能します（ビルドでは機能しません）。</p><h2 id="ide-サポート" tabindex="-1">IDE サポート <a class="header-anchor vp-link" href="#ide-サポート" aria-label="Permalink to &quot;IDE サポート&quot;">​</a></h2><p>構文のハイライト、エラーチェック、オートコンプリート、インタラクティブドキュメントといったIDE機能で、スクリプト作成時の生産性が大幅に向上します。無料でオープンソースの <a href="https://code.visualstudio.com" class="vp-link" target="_blank" rel="noreferrer">VS Code<span class="external-link-icon"> ↗</span></a>（Windows、MacOS、Linuxで利用可能）用の拡張機能を作成しました。これは、NaniScript構文に不可欠なIDEサポートを提供します。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+Y+'" type="image/avif"><source srcset="'+G+'"><img data-imgit-loadable alt="" width="720" height="480" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABrAAIAAAABAAACOwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABgAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAh21kYXQKCDgVI7tICGgBMl8VwAQQggSIAQDrlGeXXMk+ADbU3BnwSud9H6HoMUlKRwoCKPaLT8IPNC35mdxnuN/KRMh7dcgCmy09JmyUVKqO2JhAOjtBgoG2ODhj7IUxQqvsCnZTEgsOhYHt5dhzwAoGGBUju0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="480" decoding="sync"></picture></div><p>拡張機能のアクティベートと利用に関しては、次のビデオチュートリアルを確認してください。</p>',16),P=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=y87wd5jHfFw",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:Q,type:"image/avif"}),A("source",{srcset:I}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAArAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAAzbWRhdAoJGAz+GiBAQKCAMh4VwAIIAASBAAB71mwm8XU1+Eg7SsSXDM1CS9iYMfc=",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/y87wd5jHfFw?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),N=a('<h2 id="スクリプトデバッグ" tabindex="-1">スクリプトデバッグ <a class="header-anchor vp-link" href="#スクリプトデバッグ" aria-label="Permalink to &quot;スクリプトデバッグ&quot;">​</a></h2><p>大きなnaninovelスクリプトで作業しているとき、特定の部分の機能を確認するのに、常に最初からスクリプトを再生するのは面倒かもしれません。</p><p><a href="/naninovel-docs/ja/guide/development-console" class="vp-link">開発コンソール</a> で、現在再生中のスクリプトを任意の行に瞬時に「巻き戻す」ことができます:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span>rewind 12</span></span></code></pre></div><p>— 現在のスクリプトの12行目から再生を開始します。同じ方法で前後に巻き戻すことができます。ゲームの実行中にコンソールを開くには、コンソールがエンジンコンフィグで有効になっていることを確認し、 <code>~</code> キーを押します（構成で変更可能）。タッチスクリーンデバイスで実行している場合は、マルチタッチ（3つ以上の同時タッチ）を行ってください。</p><p>現在再生中のスクリプトとラインを確認するには、デバッグウィンドウを使用します: 開発コンソールで <code>debug</code>と入力し、<code>Enter</code> キーを押してウィンドウを表示します。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+x+'" type="image/avif"><source srcset="'+W+'"><img data-imgit-loadable alt="Scripts Debug" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAADAAAIAAAABAAACkAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAA3G1kYXQKCDgVI5tICGgBMrMBFcAAAEgQUNbbXm39UXs+FDnI4uLoOTYTHWPkx+5OKmb7vIgA0mqwvhDLrslI5tpOigR8VPH+/Ks7T1ZLCTUZQMGifMiahwzeb8LVgK9EAKeNId9uWhWc6f80RidlAd25jBx0S1m/S1C+AOdl9gn+XHgsVCAVVWXqJPGjgkefnCAOEz0Zrarwfr3xnjn9PsGW3diMb97NsbxKE/f9mEMx8cN4xKpRmtLstRx7Ab5ROb+W7gYKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>再生中のスクリプト名、行番号、コマンド（インライン）インデックスがウィンドウのタイトルに表示されます。<a href="/naninovel-docs/ja/guide/voicing#自動ボイス再生" class="vp-link">自動ボイス再生</a> 機能が有効の場合は、対応するボイスクリップの名前も表示されます。タイトルをドラッグすることでウィンドウの位置を変更できます。&quot;Stop&quot; ボタンはスクリプトの実行を停止します。スクリプトプレーヤーが停止すると、 &quot;Play&quot; ボタンで実行を再開できます。 &quot;Close&quot; ボタンを押すとデバッグウィンドウを閉じることができます。</p><p>デバッグウィンドウは、エディタービルドとプレーヤービルドの両方で使用できます。</p>',9),H=[q,X,S,M,V,j,R,T,Z,U,P,N];function O(z,K,L,J,$,AA){return e(),i("div",null,H)}const iA=s(C,[["render",O]]);export{sA as __pageData,iA as default};
