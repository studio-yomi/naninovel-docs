import{_ as A,c as e,o as a,f as t,dM as i,dN as c,ha as s,hb as o,hc as d,hd as n}from"./chunks/framework.BG74BkEs.js";const Q=JSON.parse('{"title":"语音","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/voicing.md","filePath":"zh/guide/voicing.md","lastUpdated":1698833889000}'),l={name:"zh/guide/voicing.md"},r=i+" 1x",p=c+" 1x",g=s+" 1x",h=o+" 1x",m=d+" 1x",B=n+" 1x",b=t(`<h1 id="语音" tabindex="-1">语音 <a class="header-anchor vp-link" href="#语音" aria-label="Permalink to &quot;语音&quot;">​</a></h1><p>向引擎添加语音剪辑，将他们存放至<code>Resources/Naninovel/Voice</code> （可以通过音频配置菜单的 <code>Loader</code> 修改）。 你也可以通过子文件夹来管理相应资源。脚本中需要使用(<code>/</code>)调用。比如<code>Resources/Naninovel/Voice/Intro/Day/25.wav</code>的资源，脚本中的调用为：<code>Voice/Intro/Day/25</code>。</p><p>使用<a href="/naninovel-docs/zh/guide/resource-providers#寻址资源系统" class="vp-link">可寻址资源系统</a> 来手动公开资源也是可以的。公开资源地址和上述相同，但是需要省略&quot;Resources/&quot;部分。比如开放 &quot;Hello.wav&quot; 声音剪辑，注册地址为<code>Naninovel/Voice/Hello</code>。注意，该系统默认不启用你可以通过资源配置菜单的<code>Enable Addressable In Editor</code>属性来启用。</p><p>你可以使用任何 <a href="https://docs.unity3d.com/Manual/AudioFiles.html" class="vp-link" target="_blank" rel="noreferrer">Unity支持<span class="external-link-icon"> ↗</span></a> 的影片格式。</p><p>在菜单 <code>Naninovel -&gt; Configuration -&gt; Audio</code> 配置语音表现，可用配置选项参考<a href="/naninovel-docs/zh/guide/configuration#音频" class="vp-link">属性配置</a>。</p><p>在Naninovel脚本中使用<a href="/zh/api/#voice" target="_blank"><code>@voice</code></a>命令，后接剪辑名字（路径）来播放语音。</p><h2 id="自动语音" tabindex="-1">自动语音 <a class="header-anchor vp-link" href="#自动语音" aria-label="Permalink to &quot;自动语音&quot;">​</a></h2><p>在全语音的游戏中，每个语音内容都用<a href="/zh/api/#voice" target="_blank"><code>@voice</code></a>命令配置会很麻烦。自动发声功能允许自动播放名称和当前执行的<a href="/zh/api/#print" target="_blank"><code>@print</code></a>命令的行号相同的语音剪辑；这样就完全不需要在naninovel脚本中使用 <a href="/zh/api/#voice" target="_blank"><code>@voice</code></a> 命令-当在游戏中打印相应的文本行时，声音会自动播放。</p><p>要启用自动语音功能，在配置菜单中打开 <code>Enable Auto Voicing</code> 选项。</p><p>使用该特性的音频文件应放在和要使用的脚本一样命名的文件夹，命名按<em>行序号</em>.<em>命令序号</em>方式命名，<em>行序号</em>是使用这句语音的打印文本序号，<em>命令序号</em>是行内处理常规文本，第几个<a href="/zh/api/#print" target="_blank"><code>@print</code></a>命令的序号。</p><p>比如，以下为&quot;Script001&quot;的脚本：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> text:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;Text from a print command.&quot;</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Text from a simple generic text line.</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Text from first sentence.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Text from second sentence.</span></span></code></pre></div><p>要对应上述行自动播放语音，音频剪辑应该放在<code>Resources/Naninovel/Voice/Script001</code>文件夹下（或使用<a href="/naninovel-docs/zh/guide/resource-providers#寻址资源系统" class="vp-link">可寻址资源系统</a> ），并按下表命名：</p><table><thead><tr><th>文本</th><th>音频剪辑名</th></tr></thead><tbody><tr><td>Text from a print command.</td><td>1.0</td></tr><tr><td>Text from a simple generic text line.</td><td>2.0</td></tr><tr><td>Text from first sentence.</td><td>3.0</td></tr><tr><td>Text from second sentence.</td><td>3.2</td></tr></tbody></table><p>为简化设置，当该功能启用时，自动语音的音频命名会在debug窗口上显示出来，如下图：</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+r+'" type="image/avif"><source srcset="'+p+'"><img data-imgit-loadable alt="auto voicing" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAADAAAIAAAABAAACkAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAA3G1kYXQKCDgVI5tICGgBMrMBFcAAAEgQUNbbXm39UXs+FDnI4uLoOTYTHWPkx+5OKmb7vIgA0mqwvhDLrslI5tpOigR8VPH+/Ks7T1ZLCTUZQMGifMiahwzeb8LVgK9EAKeNId9uWhWc6f80RidlAd25jBx0S1m/S1C+AOdl9gn+XHgsVCAVVWXqJPGjgkefnCAOEz0Zrarwfr3xnjn9PsGW3diMb97NsbxKE/f9mEMx8cN4xKpRmtLstRx7Ab5ROb+W7gYKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>要打开debug窗口，确保配置菜单中<code>Enable Development Console</code>启用，在play mode运行时按 <code>~</code> 输入<code>debug</code>按 <code>Enter</code>。</p><h2 id="声音分配文件" tabindex="-1">声音分配文件 <a class="header-anchor vp-link" href="#声音分配文件" aria-label="Permalink to &quot;声音分配文件&quot;">​</a></h2><p>可以通过菜单<code>Naninovel -&gt; Tools -&gt; Voiceover Documents</code>来生成该文件，内容包含脚本中使用 <a href="/zh/api/#print" target="_blank"><code>@print</code></a> 命令的和一般常规文本行。每条文本都会和自动语音功能对应音频名字关联。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+g+'" type="image/avif"><source srcset="'+h+'"><img data-imgit-loadable alt="" width="500" height="178" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABWAAIAAAABAAACJgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAZAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGQAAAAkAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAcW1kYXQKCDgQ8Q0gIaAEMkoVwAAASBJQ6ML2qsfPIwRQRvfKPcaCzUiQtVd17ZJDu8Wf/UUsf0f6mZkLJ6je/fNbLQWnUvxFtyzt8tsEXEs2clCSZ/tdr93xsAoFGBDxDSoyChXAAAEgAAJrDuE=" type="image/avif"><img src="//:0" alt="cover" width="500" height="178" decoding="sync"></picture></div><p><code>Locale</code> 是用于选择对应的本地化所需来生成（限选已添加进项目的本地化配置）。</p><p>当 <code>Use Markdown Format</code> 开启时，生成文件会按照<a href="https://en.wikipedia.org/wiki/Markdown" class="vp-link" target="_blank" rel="noreferrer">markdown格式<span class="external-link-icon"> ↗</span></a> (.md 扩展名)，这样会有更好的可读性。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+m+'" type="image/avif"><source srcset="'+B+'"><img data-imgit-loadable alt="" width="720" height="451" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABCAAIAAAABAAACEgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABcAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAXm1kYXQKCDgVI7NICGgBMjYVwAQQQQSAEADZ1fUJgJv+F6vCuE7bBTXPu4tPIINNcigmCBDGSylNaw8gg8pcrYoJSW+YbbEKBhgVI7NKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="451" decoding="sync"></picture></div><p>该文件旨在方便配音演员在配音时使用。</p>',24),u=[b];function v(k,f,C,_,G,w){return a(),e("div",null,u)}const y=A(l,[["render",v]]);export{Q as __pageData,y as default};
