import{_ as A,c as t,o as a,f as e,gI as s,gJ as i,gK as c,gL as o,hg as n,hh as l,hi as r,hj as d}from"./chunks/framework.BG74BkEs.js";const W=JSON.parse('{"title":"Обработка ввода","description":"","frontmatter":{},"headers":[],"relativePath":"ru/guide/input-processing.md","filePath":"ru/guide/input-processing.md","lastUpdated":1698833889000}'),p={name:"ru/guide/input-processing.md"},g=s+" 1x",h=i+" 1x",m=c+" 1x",u=o+" 1x",b=n+" 1x",B=l+" 1x",y=r+" 1x",v=d+" 1x",w=e('<h1 id="обработка-ввода" tabindex="-1">Обработка ввода <a class="header-anchor vp-link" href="#обработка-ввода" aria-label="Permalink to &quot;Обработка ввода&quot;">​</a></h1><p>Движок обрабатывает пользовательский ввод с помощью предварительно настроенных приёмников. Каждый приёмник входных данных имеет следующие свойства:</p><table><thead><tr><th>Свойство</th><th>Описание</th></tr></thead><tbody><tr><td>Name</td><td>ID приёмника ввода. Используется остальными системами движка для ссылки на приёмник.</td></tr><tr><td>Always Process</td><td>Следует ли обрабатывать входные данные в режиме блокировки входных данных. Например, при воспроизведении фильма.</td></tr><tr><td>Keys</td><td>Список клавиш (кнопок), активирующих ввод.</td></tr><tr><td>Axes</td><td>Список осей (например, мышь или аналоговый джойстик геймпада), активирующих ввод.</td></tr><tr><td>Swipes</td><td>Список свайпов (сенсорный экран), активирующих ввод.</td></tr></tbody></table><p>Для конкретных значений см. руководство по вводу Unity: <a href="https://docs.unity3d.com/Manual/ConventionalGameInput.html" class="vp-link" target="_blank" rel="noreferrer">docs.unity3d.com/Manual/ConventionalGameInput<span class="external-link-icon"> ↗</span></a>.</p><p>Вы можете настроить встроенные привязки ввода и добавить новые приёмники с помощью контекстного меню <code>Naninovel -&gt; Configuration -&gt; Input</code>; доступные параметры см. в <a href="/naninovel-docs/ru/guide/configuration#input" class="vp-link">руководстве по конфигурации</a>.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+g+'" type="image/avif"><source srcset="'+h+'"><img data-imgit-loadable alt="Управление вводом" width="720" height="744" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABKAAIAAAABAAACGgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAJQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAACUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAZm1kYXQKCTgVY5GkBDQAgDI9FcAEEEEEgQQAwWolg0HrR8hbMCKoK5/D5EpVe7m8EUqdkaS2kfIo1Kl/wHnwC3QU1VO08rdHST2UM9+nkQoGGBVjkaVAMgoVwAABIAAFPy/Z" type="image/avif"><img src="//:0" alt="cover" width="720" height="744" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Пример добавления пользовательской вводной привязки для переключения UI инвентаря можно найти в проекте <a href="https://github.com/Naninovel/Inventory" class="vp-link" target="_blank" rel="noreferrer">примера инвентаря на GitHub<span class="external-link-icon"> ↗</span></a>.</p><p>В частности, пользовательская привязка &quot;ToggleInventory&quot; используется в выполняемом сценарии <a href="https://github.com/Naninovel/Inventory/blob/master/Assets/NaninovelInventory/Runtime/UI/InventoryUI.cs#L215" class="vp-link" target="_blank" rel="noreferrer">UI/InventoryUI.cs<span class="external-link-icon"> ↗</span></a>. Привязка с таким же именем добавляется через меню конфигурации ввода в разделе Control Scheme.</p></div><h2 id="геимпад-и-клавиатура" tabindex="-1">Геймпад и клавиатура <a class="header-anchor vp-link" href="#геимпад-и-клавиатура" aria-label="Permalink to &quot;Геймпад и клавиатура&quot;">​</a></h2><p>Все встроенные функции можно использовать с помощью геймпада или клавиатуры. Вы можете удалить, изменить или добавить привязки горячих клавиш для геймпада/клавиатуры с помощью вышеупомянутого меню редактора привязок.</p><p>Встроенными UI также можно пользоваться с помощью геймпада или клавиатуры, без использования мыши или сенсорного ввода. Находясь в любом из модальных меню (вне основного режима игры, например, главного меню, бэклога и т. д.), нажмите навигационную клавишу (клавиша направления или левый джойстик на геймпаде, клавиши со стрелками на клавиатуре), чтобы выбрать кнопку в меню. Первая выбранная кнопка (игровой объект) может быть изменена в каждом UI с помощью поля <code>Focus Object</code>.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+m+'" type="image/avif"><source srcset="'+u+'"><img data-imgit-loadable alt="" width="496" height="147" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABSAAIAAAABAAACIgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAABwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAAcAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAbW1kYXQKCDgQr5pAQ0AIMkYVwAMMgQSRcQDNr4gQXFKuXDshP/VjU2n0SC2IDyf0/exlkNNBsdQN2uC3xloAhTNGnwObu15f3Pgiw05OpIOxtJ/7w7/wCgUYEK+aVDIKFcAAASAAAmsO4Q==" type="image/avif"><img src="//:0" alt="cover" width="496" height="147" decoding="sync"></picture></div><p>С помощью свойства <code>Focus Mode</code> вы можете указать, следует ли фокусироваться на назначенном игровом объекте сразу после того, как UI станет видимым, или после нажатия навигационной клавиши.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Навигация геймпадом по UI будет работать только тогда, когда в проекте будет установлена новая система ввода Unity; более подробную информацию о системе ввода вы найдете ниже.</p></div><p>Находясь в основном игровом режиме (вне модальных UI), нажмите кнопку, привязанную к вводу <code>Pause</code> (клавиша <code>Backspace</code> для клавиатуры и кнопка <code>Start</code> для геймпада по умолчанию), чтобы открыть меню паузы, где вы можете сохранить/загрузить игру, открыть настройки, выйти в главное меню и т. д.</p><h2 id="система-ввода" tabindex="-1">Система ввода <a class="header-anchor vp-link" href="#система-ввода" aria-label="Permalink to &quot;Система ввода&quot;">​</a></h2><p>Naninovel поддерживает новую <a href="https://blogs.unity3d.com/2019/10/14/introducing-the-new-input-system/" class="vp-link" target="_blank" rel="noreferrer">систему ввода Unity<span class="external-link-icon"> ↗</span></a>; см. в <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/Installation.html" class="vp-link" target="_blank" rel="noreferrer">официальной документации<span class="external-link-icon"> ↗</span></a>, как установить и включить систему ввода. Когда пакет системы ввода будет установлен (не забудьте включить новый бэкэнд ввода в настройках плеера), в меню конфигурации ввода появится свойство <code>Input Actions</code>.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+b+'" type="image/avif"><source srcset="'+B+'"><img data-imgit-loadable alt="" width="720" height="295" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoIOBTj5pAQ0AIyQxXACCCEBIQFAO5N3YY/VtU8rVayHC1fex11RAZmiuWa09vVtNKo4S49yxX0nKzkDhAgXuvNkHQwt9x1wshbQjFoPoA=" type="image/avif"><img src="//:0" alt="cover" width="720" height="295" decoding="sync"></picture></div><p>Назначьте <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/ActionAssets.html?q=input%20actions%20asset" class="vp-link" target="_blank" rel="noreferrer">ассет вводных действий<span class="external-link-icon"> ↗</span></a> свойству, затем создайте карту действий &quot;Naninovel&quot; и добавьте вводные действия с именами, равными именам привязкок Naninovel. Список встроенных имен привязок можно найти в списке &quot;Bindings&quot; в разделе &quot;Control Scheme&quot; в том же окне конфигурации. Ниже приведен пример конфигурации вводных действий.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+y+'" type="image/avif"><source srcset="'+v+'"><img data-imgit-loadable alt="" width="720" height="497" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABGAAIAAAABAAACFgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABkAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAYm1kYXQKCDgVI8NICGgBMjoVwAQQQQSBBADmYC7qbEuK1RWJ/otrt4/a+Ae1ca0MDZPrMv6xcr/Hw63+sdM9mjEO5BzIGxJlJQYwCgYYFSPDSoAyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="497" decoding="sync"></picture></div><p>При правильной настройке вводные действия активируют привязки Naninovel. Если вы хотите отключить устаревшую обработку вводных данных (которая задана в списке &quot;Bindings&quot;), отключите свойство <code>Process Legacy Bindings</code> в меню конфигурации ввода.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Сенсорный и объектный вводы по-прежнему обрабатываются с помощью устаревшего ввода, поэтому не отключайте полностью устаревший бэкэнд в настройках плеера, если только вы не собираетесь реализовать эти функции самостоятельно.</p></div><p>Стандартный ассет вводных действий хранится в <code>Naninovel/Prefabs/DefaultControls.inputactions</code>.</p><p>Для получения дополнительной информации об использовании новой системы ввода (например, как настроить определенные привязки или разрешить игрокам переопределять привязки во время выполнения) обратитесь к <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual" class="vp-link" target="_blank" rel="noreferrer">официальному руководству<span class="external-link-icon"> ↗</span></a>.</p>',23),G=[w];function Q(k,I,_,Y,C,f){return a(),t("div",null,G)}const X=A(p,[["render",Q]]);export{W as __pageData,X as default};
