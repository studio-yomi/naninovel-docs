import{_ as i,c as a,o as s,f as e,D as A,fY as t,fZ as o,dM as n,dN as l,f_ as c,f$ as d,g0 as r,g1 as h,g2 as p,g3 as g,g4 as k,g5 as m,g6 as u,g7 as y}from"./chunks/framework.BG74BkEs.js";const S=JSON.parse('{"title":"Voicing","description":"","frontmatter":{},"headers":[],"relativePath":"guide/voicing.md","filePath":"guide/voicing.md","lastUpdated":1698833889000}'),v={name:"guide/voicing.md"},E=t+" 1x",f=o+" 1x",b=n+" 1x",w=l+" 1x",B=c+" 1x",F=d+" 1x",C=r+" 1x",x=h+" 1x",I=p+" 1x",G=g+" 1x",Q=k+" 1x",D=m+" 1x",Y=u+" 1x",_=y+" 1x",V=e('<h1 id="voicing" tabindex="-1">Voicing <a class="header-anchor vp-link" href="#voicing" aria-label="Permalink to &quot;Voicing&quot;">​</a></h1><p>To expose voice clips to the engine, store them under <code>Resources/Naninovel/Voice</code> folder (can be changed in audio configuration under <code>Loader</code> foldout). You can additionally organize them with sub-folders, if you wish; in this case use forward slashes (<code>/</code>) when referencing them in naninovel scripts. Eg, voice audio clip stored as <code>Resources/Naninovel/Voice/Intro/Day/25.wav</code> can be referenced in scripts as <code>Intro/Day/25</code>.</p><p>It&#39;s also possible to use <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">addressable asset system</a> to manually expose the resources. To expose an asset, assign address equal to the path you&#39;d use to expose it via the method described above, except omit the &quot;Resources/&quot; part. Eg, to expose a &quot;Hello.wav&quot; voice clip, assign the clip asset following address: <code>Naninovel/Voice/Hello</code>. Be aware, that addressable provider is not used in editor by default; you can allow it by enabling <code>Enable Addressable In Editor</code> property in resource provider configuration menu.</p><p>You can use any audio formats <a href="https://docs.unity3d.com/Manual/AudioFiles.html" class="vp-link" target="_blank" rel="noreferrer">supported by Unity<span class="external-link-icon"> ↗</span></a> for your voice clips.</p><p>Voice playback behavior can be configured using <code>Naninovel -&gt; Configuration -&gt; Audio</code> context menu; for available options see <a href="/naninovel-docs/guide/configuration#audio" class="vp-link">configuration guide</a>.</p><p>Use <a href="/api/#voice" target="_blank"><code>@voice</code></a> command followed by the clip name (path) to play the voice in naninovel scripts, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@voice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Hello</span></span></code></pre></div><p>— will play a voice clip asset stored at <code>Resources/Naninovel/Voice/Hello.wav</code>.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>The <a href="/api/#voice" target="_blank"><code>@voice</code></a> commands are intended to occasionally play voice clips at specific moments and are not suited for implementing a complete voiceover; see the &quot;Auto Voicing&quot; section below for more information on how to handle voicing in projects, where most of the text lines have an associated voice clip. Some built-in features (eg, replay voice in backlog, voiceover documents, etc) works only with the auto voice workflow.</p></div><h2 id="auto-voicing" tabindex="-1">Auto Voicing <a class="header-anchor vp-link" href="#auto-voicing" aria-label="Permalink to &quot;Auto Voicing&quot;">​</a></h2><p>In fully-voiced games, it could become tedious to specify a <a href="/api/#voice" target="_blank"><code>@voice</code></a> command for each voiced line. Auto voicing feature allows automatically playing voice clip associated with either playback spot or unique text identifier (default). To enable auto voicing feature, enable <code>Enable Auto Voicing</code> toggle in the Audio configuration menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+E+'" type="image/avif"><source srcset="'+f+'"><img data-imgit-loadable alt="" width="720" height="271" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABKAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABSbWRhdAoIOBTj1pAQ0AIyPhXABBBCBIQhAO5Nv/Z19sPTIH9tD1yB1fAwkNyWZEp2eDziC2q6w0pTB6lPguXn6AdqU3UXkKqo0d7nsaDv" type="image/avif"><img src="//:0" alt="cover" width="720" height="271" decoding="sync"></picture></div><p>The association mode can be selected in the audio configuration via <code>Auto Voice Mode</code> option. Playback spot mode is less robust and considered legacy; please check out Text ID mode description below and if for some reason it won&#39;t suit you, continue reading about Playback spot mode.</p><h3 id="text-id" tabindex="-1">Text ID <a class="header-anchor vp-link" href="#text-id" aria-label="Permalink to &quot;Text ID&quot;">​</a></h3><p>Text ID mode associates voice clips with localizable text identifiers. The association can be performed either via voice map utility or by assigning addresses to audio clip assets with Unity&#39;s addressable asset system (or otherwise exposing the assets to another <a href="/naninovel-docs/guide/resource-providers" class="vp-link">resource provider</a>).</p><p>When Text ID mode is selected, an &quot;Open Voice Map Utility&quot; button will appear in the audio configuration menu; you can also access the utility via <code>Naninovel -&gt; Tools -&gt; Voice Map</code> editor menu.</p>',16),W=A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"634",height:"174"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-3c8fad99f7a18e3f0eaf419c9be92277.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-3c8fad99f7a18e3f0eaf419c9be92277.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA5AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAfAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABBbWRhdAoGGBD9DQBAMi8VwAUUQQSFAQDtrfyNBIBmqOgjGKMgLtjLlvRbdTNThmRpybFWcGGmM9pu+MVMeA==",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"634",height:"174",decoding:"sync"})])],-1),T=e(`<p>First, select script file for which to map the voice clips. If the selected script contains any print commands (or generic text lines), they will be listed in pairs with audio clip fields. Drop (or select) a voice clip via the field to associate voice with the text. It&#39;s also possible to auto-map the clips; for this name the clip assets equal to the start of the voiced line text and drag the clips (or folder with the clips) to the voice map utility.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When assigning the clips via voice map window, make sure to store the voice clips outside any &quot;Resources&quot; folders to prevent conflicts.</p></div><p>To associate voice clips for non-source locale, pick <a href="/naninovel-docs/guide/localization#scripts-localization" class="vp-link">script localization document</a> with <code>Localization Document</code> field. When valid document is picked, assigned voice clips will be automatically prefixed with the locale under which the document is stored and used whe corresponding <a href="/naninovel-docs/guide/voicing#voice-language" class="vp-link">voice language</a> is selected.</p><p>In cases same author have equal text messages (in the same script), both messages will be associated with the same voice clip. If that is not desired, add unique text identifier to one of the messages, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Hello.</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Hello.</span><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">|#uniqueid|</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Enable <code>Stable Identification</code> under scripts configuration menu to make Naninovel automatically generate unique IDs for all localizable script text, including voiced lines. This way you won&#39;t have to manually assign IDs for duplicate lines and editing already mapped lines won&#39;t break the associations. See <a href="/naninovel-docs/guide/naninovel-scripts#text-identification" class="vp-link">text identification</a> for more info.</p></div><p>To associate the clips without using voice map utility, expose the assets to a resource provider using text ID as the resource name prefixed by the voice loader prefix (<code>Voice</code> by default). To find text ID of a particular text, use <a href="/naninovel-docs/guide/voicing#voiceover-documents" class="vp-link">voiceover documents</a>; the ID is displayed after voice&#39;s playback spot prefixed by <code>#</code>. For example, to associate a line with <code>2670eb4</code> ID with addressable resource provider, use the following address <code>Naninovel/Voice/2670eb4</code>.</p><p>To find text ID associated with the currently printed text while the game is running use debug window:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+b+'" type="image/avif"><source srcset="'+w+`"><img data-imgit-loadable alt="auto voicing" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAADAAAIAAAABAAACkAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAA3G1kYXQKCDgVI5tICGgBMrMBFcAAAEgQUNbbXm39UXs+FDnI4uLoOTYTHWPkx+5OKmb7vIgA0mqwvhDLrslI5tpOigR8VPH+/Ks7T1ZLCTUZQMGifMiahwzeb8LVgK9EAKeNId9uWhWc6f80RidlAd25jBx0S1m/S1C+AOdl9gn+XHgsVCAVVWXqJPGjgkefnCAOEz0Zrarwfr3xnjn9PsGW3diMb97NsbxKE/f9mEMx8cN4xKpRmtLstRx7Ab5ROb+W7gYKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>To show the window, make sure <code>Enable Development Console</code> is turned on in the engine configuration, then press <code>~</code> key while in play mode, type <code>debug</code> and press <code>Enter</code>.</p><h3 id="playback-spot" tabindex="-1">Playback Spot <a class="header-anchor vp-link" href="#playback-spot" aria-label="Permalink to &quot;Playback Spot&quot;">​</a></h3><p>Legacy playback spot mode will automatically play voice clip that has name equal line number of the currently played <a href="/api/#print" target="_blank"><code>@print</code></a> command. This works fine as long as the voiceover is added after scenario scripts are finished, but when working on voicing and authoring/editing scripts at the same time, you may find yourself constantly changing voice clip names to accommodate edits in the associated scripts. For this reason we recommend using Text ID mode, where associations won&#39;t break when editing scenario.</p><p>Audio clips used with playback spot mode should be grouped under a folder with name equal to the script name, and has the following name: <em>LineNumber</em>.<em>CommandIndex</em>, where <em>LineNumber</em> is the line number of the corresponding print command and <em>CommandIndex</em> is the inline or command index of the print command in cases when dealing with generic text lines.</p><p>For example, consider the following naninovel script with name &quot;Script001&quot;:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> text:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;Text from a print command.&quot;</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Text from a simple generic text line.</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Text from first sentence.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Text from second sentence.</span></span></code></pre></div><p>In order for the auto voicing system to play corresponding audio clips when printing those lines, the clips should be placed under <code>Resources/Naninovel/Voice/Script001</code> folder (or registered with <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">addressable system</a>) and have the following names:</p><table><thead><tr><th>Text</th><th>Voice Clip Name</th></tr></thead><tbody><tr><td>Text from a print command.</td><td>1.0</td></tr><tr><td>Text from a simple generic text line.</td><td>2.0</td></tr><tr><td>Text from first sentence.</td><td>3.0</td></tr><tr><td>Text from second sentence.</td><td>3.2</td></tr></tbody></table><p>The voice clip names will be displayed in debug window instead of IDs when the mode is selected.</p><h2 id="author-volume" tabindex="-1">Author Volume <a class="header-anchor vp-link" href="#author-volume" aria-label="Permalink to &quot;Author Volume&quot;">​</a></h2><p>When using auto voicing, you may want to let players control voice volume for specific <a href="/naninovel-docs/guide/characters" class="vp-link">characters</a> or, more correctly, authors of the printed text messages. For example, a player may decide to mute voice of the main protagonist or make a specific character voice lower.</p><p>To set up per-author voice control, <a href="/naninovel-docs/guide/user-interface#modifying-built-in-ui" class="vp-link">create a custom settings UI</a>, add a new slider (you can duplicate &quot;VoiceVolumeSlider&quot; already present in the prefab) and specify author (character) ID in the <code>Author ID</code> field.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+B+'" type="image/avif"><source srcset="'+F+'"><img data-imgit-loadable alt="" width="720" height="392" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAByAAIAAAABAAACQgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAjm1kYXQKCDgVI5tICGgBMmYVwAwxBQSEAADrlFnQaKeu3anPjulDgoQCpgJ31/yiujPGpSADVelK2aDljfLgEFIDHHRylVUI3S2KYOFGOu4FKH7tM53Xz2mdP595Uty8EDUQbUEdjdAHDEU2phBhyC9UmFz40kIKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="392" decoding="sync"></picture></div><p>The added slider will now control voice volume of the specified character. When nothing is assigned to the author ID field, the slider will control volume of the audio mixer&#39;s voice group, affecting all the voices.</p><h2 id="voice-language" tabindex="-1">Voice Language <a class="header-anchor vp-link" href="#voice-language" aria-label="Permalink to &quot;Voice Language&quot;">​</a></h2><p>When adding voice over for different localizations, it&#39;s possible to allow player to select the voice language independently of the main localization (eg, play the game with English text and UI, but with Japanese voice over).</p><p>To add voice language dropdown to the game settings, assign <code>Voice Locales</code> property in the audio configuration menu. Add the language tags of the locales for which you have the corresponding voice resources. Eg, the example below will allow the player to choose from English and Japanese voices:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+C+'" type="image/avif"><source srcset="'+x+'"><img data-imgit-loadable alt="" width="720" height="333" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABoAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABwbWRhdAoIOBUjg0gIaAEyXBXACCECBIQRAODTjbf2/afrx0XoYBA512dJWc/tcMfFBKF3PdMB3xFFWkulIOX9kfsT5wwahNIz/jEDKUfSQKxxqpAoNerwk4nTKvztKTSnal96tG8iP9/Cl+l4" type="image/avif"><img src="//:0" alt="cover" width="720" height="333" decoding="sync"></picture></div><p>When the property is assigned, &quot;Voice language&quot; dropdown will appear in the game settings menu:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+I+'" type="image/avif"><source srcset="'+G+'"><img data-imgit-loadable alt="" width="515" height="377" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABRAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAZAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABZbWRhdAoIOBExFpAQ0AIyRRXACCCBBIAAAJj5her9SS2P9WOmLAVPcRYkEbq2ZJVY4ls3IMlWyw0nX+eHAVrEUb0wwXUafnScUBhm8PoQ0HaZiowxkA==" type="image/avif"><img src="//:0" alt="cover" width="515" height="377" decoding="sync"></picture></div><p>For more information on how to localize game resources, see the <a href="/naninovel-docs/guide/localization" class="vp-link">localization guide</a>.</p><h2 id="voiceover-documents" tabindex="-1">Voiceover Documents <a class="header-anchor vp-link" href="#voiceover-documents" aria-label="Permalink to &quot;Voiceover Documents&quot;">​</a></h2><p>The voiceover documents are intended to be used by the voice recording engineers and actors when producing the voiceover audio.</p><p>Use voiceover documents generator utility accessible via <code>Naninovel -&gt; Tools -&gt; Voiceover Documents</code> to generate the documents, containing printed text from the <a href="/api/#print" target="_blank"><code>@print</code></a> commands and generic text lines. Each printed text message will be associated with the auto voice clip name and hash to be used with the auto voicing feature.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+Q+'" type="image/avif"><source srcset="'+D+'"><img data-imgit-loadable alt="" width="501" height="190" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABYAAIAAAABAAACKAAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAZAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGQAAAAkAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAc21kYXQKCDgQ8Q0gIaAEMkwVwAIIAISIIQDwq6etb+eERjIQHqqlsX8g+Xp3ryPK5kYH6fuSyQh/LyDod/k73/Yo8kLfpH9Cq5LQRKjzo9zkaODT0a2D5CMofevICgUYEPENKjIKFcAAASAAAmsO4Q==" type="image/avif"><img src="//:0" alt="cover" width="501" height="190" decoding="sync"></picture></div><p><code>Locale</code> property allows to select a specific locale for which to generate the documents (the localized naninovel scripts for the selected locale should exist in your project).</p><p><code>Format</code> property controls type of file and formatting of the voiceover documents to produce:</p><ul><li>Plaintext — Plaintext file without any formatting.</li><li>Markdown — <a href="https://en.wikipedia.org/wiki/Markdown" class="vp-link" target="_blank" rel="noreferrer">Markdown<span class="external-link-icon"> ↗</span></a> file with additional formatting for better readability.</li><li>CSV — <a href="https://en.wikipedia.org/wiki/Comma-separated_values" class="vp-link" target="_blank" rel="noreferrer">Comma-separated values<span class="external-link-icon"> ↗</span></a> file to be used with table processors, such as Google Sheets or Microsoft Excel.</li></ul><p>Below is an example of a voiceover document generated with Markdown format.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+Y+'" type="image/avif"><source srcset="'+_+`"><img data-imgit-loadable alt="" width="720" height="227" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA8AAIAAAABAAACDAAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAACwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAAAsAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAV21kYXQKCDgU46aQENACMjAVwAYYQYSIFQDj2zIimc0EDR4d3YZW3yILYaCrcTKgUwULhsWdGEQLayJDknoOWsAKBRgU46aVMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="227" decoding="sync"></picture></div><h3 id="custom-generator" tabindex="-1">Custom Generator <a class="header-anchor vp-link" href="#custom-generator" aria-label="Permalink to &quot;Custom Generator&quot;">​</a></h3><p>It&#39;s possible to inject custom voiceover document generator in case you wish to format and/or serialize the documents in a special way.</p><p>To add custom generator, create a new C# class with a parameterless constructor and implement <code>IVoiceoverDocumentGenerator</code> interface. The utility will automatically pick such class and use it instead of the built-in generators.</p><p><code>GenerateVoiceoverDocument</code> method will be invoked by the utility for each script found in the project for the selected locale. <code>list</code> argument is the list of commands contained in the script. <code>locale</code> represents the locale (language) selected in the utility. <code>outDir</code> is the output path selected in the utility.</p><p>Below is an example of a custom voiceover generator, which appends a header with script name and locale followed by <code>voice path and hash &gt; author &gt; text</code> line for each print text command found in the script.</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VoiceoverGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IVoiceoverDocumentGenerator</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenerateVoiceoverDocument</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ScriptPlaylist</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> locale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> outDir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> builder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StringBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppendLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$&quot;Voiceover for &#39;{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScriptName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39; ({</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} locale)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        foreach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OfType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PrintText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> voicePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AudioConfiguration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetAutoVoiceClipPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd.PlaybackSpot);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> voiceHash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AudioConfiguration.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetAutoVoiceClipPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppendLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$&quot;{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voicePath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} #{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">voiceHash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} &gt; {</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AuthorId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} &gt; {</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Text</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        File.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WriteAllText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$&quot;{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">outDir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScriptName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, builder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ToString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,45),X=[V,W,T];function M(Z,R,q,U,N,j){return s(),a("div",null,X)}const z=i(v,[["render",M]]);export{S as __pageData,z as default};
