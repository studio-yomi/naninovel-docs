import{_ as t,c as i,o as n,D as e,a,f as s,ar as A,as as o,at as r,au as c,av as l,aw as d,ax as p,ay as h,az as g,aA as u,aB as m,aC as k,aD as b,aE as y,aF as v,aG as f,aH as w,aI as B}from"./chunks/framework.BG74BkEs.js";const Ae=JSON.parse('{"title":"Backgrounds","description":"","frontmatter":{},"headers":[],"relativePath":"guide/backgrounds.md","filePath":"guide/backgrounds.md","lastUpdated":1711620136000}'),C={name:"guide/backgrounds.md"},_=A+" 1x",E=o+" 1x",x=p+" 1x",D=h+" 1x",Y=r+" 1x",F=c+" 1x",G=g+" 1x",Q=u+" 1x",W=m+" 1x",I=k+" 1x",T=b+" 1x",M=y+" 1x",R=v+" 1x",S=f+" 1x",V=l+" 1x",X=d+" 1x",Z=w+" 1x",U=B+" 1x",j=e("h1",{id:"backgrounds",tabindex:"-1"},[a("Backgrounds "),e("a",{class:"header-anchor vp-link",href:"#backgrounds","aria-label":'Permalink to "Backgrounds"'},"​")],-1),P=e("p",null,[a("Opposed to "),e("a",{href:"/naninovel-docs/guide/characters",class:"vp-link"},"characters"),a(", backgrounds are actors used to represent a "),e("em",null,"back"),a(" layer of the scene: locations, sceneries, landscapes or anything that should always appear "),e("em",null,"behind"),a(" the characters. Check following video tutorial for a brief overview of the background actors.")],-1),N=e("div",{class:"imgit-youtube","data-imgit-container":""},[e("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=X2iyGSCpnJs",style:{position:"absolute"}},"Watch on"),e("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[e("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),e("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[e("picture",{style:{width:"100%"}},[e("source",{srcset:_,type:"image/avif"}),e("source",{srcset:E}),e("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABbAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABjbWRhdAoJGBUjm0QICBQQMk4VwAwwggSAAADrUa9fVBDP4PQoy24wFu/DfgHxHQpWjviN1JcpahqDVOwLhNvy+oAfLJop7O4ncKPmIKUiLLs0FWETfYZbotPHYAkHi2A=",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),e("div",{class:"imgit-youtube-player",hidden:""},[e("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/X2iyGSCpnJs?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),q=s('<p>A background actor is defined with a name, appearance, visibility and transform (position, rotation, scale). It can change appearance, visibility and transform over time.</p><p>Backgrounds&#39; behavior can be configured using <code>Naninovel -&gt; Configuration -&gt; Backgrounds</code> context menu; for available options see <a href="/naninovel-docs/guide/configuration#backgrounds" class="vp-link">configuration guide</a>. The backgrounds&#39; resources manager can be accessed using <code>Naninovel -&gt; Resources -&gt; Backgrounds</code> context menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+x+'" type="image/avif"><source srcset="'+D+'"><img data-imgit-loadable alt="" width="720" height="417" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABKAAIAAAABAAACGgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAZm1kYXQKCDgVI6NICGgBMj4VwAggggSIQADrlE7afICQtApILRfYnIvWieyonup0BZqQcvARUT1Rfyd5EarD31jDrIm2WCNXKWnWyWfw8AoGGBUjo0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="417" decoding="sync"></picture></div><p>In case you have a lot of backgrounds and/or appearances per background and it&#39;s inconvenient to assign them all via editor menu, use actor record assets (<code>Create -&gt; Naninovel -&gt; Actor Record -&gt; Background</code>) which support multi-editing and organizing the records with folders; check the video below for an example.</p>',4),H=e("div",{class:"imgit-youtube","data-imgit-container":""},[e("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=2YP-36THHvk",style:{position:"absolute"}},"Watch on"),e("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[e("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),e("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[e("picture",{style:{width:"100%"}},[e("source",{srcset:Y,type:"image/avif"}),e("source",{srcset:F}),e("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABHAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABPbWRhdAoJGAz+GiBAQKCAMjoVwAAASEAQxJvPcHnpChNZI20NPfTP7Yc2PSeqVIiLxnDve2WVgILcGryMXFiclxhCTrBG8M8fl0Pe",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),e("div",{class:"imgit-youtube-player",hidden:""},[e("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/2YP-36THHvk?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),L=s(`<p>It&#39;s possible to use <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">addressable asset system</a> to associate resources with actor records without using editor menus. Eg, to associate a &quot;Beach&quot; appearance with &quot;MainBackground&quot; background, assign the texture asset following address: <code>Naninovel/Backgrounds/MainBackground/Beach</code> and assign <code>Naninovel</code> label to the asset in addressable group configuration. Be aware, that addressable provider is not used in editor by default; you can allow it by enabling <code>Allow Addressable In Editor</code> property in resource provider configuration menu. Find more info on using addressable provider in the <a href="/naninovel-docs/guide/resource-providers#addressable" class="vp-link">resource providers documentation</a>.</p><p>In naninovel scripts, backgrounds are mostly controlled with <a href="/api/#back" target="_blank"><code>@back</code></a> command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Set \`River\` as the appearance of the main background</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> River</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Same as above, but also use a \`RadialBlur\` transition effect</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> River.RadialBlur</span></span></code></pre></div><p>Backgrounds are handled a bit differently from characters to better accommodate traditional VN game flow. Most of the time you&#39;ll probably have a single background actor on scene, which will constantly transition to different appearances. To remove the hassle of repeating same actor ID in scripts, it&#39;s possible to provide only the background appearance and transition type (optional) as a nameless parameter assuming <code>MainBackground</code> actor should be affected. When this is not the case, ID of the background actor can be explicitly provided via the <code>id</code> parameter:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given a \`CityVideo\` actor with \`Night\` and \`Day\` video clips.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Show the video background playing day clip.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Day</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">CityVideo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Transition to night clip with ripple effect.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Night.Ripple</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">CityVideo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Hide the video background.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hide</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CityVideo</span></span></code></pre></div><p>Main background actor record is created by default in the background resources manager and can&#39;t be renamed or deleted; however, parameters of the main background (implementation, pivot, PPU, etc) can be freely changed.</p><h2 id="z-order" tabindex="-1">Z-order <a class="header-anchor vp-link" href="#z-order" aria-label="Permalink to &quot;Z-order&quot;">​</a></h2><p>When showing multiple backgrounds simultaneously, they tend to cover each other:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">1</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">2</span></span></code></pre></div><p>— in case both background <code>1</code> and <code>2</code> are full-screen opaque textures, one added later will completely cover the other. To show first one back, either hide the other or change z-position (depth) to chane the draw order:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Hide background 2 to reveal first one back</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">2</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> visible:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; There is also a dedicated command to hide actors</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hide</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Alternatively, change z-position</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">1</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">,,98</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">2</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">,,99</span></span></code></pre></div><p>Higher z-positions result in further distance from the camera, hence first actor being placed closer to the camera will render on top of the other.</p><p>Backgrounds are placed with a specific z-offset by default to make them appear behind other actor types. The offset value can be changed via <code>Z Offset</code> property in background settings.</p><p>To prevent z-fighting issues, backgrounds are further offset apart from each other over z-axis when first added (shown). The offset is controlled with <code>Z Step</code> setting.</p><h2 id="match-mode" tabindex="-1">Match Mode <a class="header-anchor vp-link" href="#match-mode" aria-label="Permalink to &quot;Match Mode&quot;">​</a></h2><p>When <a href="https://docs.unity3d.com/Manual/class-Camera.html" class="vp-link" target="_blank" rel="noreferrer">camera<span class="external-link-icon"> ↗</span></a> is rendering in orthographic mode and <code>Match Mode</code> in background actor configuration is not disabled, the actor will attempt to match its size against current screen size. This is performed to handle the cases when display <a href="https://en.wikipedia.org/wiki/Aspect_ratio_(image)" class="vp-link" target="_blank" rel="noreferrer">aspect ratio<span class="external-link-icon"> ↗</span></a> is different from the background&#39;s. When the matching is disabled and the aspect ratios are different, &quot;black bars&quot; will appear.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+G+'" type="image/avif"><source srcset="'+Q+`"><img data-imgit-loadable alt="" width="720" height="396" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACCAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACKbWRhdAoIOBUjm0gIaAEydhXADDGFBIRxAOuUZ0+VBS/ebm+8Lz8qBNWmtYjZI9IF4VXhFYksiQDTt4KEcTpZNs6aRlc+aZSjR3D8FTixEIknLso1jnkq/vBG/sJkdXZkGc4/2U5ws8EMM1gSLWs8Rb0e2+Ik9b7HTPDwfROBgELwzy/oh6o=" type="image/avif"><img src="//:0" alt="cover" width="720" height="396" decoding="sync"></picture></div><p>While for standalone (PC, Mac, Linux) builds you can limit the available aspect ratios in the <a href="https://docs.unity3d.com/Manual/class-PlayerSettingsStandalone.html#Resolution" class="vp-link" target="_blank" rel="noreferrer">player settings<span class="external-link-icon"> ↗</span></a>, on web, consoles and mobiles it&#39;s not possible and the applications have to adapt for the target devices instead.</p><p>Following match modes can be set for each background actor (except of generic implementation):</p><table><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody><tr><td>Crop</td><td>The background will always occupy the whole camera frustum, ensuring no black bars are visible to the player, no matter the display aspect ratio; however, some background areas could be cropped. Set by default for new background actors.</td></tr><tr><td>Fit</td><td>The whole background area will always remain visible, but black bars will appear when the aspect ratios are different.</td></tr><tr><td>Custom</td><td>Allows matching either width or height with a custom ratio. The ratio is controlled with <code>Custom Match Ratio</code> property: minimum (0) value will match width and ignore height, maximum (1) — vice-versa.</td></tr><tr><td>Disable</td><td>Don&#39;t perform any matching.</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In case you wish to implement a similar matching feature for a generic or custom background see the <a href="https://forum.naninovel.com/viewtopic.php?f=8&amp;t=107&amp;p=335#p335" class="vp-link" target="_blank" rel="noreferrer">scale to screen example<span class="external-link-icon"> ↗</span></a> on the forum.</p></div><h2 id="poses" tabindex="-1">Poses <a class="header-anchor vp-link" href="#poses" aria-label="Permalink to &quot;Poses&quot;">​</a></h2><p>Each background has <code>Poses</code> property allowing to specify named states (poses).</p><p>Pose name can be used as appearance in <a href="/api/#back" target="_blank"><code>@back</code></a> command to apply all the selected parameters specified in the pose at once, instead of specifying them individually via the command parameters.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given \`Day\` pose is defined for main background,</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; applies all the selected parameters specified in the pose.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Day</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Same as above, but for a background actor with \`City\` ID</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; and using \`DropFade\` transition over 3 seconds.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Day</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">City</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> transition:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">DropFade</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">3</span></span></code></pre></div><p>Notice, that when a pose is used as appearance, you can still override individual parameters, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given \`Day\` pose is defined for main background,</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; applies all the parameters specified in the pose state,</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; except tint, which is overridden in the command.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Day</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> tint:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">#ff45cb</span></span></code></pre></div><h2 id="sprite-backgrounds" tabindex="-1">Sprite Backgrounds <a class="header-anchor vp-link" href="#sprite-backgrounds" aria-label="Permalink to &quot;Sprite Backgrounds&quot;">​</a></h2><p>Sprite implementation of the background actors is the most common and simple one; it uses a set of <a href="https://docs.unity3d.com/Manual/Textures.html" class="vp-link" target="_blank" rel="noreferrer">texture<span class="external-link-icon"> ↗</span></a> assets wrapped over a quad mesh (sprite) to represent appearances of the background. The textures can be based on <code>.jpg</code>, <code>.png</code>, <code>.tiff</code>, <code>.psd</code> or any other image file format <a href="https://docs.unity3d.com/Manual/ImportingTextures" class="vp-link" target="_blank" rel="noreferrer">supported by Unity<span class="external-link-icon"> ↗</span></a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Choose file formats that are most comfortable for your development workflow. When building the project, Unity will automatically convert all the source resources (textures, audio, video, etc) to the formats most suitable for the target platform, so it won&#39;t make difference in which format you originally store the resources in the project. Find more information on how Unity manage project assets in the <a href="https://docs.unity3d.com/Manual/AssetWorkflow" class="vp-link" target="_blank" rel="noreferrer">official documentation<span class="external-link-icon"> ↗</span></a>.</p></div><p>Initial (unscaled) size of the sprite background mesh on scene depends on the reference resolution (camera configuration), background&#39;s <code>Pixel Per Unit</code> property (set for each background actor in the configuration menu) and source texture resolution.</p><p>Naninovel will attempt to make the backgrounds cover the whole camera frustum by default, so make sure to size the source textures so that the aspect ratio is equal to the reference resolution; see <a href="/naninovel-docs/guide/backgrounds#match-mode" class="vp-link">match mode guide</a> for more information on how to change or disable this behaviour.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Define reference resolution with your team before starting the work on the art assets (both characters and backgrounds). This way the artists will be able to author the assets with the correct dimensions and you won&#39;t have to edit them later.</p></div><h2 id="diced-sprite-backgrounds" tabindex="-1">Diced Sprite Backgrounds <a class="header-anchor vp-link" href="#diced-sprite-backgrounds" aria-label="Permalink to &quot;Diced Sprite Backgrounds&quot;">​</a></h2><p>Built with an open source <a href="https://github.com/elringus/SpriteDicing" class="vp-link" target="_blank" rel="noreferrer">SpriteDicing<span class="external-link-icon"> ↗</span></a> package, <code>DicedSpriteBackground</code> implementation allows to significantly reduce build size and texture memory by reusing texture areas of the background sprites when the associated textures contain mostly similar data.</p><p>Diced background is very similar to diced character implementation; see the <a href="/naninovel-docs/guide/characters.html#diced-sprite-characters" class="vp-link">diced characters guide</a> for the setup and usage instructions.</p><h2 id="video-backgrounds" tabindex="-1">Video Backgrounds <a class="header-anchor vp-link" href="#video-backgrounds" aria-label="Permalink to &quot;Video Backgrounds&quot;">​</a></h2><p>Video backgrounds use looped <a href="https://docs.unity3d.com/Manual/class-VideoClip" class="vp-link" target="_blank" rel="noreferrer">video clip<span class="external-link-icon"> ↗</span></a> assets to represent the appearance.</p><p>For the supported video formats for each platform see <a href="https://docs.unity3d.com/Manual/VideoSources-FileCompatibility.html" class="vp-link" target="_blank" rel="noreferrer">Unity docs for video sources<span class="external-link-icon"> ↗</span></a>. When using video with an alpha channel (transparency), see the <a href="https://docs.unity3d.com/Manual/VideoTransparency.html" class="vp-link" target="_blank" rel="noreferrer">guide on the supported formats<span class="external-link-icon"> ↗</span></a>.</p><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>When <code>Transcode</code> is disabled in the video asset import settings, the clip may not be playable on some platforms. When a video is not playing in the build, try enabling the transcode option and rebuild the player.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+W+'" type="image/avif"><source srcset="'+I+`"><img data-imgit-loadable alt="" width="482" height="440" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABBAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAYAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABJbWRhdAoIOBEvVpAQ0AIyNRXABBBCBIUEALw4lJmAi/3gdhY1gV/nEFfW9tao4nrCy4gj+yuZ5E1p+hhmxwyjGnuyVL05" type="image/avif"><img src="//:0" alt="cover" width="482" height="440" decoding="sync"></picture></div></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>In case having issues with achieving a seamless loop, make sure the video has exactly same starting and finishing frames and a compatible encoding setup; check our <a href="https://github.com/naninovel/samples/tree/main/unity/video-actor" class="vp-link" target="_blank" rel="noreferrer">video actor example project<span class="external-link-icon"> ↗</span></a> for the reference.</p></div><p>To prevent specific appearance from looping, append <code>NoLoop</code> (case-insensitive) to the appearance name.</p><h3 id="webgl-limitations" tabindex="-1">WebGL Limitations <a class="header-anchor vp-link" href="#webgl-limitations" aria-label="Permalink to &quot;WebGL Limitations&quot;">​</a></h3><p>On WebGL Unity&#39;s video player can only work in streaming mode, so all the video resources will be copied to <code>Assets/StreamingAssets/Backgrounds</code> folder upon building the WebGL player. <strong>StreamingAssets</strong> folder will also appear in the build output directory; make sure to preserve it when publishing the build and check that your web server allows reading the data from this folder.</p><p>The copied video files won&#39;t be transcoded by Unity (even if the option is enabled), so the source files should initially be in a format supported by the web browsers; alternatively, you can replace the clip files in the game directory after the build. Below is the detailed metadata of a background video clip that is used in our WebGL demo:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span>Container : MPEG-4</span></span>
<span class="line"><span>Container profile : Base Media</span></span>
<span class="line"><span>Container codec ID : isom (isom/iso2/avc1/mp41)</span></span>
<span class="line"><span>Format : AVC</span></span>
<span class="line"><span>Format/Info : Advanced Video Codec</span></span>
<span class="line"><span>Format profile : High@L4</span></span>
<span class="line"><span>Format settings, CABAC : Yes</span></span>
<span class="line"><span>Format settings, RefFrames : 4 frames</span></span>
<span class="line"><span>Codec ID : avc1</span></span>
<span class="line"><span>Codec ID/Info : Advanced Video Coding</span></span>
<span class="line"><span>Bit rate : 3 196 kb/s</span></span>
<span class="line"><span>Width : 1 920 pixels</span></span>
<span class="line"><span>Height : 1 080 pixels</span></span>
<span class="line"><span>Display aspect ratio : 16:9</span></span>
<span class="line"><span>Frame rate mode : Constant</span></span>
<span class="line"><span>Frame rate : 25.000 FPS</span></span>
<span class="line"><span>Color space : YUV</span></span>
<span class="line"><span>Chroma subsampling : 4:2:0</span></span>
<span class="line"><span>Bit depth : 8 bits</span></span>
<span class="line"><span>Scan type : Progressive</span></span>
<span class="line"><span>Writing library : x264 core 148 r2795 aaa9aa8</span></span>
<span class="line"><span>Encoding settings : cabac=1 / ref=3 / deblock=1:0:0 / analyse=0x3:0x113 / me=hex / subme=7 / psy=1 / psy_rd=1.00:0.00 / mixed_ref=1 / me_range=16 / chroma_me=1 / trellis=1 / 8x8dct=1 / cqm=0 / deadzone=21,11 / fast_pskip=1 / chroma_qp_offset=-2 / threads=12 / lookahead_threads=2 / sliced_threads=0 / nr=0 / decimate=1 / interlaced=0 / bluray_compat=0 / constrained_intra=0 / bframes=3 / b_pyramid=2 / b_adapt=1 / b_bias=0 / direct=1 / weightb=1 / open_gop=0 / weightp=2 / keyint=250 / keyint_min=25 / scenecut=40 / intra_refresh=0 / rc_lookahead=40 / rc=crf / mbtree=1 / crf=23.0 / qcomp=0.60 / qpmin=0 / qpmax=69 / qpstep=4 / ip_ratio=1.40 / aq=1:1.00</span></span></code></pre></div><p>If you&#39;re using a video format other than mp4 (eg, webm), set the extension of the hosted files via <code>Video Stream Extension</code> property in the resource provider configuration.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+T+'" type="image/avif"><source srcset="'+M+`"><img data-imgit-loadable alt="" width="720" height="364" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABeAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABmbWRhdAoIOBUji0gIaAEyUhXACCBjhIQEAOuUZ6WThRb2qlyVbSzyLFgkEQAVnBYZHMKZbj9OaPPECkq96tWA0GvObySOdC49IYszw61n9jucZvgadaWaYEojm/ufz4PcI7Y=" type="image/avif"><img src="//:0" alt="cover" width="720" height="364" decoding="sync"></picture></div><h2 id="layered-backgrounds" tabindex="-1">Layered Backgrounds <a class="header-anchor vp-link" href="#layered-backgrounds" aria-label="Permalink to &quot;Layered Backgrounds&quot;">​</a></h2><p>The layered implementation allows composing backgrounds from multiple sprites (layers) and then toggle them individually via naninovel scripts at runtime.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Layered actor implementation has been evolving and is currently the most flexible with support for all the rendering features (in contrast to generic). Even if you don&#39;t want to use layer expressions, but instead control the appearance with Unity&#39;s Animator or other custom systems; or need to render non-trivial objects such as particle systems and/or utilize third-party renderers, check <a href="/naninovel-docs/guide/characters#outsourcing-appearance-management" class="vp-link">render only</a> and <a href="/naninovel-docs/guide/characters#camera-rendering" class="vp-link">camera rendering</a> options available for layered actors before reserving to generic or custom implementation.</p></div><p>To create a layered background prefab, use <code>Create -&gt; Naninovel -&gt; Background -&gt; Layered</code> asset context menu. Enter <a href="https://docs.unity3d.com/Manual/EditingInPrefabMode.html" class="vp-link" target="_blank" rel="noreferrer">prefab editing mode<span class="external-link-icon"> ↗</span></a> to compose the layers. Several layers and groups will be created by default. You can use them or delete and add your own.</p><p>The layered backgrounds are very similar to <a href="/naninovel-docs/guide/characters#layered-characters" class="vp-link">layered characters</a>; consult the documentation for more info on how to set up and control them via naninovel scripts.</p><p>Don&#39;t forget that nameless parameter in <a href="/api/#back" target="_blank"><code>@back</code></a> command is expecting appearance and transition type (not ID and appearance as with <a href="/api/#char" target="_blank"><code>@char</code></a> command), so specify layer composition expressions in the following way:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Given &quot;LayeredForest&quot; background actor</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Group&gt;Layer,Other/Group+Layer,-RootLayer.TransitionType</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">LayeredForest</span></span></code></pre></div><h2 id="generic-backgrounds" tabindex="-1">Generic Backgrounds <a class="header-anchor vp-link" href="#generic-backgrounds" aria-label="Permalink to &quot;Generic Backgrounds&quot;">​</a></h2><p>Generic background is the most flexible background actor implementation. It&#39;s based on a prefab with a <code>Generic Background Behaviour</code> component attached to the root object. Appearance changes and all the other background parameters are routed as <a href="https://docs.unity3d.com/Manual/UnityEvents.html" class="vp-link" target="_blank" rel="noreferrer">Unity events<span class="external-link-icon"> ↗</span></a> allowing to implement the behavior of the underlying object in any way you wish.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="`+R+'" type="image/avif"><source srcset="'+S+'"><img data-imgit-loadable alt="" width="489" height="432" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA5AAIAAAABAAACCQAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAFQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAVG1kYXQKCDgRL0aQENACMi0VwAQQQQScAAC8gLFCEG27ileAIQftjDsPEtbSsjxZS1QrJEb7vn4S+m2rXYgKBRgRL0aVMgoVwAABIAADx4Q6" type="image/avif"><img src="//:0" alt="cover" width="489" height="432" decoding="sync"></picture></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Generic actor implementations just route events from the scenario scripts and it&#39;s up to user to implement the underlying behaviour, eg how the actor should react to the appearance or visibility change commands, whether and how it will adapt to aspect ratio changes, etc. Don&#39;t expect most of the actor-related features to work automatically with the generic implementations.</p></div><p>To create generic background prefab from a template, use <code>Create -&gt; Naninovel -&gt; Background -&gt; Generic</code> context asset menu.</p><p>Generic backgrounds are very similar to generic characters; check out a tutorial video on setting an animated 3D model as a generic character for one of the possible usage examples. Be aware, that the video is captured with an old Naninovel version and some properties and component names are different now; see the above docs for the up to date information.</p>',61),z=e("div",{class:"imgit-youtube","data-imgit-container":""},[e("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=HPxhR0I1u2Q",style:{position:"absolute"}},"Watch on"),e("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[e("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),e("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[e("picture",{style:{width:"100%"}},[e("source",{srcset:V,type:"image/avif"}),e("source",{srcset:X}),e("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoJGBUjm0QICBQQMkIVwAAASFAQtwW+s3Qs6qk4XRIYbcCLR8VkERSZYm5MnFVYFToD+yOqUfz4OtqjwzonBUfQOr5oxVXOqiqXoBlbNts=",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),e("div",{class:"imgit-youtube-player",hidden:""},[e("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),O=s('<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Unity&#39;s <code>Animator</code> component could fail to register <code>SetTrigger</code> when the game object is enabled/disabled in the same frame; in case you use <code>GameObject.SetActive</code> to handle visibility changes (as it&#39;s shown in the above tutorial), consider enabling/disabling the child objects with renderers instead.</p></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>Find <a href="https://github.com/naninovel/samples/tree/main/unity/generic-actor" class="vp-link" target="_blank" rel="noreferrer">example project on GitHub<span class="external-link-icon"> ↗</span></a>, where generic background implementation is used to host animated sprites.</p></div><h2 id="scene-backgrounds" tabindex="-1">Scene Backgrounds <a class="header-anchor vp-link" href="#scene-backgrounds" aria-label="Permalink to &quot;Scene Backgrounds&quot;">​</a></h2><p>You can use a <a href="https://docs.unity3d.com/Manual/CreatingScenes" class="vp-link" target="_blank" rel="noreferrer">Unity scene<span class="external-link-icon"> ↗</span></a> as a background with scene backgrounds implementation.</p><p>Create a new (or move an existing) scene inside <code>Assets/Scenes</code> folder and make sure it has at least one <a href="https://docs.unity3d.com/ScriptReference/Camera.html" class="vp-link" target="_blank" rel="noreferrer">camera<span class="external-link-icon"> ↗</span></a> component attached to a root game object inside the scene. Upon loading scene background, Naninovel will assign a render texture to the first found camera in the scene. The render texture will then be assigned to a background sprite, representing the scene background inside Naninovel scene space. This way, the scene background will be able to co-exist with other background and character actors, support all the background transition effects and scale to handle various display aspect ratios.</p><p>Make sure to position the scene objects in world space so that they don&#39;t overlap with objects from other scenes, that could potentially be loaded at the same time (eg, when referenced in a single naninovel script). Additionally, be aware, that in case a scene background object is positioned near the global space origin (<code>x0 y0 z0</code>), it could be rendered by Naninovel&#39;s main camera; to prevent this, either offset all the scene objects from the global origin, or use <code>Configuration -&gt; Engine -&gt; Override Objects Layer</code> to isolate Naninovel-related objects using <a href="https://docs.unity3d.com/Manual/Layers.html" class="vp-link" target="_blank" rel="noreferrer">layers<span class="external-link-icon"> ↗</span></a>.</p><p>After scene setup is complete, create a new background actor via <code>Naninovel -&gt; Configuration -&gt; Backgrounds</code> menu, select <code>SceneBackground</code> implementation and add the scene asset to the actor resources.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+Z+'" type="image/avif"><source srcset="'+U+'"><img data-imgit-loadable alt="" width="720" height="348" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABaAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAQACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABibWRhdAoIOBUjg0gIaAEyThXABBBBBIAQAODTflfqTW5UWfzEsXqNdEvgCKNJLY/WBH/FwBE3I3WxeQGtWWIaE2wHE4bSkeM0/2CKIX9t8SZbWWUEW9Ee7511SuxuQA==" type="image/avif"><img src="//:0" alt="cover" width="720" height="348" decoding="sync"></picture></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Resource name is expected to be equal to the assigned scene asset name; otherwise, Naninovel wouldn&#39;t be able to locate and load the scene at runtime.</p></div><p>When assigning resources for a scene background actor, corresponding scene assets should automatically be added to the <a href="https://docs.unity3d.com/Manual/BuildSettings.html" class="vp-link" target="_blank" rel="noreferrer">build settings<span class="external-link-icon"> ↗</span></a>; in case you&#39;re getting an error that a scene asset wasn&#39;t added to the build, try adding it manually.</p><p>You can now use <a href="/api/#back" target="_blank"><code>@back</code></a> command to control the created scene background actor, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Show `Scene` background actor with content from `TestScene1` Unity scene.</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> TestScene1</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Scene</span></span>\n<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Transition the actor to `TestScene2` with `RandomCircleReveal` effect.</span></span>\n<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> TestScene2.RandomCircleReveal</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Scene</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When composing backgrounds with Unity scenes, consider adding <a href="/naninovel-docs/guide/custom-commands" class="vp-link">custom commands</a> to control scene state (eg, modify light color to change time of day or move camera to change the view) instead of creating multiple scenes for each appearance. This way you won&#39;t have to track objects position to prevent overlap when multiple scenes are loaded.</p></div><h2 id="render-to-texture" tabindex="-1">Render to Texture <a class="header-anchor vp-link" href="#render-to-texture" aria-label="Permalink to &quot;Render to Texture&quot;">​</a></h2><p>It&#39;s possible to render character and background actors of all the implementations (except generic) to a texture asset, which can then can be assigned to a custom UI, printer, material or any other compatible source. Setting up background actor render to texture is very similar to that of a character; <a href="/naninovel-docs/guide/characters#render-to-texture" class="vp-link">check the guide</a> for more info and examples.</p>',15),J=[j,P,N,q,H,L,z,O];function K($,ee,ae,se,te,ie){return n(),i("div",null,J)}const oe=t(C,[["render",K]]);export{Ae as __pageData,oe as default};
