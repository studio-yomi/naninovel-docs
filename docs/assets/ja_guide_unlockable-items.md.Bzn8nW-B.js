import{_ as a,c as i,o as t,f as e,D as A,fc as s,fd as c,fe as l,ff as o,fg as d,fh as n,fi as p,fj as r,fk as g,fl as h,fm as m,fn as u,fo as b,fp as y}from"./chunks/framework.BG74BkEs.js";const J=JSON.parse('{"title":"収集アイテム","description":"","frontmatter":{},"headers":[],"relativePath":"ja/guide/unlockable-items.md","filePath":"ja/guide/unlockable-items.md","lastUpdated":1698833889000}'),v={name:"ja/guide/unlockable-items.md"},k=d+" 1x",B=n+" 1x",_=p+" 1x",w=r+" 1x",C=s+" 1x",G=c+" 1x",f=g+" 1x",Y=h+" 1x",Q=m+" 1x",I=u+" 1x",T=b+" 1x",W=y+" 1x",E=l+" 1x",x=o+" 1x",D=e('<h1 id="収集アイテム" tabindex="-1">収集アイテム <a class="header-anchor vp-link" href="#収集アイテム" aria-label="Permalink to &quot;収集アイテム&quot;">​</a></h1><p>収集アイテム機能を使用すると、ロックまたはロック解除された状態を持続させるアイテムを管理できます。これをさまざまな方法で使用できます。たとえば、CGまたはムービーギャラリーのスロット、実績、ヒント、その他プレーヤーが条件を満たしたときに、一部のエンティティをロック解除またはアクティブ化できるシステムを表現することができます。</p><p>各収集アイテムは、アイテムがロック解除されているかどうかを、文字列識別子とブール値で表します。naninovelスクリプトでは、<a href="/ja/api/#unlock" target="_blank"><code>@unlock</code></a> コマンドと <a href="/ja/api/#lock" target="_blank"><code>@lock</code></a> コマンドを使用して、特定のIDのアイテムをそれぞれロック解除およびロックします。例:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@unlock</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> SecretAchievement</span></span></code></pre></div><p>— これはアイテム <code>SecretAchievement</code> をロック解除し、</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@lock</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> SecretAchievement</span></span></code></pre></div><p>— 再びロックします。</p><p>アイテムのロック状態は <a href="/naninovel-docs/ja/guide/state-management#グローバルステート" class="vp-link">グローバルスコープ</a> に保存されており、ローカルゲームセッションには影響しません。例:一部のアイテムをロック解除したあと、プレイヤーが新しいゲームを開始したり、別の保存されたゲームをロードしたりしても、アイテムは再びロックされません。</p><p>実際の <a href="https://docs.unity3d.com/Manual/class-GameObject.html" class="vp-link" target="_blank" rel="noreferrer">ゲームオブジェクト<span class="external-link-icon"> ↗</span></a> を収集アイテムにバインドするには、<code>UnlockableTrigger</code> コンポーネントを使います:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+k+'" type="image/avif"><source srcset="'+B+'"><img data-imgit-loadable alt="" width="447" height="355" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABZAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAWAAAAEQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABhbWRhdAoIOBErBpAQ0AIyTRXABx0CBIAFALyBHYAR6rDinggNj1DHS5DHCzQYagZK3axgG0z83u2Q8HuPhb1q01WjA56fmcTfTA/1tLZmFncw2QUS4s/hmwXZzdFT" type="image/avif"><img src="//:0" alt="cover" width="447" height="355" decoding="sync"></picture></div><p>アイテムのIDを <code>Unlockable Item Id</code> フィールドに設定し、アイテムがロック解除されたときに実行されるコマンドをバインドします。たとえば上の図では、<code>SecretAchievement</code> がロック解除されているときにGameObjectがアクティブになり、逆の場合も同様です。</p><p>C# では、<code>UnlockableManager</code> <a href="/naninovel-docs/ja/guide/engine-services" class="vp-link">エンジンサービス</a> を利用して収集アイテムにアクセスできます。</p><h2 id="収集アイテムリソース" tabindex="-1">収集アイテムリソース <a class="header-anchor vp-link" href="#収集アイテムリソース" aria-label="Permalink to &quot;収集アイテムリソース&quot;">​</a></h2><p>収集アイテムコンフィグメニュー (<code>Naninovel -&gt; Configuration -&gt; Unlockables</code>)のリソースマネージャーで、アイテム収集機能で使用する任意のアセットを保存できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+_+'" type="image/avif"><source srcset="'+w+'"><img data-imgit-loadable alt="" width="720" height="400" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABOAAIAAAABAAACHgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAam1kYXQKCDgVI5tICGgBMkIVwAQQQQSBBQDrlGd4PfLMWYlIulrtgP9i+Cci2MJh8JBxzr+gBx6Lik6hHw44B7FYKScmUJybdEaI25r5tPbBg7QKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="400" decoding="sync"></picture></div><p>収集アイテムリソースは、<a href="/naninovel-docs/ja/guide/unlockable-items#CGギャラリー" class="vp-link">CGギャラリー</a> などの組み込みの収集アイテムシステムによって使用されます。また、独自のカスタムシステムのマネージャーを利用することもできます。</p><h2 id="cgギャラリー" tabindex="-1">CGギャラリー <a class="header-anchor vp-link" href="#cgギャラリー" aria-label="Permalink to &quot;CGギャラリー&quot;">​</a></h2><p>CGギャラリー機能を使用して、テクスチャリソース（画像）を指定できます。テクスチャリソース（画像）は、ゲームを通してロック解除でき、<code>ICGGalleryUI</code> UIを使ってタイトルメニューから参照できます。</p>',18),X=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=wkZeszk6gm0",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:C,type:"image/avif"}),A("source",{srcset:G}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAyAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA6bWRhdAoJGAz+GiBAQKCAMiUVwAYYAASBAQDC0Q8SxKnzLxxwOFDNNWkJc3UGsavCF2Fue+1Q",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/wkZeszk6gm0?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),F=e('<p>デフォルトでは、<a href="/naninovel-docs/ja/guide/unlockable-items#収集アイテムリソース" class="vp-link">収集アイテムリソースマネージャー</a> から追加されたテクスチャリソースと、<code>MainBackground</code> アクターの <a href="/naninovel-docs/ja/guide/backgrounds" class="vp-link">背景</a> スプライトリソースは、プリフィックス <code>CG</code> が付いたものは全てCGアイテムとみなされます。</p><p>CGアイテムをギャラリーに追加するには、パスに <code>CG</code> を付けることで既存のメイン背景リソースの1つを使用することができます:</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+f+'" type="image/avif"><source srcset="'+Y+'"><img data-imgit-loadable alt="" width="720" height="359" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAB0AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAB8bWRhdAoIOBUji0gIaAEyaBXADDACBIQQAODTlFrCfWWFpzoihOXOkLrjtJR7uXmXkR406zDW9TsP8+dH8Wak/uLEdTIEDmMdR2rtqG5+I5Ff7r6IoCj/7Bs/lzxyMzsFmfmJZ4aoRdCsxjDie1p0lqVRHCG3bwx4" type="image/avif"><img src="//:0" alt="cover" width="720" height="359" decoding="sync"></picture></div><p>— または、<code>Naninovel -&gt; Resources -&gt; Unlockables</code> から収集アイテムリソースマネージャーを使用して、&quot;スタンドアロン&quot;のテクスチャを追加します;</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+Q+'" type="image/avif"><source srcset="'+I+'"><img data-imgit-loadable alt="" width="720" height="402" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABQAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABYbWRhdAoIOBUjm0gIaAEyRBXABBBBBIAhAODTjQxRFhb8xynT88ELGSoD4Lghayy392kwHDdWX9mdzMYvFfJ/baj85U5yCiYUL1XCoiEpLzUahAZw" type="image/avif"><img src="//:0" alt="cover" width="720" height="402" decoding="sync"></picture></div><p>どちらの方法でも、<a href="/ja/api/#unlock" target="_blank"><code>@unlock</code></a> コマンドと <a href="/ja/api/#lock" target="_blank"><code>@lock</code></a> コマンドを使用してアイテムをそれぞれロック解除およびロックできます。</p><p>たとえば、上の図で追加された <code>CG/Map</code> アイテムのロックを解除するには、次のスクリプトコマンドを使用します:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@unlock</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> CG/Map</span></span></code></pre></div><p>収集アイテムリソースと背景リソースの両方を使用してCGアイテムを追加する場合、収集アイテムマネージャーで指定されたリソースが最初にCGギャラリーに表示されます。この動作は、<code>CG Gallery Panel</code> スクリプトの <code>Cg Sources</code> プロパティを使用して、CGリソースが取得される実際のソースと合わせて変更できます。これはCGギャラリーを表すUIプレハブのルート(<code>Naninovel/Prefabs/DefaultUI/ICGGalleryUI.CGGalleryPanel</code> にある組み込み実装)に紐付けられています。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+T+'" type="image/avif"><source srcset="'+W+'"><img data-imgit-loadable alt="" width="450" height="403" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABDAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAWAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABLbWRhdAoIOBErNpAQ0AIyNxXAAABJwFC8gQK6A03iSPfPqwAkHlq2NiOTkP/lOUL1cuy07lcXU0dnZNRgCyIzusz0Lrb3rxA=" type="image/avif"><img src="//:0" alt="cover" width="450" height="403" decoding="sync"></picture></div><p>いずれかのソースに追加されたCGアイテムが少なくとも1つある場合（ロック解除状態に関係なく）、<code>CG GALLERY</code> ボタンがタイトルメニューに表示され、CGギャラリーにアクセスできます。</p><p><a href="/naninovel-docs/ja/guide/user-interface#カスタムUI" class="vp-link">カスタムUI機能</a> を使用して、組み込みの <code>ICGGalleryUI</code> 実装を編集するか、完全に置き換えることができます。</p><h2 id="tips" tabindex="-1">Tips <a class="header-anchor vp-link" href="#tips" aria-label="Permalink to &quot;Tips&quot;">​</a></h2><p>Tips収集システムでは、ローカライズ可能な <a href="/naninovel-docs/ja/guide/managed-text" class="vp-link">テキスト管理</a> ドキュメントを使用してテキストレコードのセットを指定できます。このレコードはゲームを通してロック解除でき、タイトルメニューや、テキストプリンターコントロールパネルの <code>ITipsUI</code> UIから閲覧できます。</p><p>このシステムは、ゲーム内の用語辞書/百科事典や実績トラッカーを構築するのに使用できます。</p>',15),R=A("div",{class:"imgit-youtube","data-imgit-container":""},[A("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=CRZuS1u_J4c",style:{position:"absolute"}},"Watch on"),A("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[A("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),A("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[A("picture",{style:{width:"100%"}},[A("source",{srcset:E,type:"image/avif"}),A("source",{srcset:x}),A("img",{"data-imgit-loadable":"",alt:"",width:"320",height:"180",loading:"lazy",decoding:"async"})]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAA4AAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAQAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABAbWRhdAoJGAz+GiBAQKCAMisVwAEEAASBAADP7YL8IBtJFIjFJfW6Q0E755CDbMuUgA4K3RslCrrviVdA",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"320",height:"180",decoding:"sync"})])])]),A("div",{class:"imgit-youtube-player",hidden:""},[A("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/CRZuS1u_J4c?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),U=e(`<p>Tipsを定義するには、<a href="/naninovel-docs/ja/guide/managed-text" class="vp-link">テキスト管理</a> リソースディレクトリ（デフォルトでは <code>Resources/Naninovel/Text</code> ）内に、テキストドキュメント <code>Tips.txt</code> を作成します。各行は単一のTipsレコードが入ります。行は、チップIDで始まり、その後にコロンを続けます。次に、ヒントのタイトル、カテゴリ（任意）、説明をすべて縦線（<code>|</code>）で区切って指定します。例:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span>Tip1ID: Tip 1 Title | Tip 1 Category | Tip 1 Description</span></span>
<span class="line"><span>Tip2ID: Tip 2 Title || Tip 2 Description</span></span>
<span class="line"><span>Tip3ID: Tip 3 Title</span></span>
<span class="line"><span>Tip4ID: Tip 4 Title | Tip 4 Category |</span></span>
<span class="line"><span>...</span></span></code></pre></div><p><a href="https://docs.unity3d.com/Manual/StyledText.html" class="vp-link" target="_blank" rel="noreferrer">リッチテキストタグ<span class="external-link-icon"> ↗</span></a> を使用して、Tipsレコードの説明セクション内に改行 (<code>\\n</code>) を挿入できます。</p><p>テキスト管理ドキュメント <code>Tips.txt</code> に少なくとも1つのヒントレコードがある場合、メインメニューとコントロールパネルに &quot;TIPS&quot; ボタンが表示され、Tips画面が表示されます。</p><p>naninovelスクリプトでTipレコードをロック解除するには、<a href="/ja/api/#unlock" target="_blank"><code>@unlock</code></a> コマンドと <a href="/ja/api/#lock" target="_blank"><code>@lock</code></a> コマンドに続けてTip IDを記述します(常にプリフィックス <code>Tip1ID</code> を前に付ける必要があります)。例:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@unlock</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Tips/Tip1ID</span></span></code></pre></div>`,6),M=[D,X,F,R,U];function Z(j,S,V,H,N,P){return t(),i("div",null,M)}const O=a(v,[["render",Z]]);export{J as __pageData,O as default};
