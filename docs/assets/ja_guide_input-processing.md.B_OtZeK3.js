import{_ as e,c as i,o as s,f as a,D as A,a as t,gI as c,gJ as l,gK as o,gL as d,gM as n,gN as g,cX as p,cY as r,cZ as m,c_ as h,c$ as u,d0 as B}from"./chunks/framework.BG74BkEs.js";const j=JSON.parse('{"title":"入力処理","description":"","frontmatter":{},"headers":[],"relativePath":"ja/guide/input-processing.md","filePath":"ja/guide/input-processing.md","lastUpdated":1698833889000}'),b={name:"ja/guide/input-processing.md"},y=c+" 1x",v=l+" 1x",w=o+" 1x",Q=d+" 1x",G=n+" 1x",_=g+" 1x",I=p+" 1x",Y=r+" 1x",k=m+" 1x",C=h+" 1x",f=u+" 1x",E=B+" 1x",W=a('<h1 id="入力処理" tabindex="-1">入力処理 <a class="header-anchor vp-link" href="#入力処理" aria-label="Permalink to &quot;入力処理&quot;">​</a></h1><p>エンジンは、事前設定されたリスナーを使用してユーザー入力を処理します。 各入力リスナーには、次のプロパティがあります:</p><table><thead><tr><th>プロパティ</th><th>説明</th></tr></thead><tbody><tr><td>Name</td><td>入力リスナーの識別子。他のエンジンシステムからリスナーを参照するために使用されます。</td></tr><tr><td>Always Process</td><td>入力ブロッキングモードで入力を処理するかどうか。 例えばムービーを再生するとき。</td></tr><tr><td>Keys</td><td>入力をアクティブにするキー（ボタン）のリスト。</td></tr><tr><td>Axes</td><td>入力をアクティブにする軸（たとえば、マウスまたはゲームパッドアナログスティック）のリスト。</td></tr><tr><td>Swipes</td><td>入力をアクティブにするスワイプ（タッチスクリーン）のリスト。</td></tr></tbody></table><p>特定の値については Unity の入力ガイドをご覧ください: <a href="https://docs.unity3d.com/Manual/ConventionalGameInput.html" class="vp-link" target="_blank" rel="noreferrer">docs.unity3d.com/Manual/ConventionalGameInput<span class="external-link-icon"> ↗</span></a>.</p><p>組み込みの入力バインディングを設定し、コンテキストメニュー <code>Naninovel -&gt; Configuration -&gt; Input</code> から新しいリスナーを追加できます。使用可能なオプションについては、 <a href="/naninovel-docs/ja/guide/configuration#input" class="vp-link">コンフィグガイド</a> を参照してください。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+y+'" type="image/avif"><source srcset="'+v+'"><img data-imgit-loadable alt="Manage Input" width="720" height="744" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABKAAIAAAABAAACGgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAJQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAACUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAZm1kYXQKCTgVY5GkBDQAgDI9FcAEEEEEgQQAwWolg0HrR8hbMCKoK5/D5EpVe7m8EUqdkaS2kfIo1Kl/wHnwC3QU1VO08rdHST2UM9+nkQoGGBVjkaVAMgoVwAABIAAFPy/Z" type="image/avif"><img src="//:0" alt="cover" width="720" height="744" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>カスタム入力バインディングを追加してインベントリUIを切り替える例は <a href="https://github.com/Naninovel/Inventory" class="vp-link" target="_blank" rel="noreferrer">GitHubのインベントリサンプルプロジェクト<span class="external-link-icon"> ↗</span></a> にあります。</p><p>具体的には、カスタムの &quot;ToggleInventory&quot; バインディングが <a href="https://github.com/Naninovel/Inventory/blob/master/Assets/NaninovelInventory/Runtime/UI/InventoryUI.cs#L215" class="vp-link" target="_blank" rel="noreferrer">UI/InventoryUI.cs<span class="external-link-icon"> ↗</span></a> ランタイムスクリプトで使用されます。同じ名前のバインディングは、制御スキームの下の入力構成メニューから追加されます。</p></div><h2 id="ゲームパッドとキーボード" tabindex="-1">ゲームパッドとキーボード <a class="header-anchor vp-link" href="#ゲームパッドとキーボード" aria-label="Permalink to &quot;ゲームパッドとキーボード&quot;">​</a></h2><p>すべての組み込み機能は、ゲームパッドまたはキーボード入力で使用できます。前述のバインディングエディターメニューで、ゲームパッド/キーボード固有のホットキーバインディングを削除、変更、または追加できます。</p><p>組み込みのUIは、マウスやタッチ入力を使用せずに、ゲームパッドまたはキーボードで操作することもできます。いずれかのモーダルメニュー（タイトルメニュー、バックログなどのメインゲームプレイモード以外）で、ナビゲーションキー（方向パッドまたはゲームパッドの左スティック、キーボードの矢印キー）を押して、メニューのボタンを選択します。フォーカスされた最初のボタン（ゲームオブジェクト）は、各UIの <code>Focus Object</code> フィールドで変更できます。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+w+'" type="image/avif"><source srcset="'+Q+'"><img data-imgit-loadable alt="" width="496" height="147" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABSAAIAAAABAAACIgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAABwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAAcAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAbW1kYXQKCDgQr5pAQ0AIMkYVwAMMgQSRcQDNr4gQXFKuXDshP/VjU2n0SC2IDyf0/exlkNNBsdQN2uC3xloAhTNGnwObu15f3Pgiw05OpIOxtJ/7w7/wCgUYEK+aVDIKFcAAASAAAmsO4Q==" type="image/avif"><img src="//:0" alt="cover" width="496" height="147" decoding="sync"></picture></div><p><code>Focus Mode</code> プロパティを使用すると、UIが表示された直後、またはナビゲーションキーが押された直後に、割り当てられたゲームオブジェクトにフォーカスを合わせるかどうかを変更できます。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>UI上のゲームパッドナビゲーションは、Unityの新しい入力システムがプロジェクトにインストールされている場合にのみ機能します。入力システムの詳細については、以下をご覧ください。</p></div><p>メインのゲームプレイモード（モーダルUIの外）では、 <code>Pause</code> 入力にバインドされているボタン（キーボードの場合は <code>Backspace</code> キー、ゲームパッドの場合は <code>Start</code> ボタン）を押して、一時停止メニューを開きます。 ゲームのセーブロード、設定を開く、タイトルに戻るなどのメニューです。</p><h2 id="入力システム" tabindex="-1">入力システム <a class="header-anchor vp-link" href="#入力システム" aria-label="Permalink to &quot;入力システム&quot;">​</a></h2><p>Naninovel は Unity の<a href="https://blogs.unity3d.com/2019/10/14/introducing-the-new-input-system/" class="vp-link" target="_blank" rel="noreferrer">新しい入力システム<span class="external-link-icon"> ↗</span></a> に対応しています。入力システムをインストールして有効にする方法については、<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/Installation.html" class="vp-link" target="_blank" rel="noreferrer">公式ドキュメント<span class="external-link-icon"> ↗</span></a> を参照してください。</p>',16),x=A("div",{class:"info custom-block"},[A("p",{class:"custom-block-title"},"NOTE"),A("p",null,[t("サポートされている最小入力システムパッケージは1.1で、現在プレビュー中です。プロジェクトをインストールするには、Package Manager側で "),A("code",null,"preview packages"),t(" を有効にする必要があります。")]),A("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[A("div",{style:{width:"100%"}},[A("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"412"},[A("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-1a662215459f936d1a3b49d9089e8357.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),A("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-1a662215459f936d1a3b49d9089e8357.mp4"})])]),A("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[A("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAvAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAA3bWRhdAoGGBUjo0AQMiUVwAQQQQSQBADhJOJ/CPPMB5FkM00hjdY7L5sc59IdbFOTxNKE",type:"image/avif"}),A("img",{src:"//:0",alt:"cover",width:"720",height:"412",decoding:"sync"})])])],-1),X=a('<div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>タッチおよびオブジェクト関連の入力は引き続き古い方の入力を介して処理されるため、機能を自分で実装する場合を除いて、プレーヤー設定でレガシーバックエンドを完全に無効にしないで(Active Input HandlingをBothにして)ください。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+G+'" type="image/avif"><source srcset="'+_+'"><img data-imgit-loadable alt="" width="543" height="187" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABrAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAbAAAACQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABzbWRhdAoIOBD1DSAhoAQyXxXAAggghIgFAPCP9OdJ6d4aCcq0a/eEiB12wnr/Wk5BhENtH0A2SpV6Uov/QCIp3AQ7Wg81cvRYfrz6Bm1cVG4JQyTHHxQpFzyhxZsLFiAZqpAzAXCs9ab3gFvn4TZg" type="image/avif"><img src="//:0" alt="cover" width="543" height="187" decoding="sync"></picture></div></div><p>パッケージがインストールされたら、イベントシステムプレハブを作成します。 <code>UI -&gt; Event System</code> から、デフォルトのウィンドウを作成できます。 <code>Input System UI Input Module</code> プレハブに取り付けられていることを確認してください。デフォルトのイベントシステムを作成するとき、Unityは古い入力モジュールコンポーネントを新しいものに自動的に変換することを勧めています。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+I+'" type="image/avif"><source srcset="'+Y+'"><img data-imgit-loadable alt="" width="493" height="463" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA3AAIAAAABAAACBwAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAAFwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAABcAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAUm1kYXQKCDgRL2aQENACMisVwAggQQSAEQC8gQqu3gNwX0Qnugg9eytdxN+f9+D5NsveVnI+T9KWV+Z+CgUYES9mlTIKFcAAASAAA8eEOg==" type="image/avif"><img src="//:0" alt="cover" width="493" height="463" decoding="sync"></picture></div><p>作成したイベントシステムプレハブを <code>Custom Event System</code> に割り当て、 <code>Spawn Input Module</code> を無効にします。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+k+'" type="image/avif"><source srcset="'+C+'"><img data-imgit-loadable alt="" width="720" height="278" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABFAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABNbWRhdAoIOBTj1pAQ0AIyORXAAggCBIQRAOAjlr1DkNpy1eflEZZsHK5Y83kuglju26KDPJ9y+B2nkwt2TJ72beqNhc4hPOfBwA==" type="image/avif"><img src="//:0" alt="cover" width="720" height="278" decoding="sync"></picture></div><p>入力システムパッケージがインストールされると、 <code>Input Actions</code> プロパティが入力構成メニューに表示されます。入力アクションアセットをプロパティに割り当ててから、「Naninovel」アクションマップを作成し、Naninovelのバインディング名と同じ名前の入力アクションを追加します。組み込みバインディング名のリストは、同じ構成ウィンドウの「制御スキーム」の下にある「バインディング」リストにあります。以下は、入力アクションの構成例です。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+f+'" type="image/avif"><source srcset="'+E+'"><img data-imgit-loadable alt="" width="598" height="398" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABKAAIAAAABAAACGgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAdAAAAEwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAHQAAABMAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAZW1kYXQKCDgROSaQENACMj4VwAggggSBBQCinfwPZXNOHsJ4NW0xuKHk5ZK8sReBYKQHRBexMEtnhcfnymCuGBJ+4h4GFhnEeMtEaeZYegoFGBE5JpUyChXAAAEgAAPHhDo=" type="image/avif"><img src="//:0" alt="cover" width="598" height="398" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>デフォルトの入力アクションアセットは <code>Naninovel/Prefabs/DefaultControls.inputactions</code> に保存されます。自分で作成する際の参考にしてください。</p></div><p>適切に構成されていれば、入力アクションはNaninovelのバインディングをアクティブにします。従来の入力処理（「バインディング」リストで設定）を無効にする場合は入力構成メニューの <code>Process Legacy Bindings</code> プロパティを無効にします。</p><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>GitHubに、Naninovelを使用した新しい入力システムのセットアップと使用に関するサンプルプロジェクトがあります： <a href="https://github.com/Naninovel/Input" class="vp-link" target="_blank" rel="noreferrer">github.com/Naninovel/Input<span class="external-link-icon"> ↗</span></a></p></div><p>入力システムの詳しい使い方（特定のバインディングを構成する方法、またはプレーヤーが実行時にバインディングをオーバーライドできるようにする方法など）については、<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual" class="vp-link" target="_blank" rel="noreferrer">公式マニュアル<span class="external-link-icon"> ↗</span></a>を参照してください。</p>',11),Z=[W,x,X];function M(N,V,F,U,R,H){return s(),i("div",null,Z)}const O=e(b,[["render",M]]);export{j as __pageData,O as default};
