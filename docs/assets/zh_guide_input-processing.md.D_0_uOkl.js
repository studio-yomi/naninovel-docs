import{_ as A,c as t,o as a,f as e,gI as s,gJ as i,gK as c,gL as n,hg as o,hh as l,hi as r,hj as d}from"./chunks/framework.BG74BkEs.js";const W=JSON.parse('{"title":"输入处理","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/input-processing.md","filePath":"zh/guide/input-processing.md","lastUpdated":1698833889000}'),p={name:"zh/guide/input-processing.md"},g=s+" 1x",h=i+" 1x",m=c+" 1x",u=n+" 1x",b=o+" 1x",B=l+" 1x",y=r+" 1x",v=d+" 1x",w=e('<h1 id="输入处理" tabindex="-1">输入处理 <a class="header-anchor vp-link" href="#输入处理" aria-label="Permalink to &quot;输入处理&quot;">​</a></h1><p>引擎使用预配置的侦听器处理用户输入。每个输入侦听器均具有以下属性：</p><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>Name</td><td>输入侦听器的标识符。用于引用其他引擎系统的侦听器。</td></tr><tr><td>Always Process</td><td>在输入阻止模式下是否处理输入。例如，播放电影时。</td></tr><tr><td>Keys</td><td>激活输入的按键（按钮）列表。</td></tr><tr><td>Axes</td><td>激活输入的轴列表（例如，鼠标或游戏手柄模拟杆）。</td></tr><tr><td>Swipes</td><td>激活输入的滑动列表（触摸屏）。</td></tr></tbody></table><p>有关特定值，请参见Unity的输入指南：<a href="https://docs.unity3d.com/Manual/ConventionalGameInput.html" class="vp-link" target="_blank" rel="noreferrer">docs.unity3d.com/Manual/ConventionalGameInput<span class="external-link-icon"> ↗</span></a>.</p><p>您可以使用 <code>Naninovel -&gt; Configuration -&gt; Input</code> 菜单配置内置的输入绑定并添加新的侦听器。有关可用选项的信息，请参阅<a href="/naninovel-docs/zh/guide/configuration#输入" class="vp-link">配置指南</a>。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+g+'" type="image/avif"><source srcset="'+h+'"><img data-imgit-loadable alt="Manage Input" width="720" height="744" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABKAAIAAAABAAACGgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAJQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAACUAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAZm1kYXQKCTgVY5GkBDQAgDI9FcAEEEEEgQQAwWolg0HrR8hbMCKoK5/D5EpVe7m8EUqdkaS2kfIo1Kl/wHnwC3QU1VO08rdHST2UM9+nkQoGGBVjkaVAMgoVwAABIAAFPy/Z" type="image/avif"><img src="//:0" alt="cover" width="720" height="744" decoding="sync"></picture></div><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p><a href="https://github.com/Naninovel/Inventory" class="vp-link" target="_blank" rel="noreferrer">在GitHub上的背包示例项目<span class="external-link-icon"> ↗</span></a> 可以找到添加自定义输入绑定以切换背包UI的示例。</p><p>具体来说，<a href="https://github.com/Naninovel/Inventory/blob/master/Assets/NaninovelInventory/Runtime/UI/InventoryUI.cs#L215" class="vp-link" target="_blank" rel="noreferrer">UI/InventoryUI.cs<span class="external-link-icon"> ↗</span></a> 运行时脚本中使用了自定义“ToggleInventory”的绑定。输入配置菜单下添加了具有相同名称的绑定。</p></div><h2 id="游戏手柄和键盘" tabindex="-1">游戏手柄和键盘 <a class="header-anchor vp-link" href="#游戏手柄和键盘" aria-label="Permalink to &quot;游戏手柄和键盘&quot;">​</a></h2><p>所有内置功能均可与游戏手柄或键盘输入一起使用。您可以通过上述绑定编辑器菜单删除，更改或添加特定于游戏手柄/键盘的热键绑定。</p><p>内置UI也可以通过游戏手柄或键盘进行导航，而无需使用鼠标或触摸输入。在任何模式菜单中（在主要的游戏模式之外，例如，标题菜单，回顾画面等），按导航键（方向键或游戏板上的左操纵杆，键盘上的箭头键）可以在菜单中选择一个按钮。可以在每个UI中使用 <code>Focus Object</code> 字段更改第一个聚焦的按钮（游戏对象）。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+m+'" type="image/avif"><source srcset="'+u+'"><img data-imgit-loadable alt="" width="496" height="147" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABSAAIAAAABAAACIgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAYAAAABwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGAAAAAcAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAbW1kYXQKCDgQr5pAQ0AIMkYVwAMMgQSRcQDNr4gQXFKuXDshP/VjU2n0SC2IDyf0/exlkNNBsdQN2uC3xloAhTNGnwObu15f3Pgiw05OpIOxtJ/7w7/wCgUYEK+aVDIKFcAAASAAAmsO4Q==" type="image/avif"><img src="//:0" alt="cover" width="496" height="147" decoding="sync"></picture></div><p>使用 <code>Focus Mode</code> 属性，可以更改是在UI可见之后还是在按下导航键之后立即聚焦指定的游戏对象。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>只有在项目中安装了Unity的新输入系统时，才能通过UI进行游戏手柄导航；在下面找到有关输入系统的更多信息。</p></div><p>在主要游戏模式（除用户UI界面外）下，按绑定到Pause输入的按钮（默认情况下键盘键的<code>Backspace</code> 和游戏手柄的 <code>Start</code> 按钮）以打开暂停菜单，可以在其中保存/加载游戏，打开设置，退出标题，等等</p><h2 id="输入系统" tabindex="-1">输入系统 <a class="header-anchor vp-link" href="#输入系统" aria-label="Permalink to &quot;输入系统&quot;">​</a></h2><p>Naninovel支持Unity的新<a href="https://blogs.unity3d.com/2019/10/14/introducing-the-new-input-system/" class="vp-link" target="_blank" rel="noreferrer">输入系统<span class="external-link-icon"> ↗</span></a> ；请参阅<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/Installation.html" class="vp-link" target="_blank" rel="noreferrer">官方文档<span class="external-link-icon"> ↗</span></a> 了解如何安装和启用输入系统的。安装输入系统软件包后（不要忘记在设置中启用新的输入系统），一个 <code>Input Actions</code> 属性将出现在输入配置菜单中。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+b+'" type="image/avif"><source srcset="'+B+'"><img data-imgit-loadable alt="" width="720" height="295" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABPAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAADwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABXbWRhdAoIOBTj5pAQ0AIyQxXACCCEBIQFAO5N3YY/VtU8rVayHC1fex11RAZmiuWa09vVtNKo4S49yxX0nKzkDhAgXuvNkHQwt9x1wshbQjFoPoA=" type="image/avif"><img src="//:0" alt="cover" width="720" height="295" decoding="sync"></picture></div><p>将<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/ActionAssets.html?q=input%20actions%20asset" class="vp-link" target="_blank" rel="noreferrer">input actions asset<span class="external-link-icon"> ↗</span></a> 绑定到该属性，然后创建“Naninovel”动作配置，添加输入动作名，名字和Naninovel内的绑定名字相同。该绑定名字列表可以在相同配置窗口下的 &quot;Control Scheme&quot; 的 &quot;Bindings&quot; 中找到。以下为输入动作配置示例。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+y+'" type="image/avif"><source srcset="'+v+'"><img data-imgit-loadable alt="" width="720" height="497" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABGAAIAAAABAAACFgAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGQAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABkAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAYm1kYXQKCDgVI8NICGgBMjoVwAQQQQSBBADmYC7qbEuK1RWJ/otrt4/a+Ae1ca0MDZPrMv6xcr/Hw63+sdM9mjEO5BzIGxJlJQYwCgYYFSPDSoAyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="497" decoding="sync"></picture></div><p>正确配置后，输入操作将激活Naninovel的绑定。如果要禁用旧版输入处理（在 &quot;Bindings&quot; 列表下设置），请在输入配置菜单下禁用 <code>Process Legacy Bindings</code> 属性。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>触摸和依赖物体的出入操作，仍需要通过传统输入实现，因此不要完全关闭传统输入。除非你打算自己实现这些特性。</p></div><p>默认输入动作配置存储在 <code>Naninovel/Prefabs/DefaultControls.inputactions</code></p><p>有关使用新输入系统的更多信息（例如，如何配置特定的绑定或允许玩家在运行时覆盖绑定），请参阅<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual" class="vp-link" target="_blank" rel="noreferrer">官方手册<span class="external-link-icon"> ↗</span></a> 。</p>',23),G=[w];function Q(k,I,_,Y,C,f){return a(),t("div",null,G)}const X=A(p,[["render",Q]]);export{W as __pageData,X as default};
