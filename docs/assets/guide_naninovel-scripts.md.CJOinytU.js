import{_ as i,c as s,o as t,f as a,D as e,a as n,dC as A,dD as l,cD as o,cE as p,dE as r,dF as h,dG as d,dH as c,dI as m,dJ as g,dK as k,dL as u,dM as y,dN as b}from"./chunks/framework.BG74BkEs.js";const ee=JSON.parse('{"title":"Naninovel Scripts","description":"","frontmatter":{},"headers":[],"relativePath":"guide/naninovel-scripts.md","filePath":"guide/naninovel-scripts.md","lastUpdated":1728548453000}'),B={name:"guide/naninovel-scripts.md"},v=o+" 1x",C=p+" 1x",f=r+" 1x",w=h+" 1x",E=A+" 1x",D=l+" 1x",x=d+" 1x",F=c+" 1x",G=m+" 1x",I=g+" 1x",_=k+" 1x",Y=u+" 1x",q=y+" 1x",Q=b+" 1x",W=a('<h1 id="naninovel-scripts" tabindex="-1">Naninovel Scripts <a class="header-anchor vp-link" href="#naninovel-scripts" aria-label="Permalink to &quot;Naninovel Scripts&quot;">​</a></h1><p>Naninovel scripts are text documents (<code>.nani</code> extension) where you control what happens on scenes. Script assets are created with <code>Create -&gt; Naninovel -&gt; Naninovel Script</code> asset context menu. You can open and edit them with the built-in <a href="#visual-editor" class="vp-link">visual editor</a> or with an external text editor of your choice, like Microsoft Word, Google Docs or <a href="https://code.visualstudio.com" class="vp-link" target="_blank" rel="noreferrer">VS Code<span class="external-link-icon"> ↗</span></a>.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+v+'" type="image/avif"><source srcset="'+C+`"><img data-imgit-loadable alt="" width="720" height="297" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABDAAIAAAABAAACEwAAABYAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAADwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAQACAACAAAAAFGlzcGUAAAAAAAAAJAAAAA8AAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAYW1kYXQKCDgU4+aQENACMjcVwAQQggSEAQD4/kZM3pGoKDItzN4A+pPydmmxL0eFNh5wy5DaIcqtsQCoYFj0wrvxXib1Y4GACggYFOPmmAgQFTIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="297" decoding="sync"></picture></div><p>Each line in naninovel script represents a statement, which can be a command, generic text, label or comment. Type of the statement is determined by the literal placed at the start of the line:</p><table><thead><tr><th style="text-align:center;">Literal</th><th>Statement Type</th></tr></thead><tbody><tr><td style="text-align:center;">@</td><td><a href="#command-lines" class="vp-link">Command</a></td></tr><tr><td style="text-align:center;">#</td><td><a href="#label-lines" class="vp-link">Label</a></td></tr><tr><td style="text-align:center;">;</td><td><a href="#comment-lines" class="vp-link">Comment</a></td></tr></tbody></table><p>When none of the above literals are present at the start of the line, it&#39;s considered a <a href="#generic-text-lines" class="vp-link">generic text</a> statement.</p><h2 id="command-lines" tabindex="-1">Command Lines <a class="header-anchor vp-link" href="#command-lines" aria-label="Permalink to &quot;Command Lines&quot;">​</a></h2><p>Line is considered a command statement if it starts with <code>@</code> literal. Command represents a single operation, that controls what happens on the scene; eg, it can be used to change a background, move a character or load another naninovel script.</p><h3 id="command-identifier" tabindex="-1">Command Identifier <a class="header-anchor vp-link" href="#command-identifier" aria-label="Permalink to &quot;Command Identifier&quot;">​</a></h3><p>Right after the command literal a command identifier is expected. This could either be a name of the C# class that implements the command or the command&#39;s alias (when applied via <code>CommandAlias</code> attribute).</p><p>For example, <a href="/api/#save" target="_blank"><code>@save</code></a> command (used to auto-save the game) is implemented via <code>AutoSave</code> C# class. The implementing class also has <code>[CommandAlias(&quot;save&quot;)]</code> attribute applied, so you can use both <code>@save</code> and <code>@AutoSave</code> statements in the script to invoke this command.</p><p>Command identifiers are case-insensitive; all the following statements are valid and will invoke the same <code>AutoSave</code> command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@save</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@Save</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@AutoSave</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@autosave</span></span></code></pre></div><h3 id="command-parameters" tabindex="-1">Command Parameters <a class="header-anchor vp-link" href="#command-parameters" aria-label="Permalink to &quot;Command Parameters&quot;">​</a></h3><p>Most of the commands have a number of parameters that define the effect of the command. Parameter is a key-value expression defined after the command literal separated by a column (<code>:</code>). Parameter identifier (key) can be either name of the corresponding parameter field of the command implementation class or the parameter&#39;s alias (when defined via <code>alias</code> property of <code>CommandParameter</code> attribute).</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@commandId</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> paramId:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">paramValue</span></span></code></pre></div><p>Consider <a href="/api/#hidechars" target="_blank"><code>@hideChars</code></a> command, which is used to hide all visible characters on the scene. It can be used as follows:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span></span></code></pre></div><p>You can use <code>time</code> <em>Decimal</em> parameter here to control how long the characters will fade-out before becoming completely hidden (removed from scene):</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">5.5</span></span></code></pre></div><p>This will make the characters fade-out for 5.5 seconds, before completely removing them from scene.</p><p>You can also use <code>wait</code> <em>Boolean</em> parameter to specify whether next command should be executed immediately after or wait for the completion of the current command:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hideChars</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">5.5</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hidePrinter</span></span></code></pre></div><p>This will hide the text printer right after characters begin to fade-out. If <code>wait</code> would be <code>true</code> or not specified, the printer would be hidden only when <a href="/api/#hidechars" target="_blank"><code>@hideChars</code></a> complete the execution.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you find yourself specifying <code>wait:false</code> more often than not, consider disabling <code>Wait By Default</code> option in script player configuration; this way script player won&#39;t wait the commands, unless wait parameter is explicitly set to true.</p></div><h3 id="parameter-value-types" tabindex="-1">Parameter Value Types <a class="header-anchor vp-link" href="#parameter-value-types" aria-label="Permalink to &quot;Parameter Value Types&quot;">​</a></h3><p>Depending on the command parameter, it can expect one of the following value types:</p><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>string</td><td>A simple string value, eg: <code>LoremIpsum</code>. Don&#39;t forget to wrap the string in double quotes in case it contain spaces, eg: <code>&quot;Lorem ipsum dolor sit amet.&quot;</code>.</td></tr><tr><td>integer</td><td>A number which is not a fraction; a whole number, eg: <code>1</code>, <code>150</code>, <code>-25</code>.</td></tr><tr><td>decimal</td><td>A decimal number with fraction delimited by a dot, eg: <code>1.0</code>, <code>12.08</code>, <code>-0.005</code>.</td></tr><tr><td>boolean</td><td>Can have one of two possible values: <code>true</code> or <code>false</code> (case-insensitive).</td></tr><tr><td>named</td><td>A name string associated with a value of one of the above types. The name part is delimited by a dot. Eg for named integer: <code>foo.8</code>, <code>bar.-20</code>.</td></tr><tr><td>list</td><td>A comma-separated list of values of one of the above types. Eg for string list: <code>foo,bar,&quot;Lorem ipsum.&quot;</code>, for decimal list: <code>12,-8,0.105,2</code></td></tr></tbody></table><h3 id="nameless-parameters" tabindex="-1">Nameless Parameters <a class="header-anchor vp-link" href="#nameless-parameters" aria-label="Permalink to &quot;Nameless Parameters&quot;">​</a></h3><p>Most commands have a nameless parameter. A parameter is considered nameless when it can be used without specifying its name.</p><p>For example, <a href="/api/#bgm" target="_blank"><code>@bgm</code></a> command expects a nameless parameter specifying name of the music track to play:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@bgm</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> PianoTheme</span></span></code></pre></div><p>&quot;PianoTheme&quot; here is the value of &quot;BgmPath&quot; <em>String</em> parameter.</p><p>There can be only one nameless parameter per command and it should always be specified before any other parameters.</p><h3 id="optional-and-required-parameters" tabindex="-1">Optional and Required Parameters <a class="header-anchor vp-link" href="#optional-and-required-parameters" aria-label="Permalink to &quot;Optional and Required Parameters&quot;">​</a></h3><p>Most of the command parameters are <em>optional</em>. It means they either have a predefined value or just don&#39;t require any value in order for the command to be executed. For example, when <a href="/api/#resettext" target="_blank"><code>@resetText</code></a> command is used without specifying any parameters it will reset text of a default printer, but you can also set a specific printer ID like this: <code>@resetText printer:Dialogue</code>.</p><p>Some parameters however are <em>required</em> in order for the command to execute and should always be specified.</p><h3 id="commands-api-reference" tabindex="-1">Commands API Reference <a class="header-anchor vp-link" href="#commands-api-reference" aria-label="Permalink to &quot;Commands API Reference&quot;">​</a></h3><p>For the list of all the currently available commands with a summary, parameters and usage examples see <a href="/naninovel-docs/api/" class="vp-link">commands API reference</a>.</p><h2 id="generic-text-lines" tabindex="-1">Generic Text Lines <a class="header-anchor vp-link" href="#generic-text-lines" aria-label="Permalink to &quot;Generic Text Lines&quot;">​</a></h2><p>To make writing scripts with large amounts of text easier generic text lines are used. Line is considered a generic text statement when it doesn&#39;t start with any of the predefined statement literals:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></span></code></pre></div><p>An author ID can be specified at the start of a generic text line separated by a column followed with space ((<code>: </code>)) to associate printed text with a <a href="/naninovel-docs/guide/characters" class="vp-link">character actor</a>:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span></span></code></pre></div><p>To save some typing when constantly changing character appearances associated with printed text, you can also specify appearance after the author ID:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix.Happy:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet.</span></span></code></pre></div><p>The above line is equal to the following two:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum dolor sit amet.</span></span></code></pre></div><h3 id="command-inlining" tabindex="-1">Command Inlining <a class="header-anchor vp-link" href="#command-inlining" aria-label="Permalink to &quot;Command Inlining&quot;">​</a></h3><p>Sometimes, you may want to execute a command while revealing (printing) text message, right after or before specific character. For example, an actor would change their appearance (expression) when a specific word is printed or a particular sound effect would be played in reaction to some event described in the midst of a printed message. Command inlining feature allows handling cases like that.</p><p>All the commands (both <a href="/naninovel-docs/api/" class="vp-link">built-in</a> and <a href="/naninovel-docs/guide/custom-commands" class="vp-link">custom ones</a>) can be inlined (injected) to generic text lines using square brackets (<code>[ ]</code>):</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Felix:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Lorem ipsum</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">0.75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> dolor sit amet, consectetur adipiscing elit.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Aenean tempus eleifend ante, ac molestie metus condimentum quis.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i][br</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 2</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Morbi nunc magna, consequat posuere consectetur in, dapibus consectetur lorem. Duis consectetur semper augue nec pharetra.</span></span></code></pre></div><p>Notice, that the inlined command syntax is exactly the same, except <code>@</code> literal is omitted and command body is wrapped in square brackets. Basically, you can take any command line, inline it to a generic text and it will have the exact same effect, but at a different moment, depending on the position inside text message.</p><p>Under the hood, generic text lines are parsed into individual commands identified by inline index; text is printed with <a href="/api/#print" target="_blank"><code>@print</code></a> command. For example, following generic text line:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> dolor sit amet.</span></span></code></pre></div><p>— is actually handled by the engine as a sequence of individual commands:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Lorem ipsum&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> waitInput:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Felix.Happy</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> pos:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">75</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot; dolor sit amet.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> reset:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span></code></pre></div><p>To actually print square brackets within generic text line, escape them with backslashes, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Some text \\[ text inside brackets \\]</span></span></code></pre></div><p>— will print &quot;Some text [ text inside brackets ]&quot; in-game.</p><h2 id="label-lines" tabindex="-1">Label Lines <a class="header-anchor vp-link" href="#label-lines" aria-label="Permalink to &quot;Label Lines&quot;">​</a></h2><p>Labels are used as &quot;anchors&quot; when navigating naninovel scripts with <a href="/api/#goto" target="_blank"><code>@goto</code></a> commands. To define a label, use <code>#</code> literal at the start of the line followed with label name:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># Epilogue</span></span></code></pre></div><p>You can then use <a href="/api/#goto" target="_blank"><code>@goto</code></a> command to &quot;jump&quot; to that line:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> ScriptName.Epilogue</span></span></code></pre></div><p>When both <a href="/api/#goto" target="_blank"><code>@goto</code></a> and target label are in the same script, you can omit script name:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> .Epilogue</span></span></code></pre></div><h2 id="comment-lines" tabindex="-1">Comment Lines <a class="header-anchor vp-link" href="#comment-lines" aria-label="Permalink to &quot;Comment Lines&quot;">​</a></h2><p>When line starts with semicolon literal (<code>;</code>) it&#39;s considered a comment statement. Comment lines are completely ignored by the engine when scripts are parsed. Use comment lines to add notes or annotations for yourself or other team members working with naninovel scripts.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; The following command will auto-save the game.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@save</span></span></code></pre></div><h2 id="conditional-execution" tabindex="-1">Conditional Execution <a class="header-anchor vp-link" href="#conditional-execution" aria-label="Permalink to &quot;Conditional Execution&quot;">​</a></h2><p>While the script are executed in a linear fashion by default, you can introduce branching using <code>if</code> parameters supported by all the commands.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; If \`level\` value is a number and is greater than 9000, add the choice.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;It&#39;s over 9000!&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">level&gt;9000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; If \`dead\` variable is a false boolean, execute the print command.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> text:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;I&#39;m still alive.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">!dead</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; If \`glitch\` is a true boolean or random function in 1 to 10 range</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; returns 5 or more, execute \`@spawn\` command.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@spawn</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> GlitchCamera</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;glitch || Random(1, 10) &gt;= 5&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; If \`score\` value is in 7 to 13 range or \`lucky\` variable</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; is a true boolean, load \`LuckyEnd\` script.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> LuckyEnd</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;(score &gt;= 7 &amp;&amp; score &lt;= 13) || lucky&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; You can also use conditionals in the inlined commands.</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem sit amet. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> bold</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">score&gt;=10</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Consectetur elit.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> default</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; When using double quotes inside the expression itself,</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; don&#39;t forget to escape them.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@print</span><span style="--shiki-light:#3ABFB3;--shiki-dark:#62B8C1;"> {remark}</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> if:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">remark==&quot;Saying \\&quot;Stop the car\\&quot; was a mistake.&quot;</span></span></code></pre></div><p>It&#39;s also possible to specify multi-line conditional blocks with <a href="/api/#if" target="_blank"><code>@if</code></a>, <a href="/api/#else" target="_blank"><code>@else</code></a>, <a href="/api/#elseif" target="_blank"><code>@elseif</code></a> and <a href="/api/#endif" target="_blank"><code>@endif</code></a> commands.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@if</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> score&gt;10</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	Good job, you&#39;ve passed the test!</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@bgm</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Victory</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@spawn</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Fireworks</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@elseif</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> attempts&gt;100</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	You&#39;re hopeless... Need help?</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Yeah, please!&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> goto:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">.GetHelp</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;I&#39;ll keep trying.&quot;</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> goto:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">.BeginTest</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@stop</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@else</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">	You&#39;ve failed. Try again!</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">	@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> .BeginTest</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@endif</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">NOTE</p><p>The tabs in the above sample are used for better readability and are completely optional. Naninovel ignores any kind of white space (spaces, tabs, etc) before and after command and label lines, so that you can format them as you see fit.</p></div><p>The same works for generic text lines:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Lorem ipsum dolor sit amet. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[if</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> score&gt;10</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Duis efficitur imperdiet nunc. </span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[else]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Vestibulum sit amet dolor non dolor placerat vehicula.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[endif]</span></span></code></pre></div><p>For more information on the conditional expression format and available operators see <a href="/naninovel-docs/guide/script-expressions" class="vp-link">script expressions</a> guide.</p><h2 id="memory-management" tabindex="-1">Memory Management <a class="header-anchor vp-link" href="#memory-management" aria-label="Permalink to &quot;Memory Management&quot;">​</a></h2><p>Some script commands require loading resources in order to work: audio track for <a href="/api/#bgm" target="_blank"><code>@bgm</code></a>, character prefab and/or appearance textures for <a href="/api/#char" target="_blank"><code>@char</code></a>, video clip for <a href="/api/#movie" target="_blank"><code>@movie</code></a> and so on. Naninovel takes care of preloading and unloading most of the resources depending on <code>Resource Policy</code> setting found in resource provider configuration:</p><table><thead><tr><th style="text-align:center;">Policy</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center;">Static</td><td>All the resources required for script execution are preloaded when starting the playback (usually on <a href="/api/#goto" target="_blank"><code>@goto</code></a>) and unloaded when the script has finished playing. The loading operation is masked with loading UI. This policy is default and recommended for most cases.</td></tr><tr><td style="text-align:center;">Dynamic</td><td>Only the resources required for the next <code>Dynamic Policy Steps</code> commands are preloaded during script execution and all the unused resources are unloaded immediately. Use this mode when targeting platforms with strict memory limitations and it&#39;s impossible to properly organize naninovel scripts. Expect hiccups when the resources are loaded in background while the game is progressing.</td></tr></tbody></table><p>However, in some cases Naninovel won&#39;t be able to automatically unload resources. Specifically, layered, diced sprite, generic, Live2D and Spine actors all require a monolith prefab in order to represent any of the appearances making it impossible to independently load resources per appearance. To prevent memory leaks, unload such resources manually in one of the ways described below.</p><h3 id="remove-individual-actors" tabindex="-1">Remove Individual Actors <a class="header-anchor vp-link" href="#remove-individual-actors" aria-label="Permalink to &quot;Remove Individual Actors&quot;">​</a></h3><p>Use <a href="/api/#hide" target="_blank"><code>@hide</code></a> command with <code>remove</code> parameter to hide and dispose specific actors. Applicable when some actors are expected to live across scripts.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> id:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">LayeredBackground</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> GenericCharacter</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> DicedCharacter</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; We expect \`LayeredBackground\` to survive when \`NextScript\` is loaded,</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; but both characters should be disposed.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@hide</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> GenericCharacter,DicedCharacter</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> remove:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">true</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> NextScript</span></span></code></pre></div><h3 id="remove-all-actors" tabindex="-1">Remove All Actors <a class="header-anchor vp-link" href="#remove-all-actors" aria-label="Permalink to &quot;Remove All Actors&quot;">​</a></h3><p>Use <a href="/api/#hideall" target="_blank"><code>@hideAll</code></a> with <code>remove</code> parameter to hide and dispose all the existing actors (including text printers and choice handlers) or <a href="/api/#resetstate" target="_blank"><code>@resetState</code></a> with <code>only</code> parameter to immediately dispose actors of specific type: <code>ICharacterManager</code> for character and <code>IBackgroundManager</code> for backgrounds. Applicable when all actors or actors of specific type are not expected to survive script loading.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">...</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@goto</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> NextScript</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Dispose all the existing backgrounds.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@resetState</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> only:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">IBackgroundManager</span></span></code></pre></div><h3 id="reset-on-goto" tabindex="-1">Reset On Goto <a class="header-anchor vp-link" href="#reset-on-goto" aria-label="Permalink to &quot;Reset On Goto&quot;">​</a></h3><p>In case you don&#39;t need any <a href="/naninovel-docs/guide/engine-services" class="vp-link">engine service</a> state to persist between scripts (including currently played music, special effects, etc), enable <code>Reset On Goto</code> in state configuration. This way all the services will automatically dispose associated resources when navigating between naninovel scripts and you won&#39;t have to use any special commands to unload the resources.</p><h2 id="title-script" tabindex="-1">Title Script <a class="header-anchor vp-link" href="#title-script" aria-label="Permalink to &quot;Title Script&quot;">​</a></h2><p>Title script is a special naninovel script assigned in script configuration menu. When assigned, it&#39;s automatically played when the title UI (main menu) is shown. Title script can be used to set up the title screen scene: background, music, effects, etc.</p><p>The script can also be used to invoke commands when player clicks &quot;NEW GAME&quot;, &quot;EXIT&quot; or any of the save slots to load a game. Below is an example of a title script.</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Following commands are played when entering the main menu.</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Notice, they&#39;re not awaited so that title UI is shown at the same time.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@back</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> MainMenuBackground</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> time:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">3</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@bgm</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> MainMenuMusic</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@spawn</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Rain</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># OnNewGame</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Following commands will be executed when player clicks &quot;NEW GAME&quot;.</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Notice, that \`stopBgm\` command is awaited, so that the music</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; is fully stopped before new game begin to load.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@sfx</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> NewGameSoundEffect</span><span style="--shiki-light:#C642A5;--shiki-dark:#CD9769;"> wait:</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">false</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stopBgm</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># OnLoad</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Below commands will be executed when player loads a saved game.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@sfx</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> LoadGameEffect</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@wait</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># OnExit</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Below commands will be executed when player clicks &quot;EXIT&quot;.</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@sfx</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> ExitGameEffect</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@wait</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 1.5</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@stop</span></span></code></pre></div><h2 id="visual-editor" tabindex="-1">Visual Editor <a class="header-anchor vp-link" href="#visual-editor" aria-label="Permalink to &quot;Visual Editor&quot;">​</a></h2><p>You can use visual script editor to edit the naninovel scripts. Select a script asset and you&#39;ll see the visual editor automatically open in the inspector window.</p>`,97),T=e("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[e("div",{style:{width:"100%"}},[e("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"396"},[e("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-ba57b9f78116e57408125325bdf66be9.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),e("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-ba57b9f78116e57408125325bdf66be9.mp4"})])]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABAAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABIbWRhdAoGGBUjm0AQMjYVwAggQQSAAQDx2hr87E1E/GOxnVSsQ+Z9TfvDmCVc5hWEwk4khutpiCvnZOzWKkUKfo5txhI=",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"396",decoding:"sync"})])],-1),S=a("<p>To add a new line to the script, either right-click the place, where you want to insert the line, or press <code>Ctrl+Space</code> (you can change the default key bindings in the input configuration menu) and select the desired line or command type. To re-order lines, drag them using their number labels. To remove a line, right-click it and choose &quot;Remove&quot;.</p><p>When you&#39;ve changed the script using visual editor, you&#39;ll see an asterisk (<code>*</code>) over the script name in the inspector header. That means the asset is dirty and need to be saved; press <code>Ctrl+S</code> to save the asset. In case you&#39;ll attempt to select another asset while the script is dirty, a dialogue window will pop-up allowing to either save or revert the changes.</p><p>The visual editor will automatically sync edited script if you update it externally, so you can seamlessly work with the scripts in both text and visual editors. In case auto-sync is not working, make sure <code>Auto Refresh</code> is enabled in the <code>Edit -&gt; Preferences -&gt; General</code> Unity editor menu.</p><p>During the playmode, you can use visual editor to track which script line is currently being played and use context menu (or click a line while holding <code>Shift</code>) to rewind the playback. This feature requires the script to have equal resource ID (when assigned in the resources manager menu) and asset name.</p>",4),M=e("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[e("div",{style:{width:"100%"}},[e("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"389"},[e("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-b6e04d664ce4b513296b378b7c25be03.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),e("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-b6e04d664ce4b513296b378b7c25be03.mp4"})])]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAACAAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEwAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAACIbWRhdAoGGBUjk0AQMnYVwCaYwgSBBADpVI33UqSUhLbE6A8Ov4WU71otcdhzH/yuiy+A0v2Hgn4bPfXHuOTzy4GP7sqsis83FQknxsHXmwYkMJqYi2SqS1KuT8X3bLq4xy1Z4xHJgddnhoBNrqdT2QPZl2GT1hZxxfi96RFvUNfhLSpq",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"389",decoding:"sync"})])],-1),R=a('<p>Currently played line will be highlighted with green color; when script playback is halted due waiting for user input, played line will be highlighted with yellow instead.</p><p>You can tweak the editor behavior and looks in the scripts configuration menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+f+'" type="image/avif"><source srcset="'+w+'"><img data-imgit-loadable alt="" width="720" height="435" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABHAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABPbWRhdAoIOBUjq0gIaAEyOxXABBBBBJAhAMaQL1Kts+reW3BYtS1rNfEC2z1PvuaN4/l1OS2qDK4MONal+IQqtShIRqTxNUyEXNGA" type="image/avif"><img src="//:0" alt="cover" width="720" height="435" decoding="sync"></picture></div>',3),X=e("div",{class:"imgit-youtube","data-imgit-container":""},[e("button",{class:"imgit-youtube-banner",title:"Watch video on YouTube","data-href":"https://www.youtube.com/watch?v=9UmccF9R9xI",style:{position:"absolute"}},"Watch on"),e("div",{class:"imgit-youtube-poster",title:"Play YouTube video"},[e("div",{class:"imgit-youtube-play",title:"Play YouTube video"}),e("div",{class:"imgit-picture",style:{display:"flex"},"data-imgit-container":""},[e("picture",{style:{width:"100%"}},[e("source",{srcset:E,type:"image/avif"}),e("source",{srcset:D}),e("img",{"data-imgit-loadable":"",alt:"",width:"720",height:"405",loading:"lazy",decoding:"async"})]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABIAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAUAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABQbWRhdAoJGBUjm0QICBQQMjsVwAggQgSAEADjLFiVgPjtRy4GQJVE9X6FjfStzEYkFMbaNUZm3kY/Jgj8oMT3sYAPPCxEN5OJ7ksRYA==",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"405",decoding:"sync"})])])]),e("div",{class:"imgit-youtube-player",hidden:""},[e("iframe",{title:"","data-src":"https://www.youtube-nocookie.com/embed/9UmccF9R9xI?autoplay=1&playsinline=1",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})])],-1),P=e("h2",{id:"script-graph",tabindex:"-1"},[n("Script Graph "),e("a",{class:"header-anchor vp-link",href:"#script-graph","aria-label":'Permalink to "Script Graph"'},"​")],-1),V=e("p",null,"When working with large amount of scripts and non-linear stories, it could become handy to have some kind of visual representation of the story flow. This is where script graph tool comes in handy.",-1),N=e("div",{class:"imgit-video",style:{display:"flex"},"data-imgit-container":""},[e("div",{style:{width:"100%"}},[e("video",{"data-imgit-loadable":"",preload:"none",loop:"",autoplay:"",muted:"",playsinline:"",width:"720",height:"432"},[e("source",{"data-imgit-src":"/imgit/encoded/i.gyazo.com-0dd3ec2393807fb03d501028e1526895.mp4@main.mp4",type:"video/mp4; codecs=av01.0.04M.08"}),e("source",{"data-imgit-src":"/imgit/fetched/i.gyazo.com-0dd3ec2393807fb03d501028e1526895.mp4"})])]),e("picture",{class:"imgit-cover",style:{width:"100%","margin-left":"-100%"}},[e("source",{srcset:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAAAmAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAFgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EADAAAAAATY29scm5jbHgAAgACAAIAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAAAubWRhdAoGGBUjq0AQMhwVwAQQAASEAADeWOH6+zKNPp40STIKQrwsMgFQ",type:"image/avif"}),e("img",{src:"//:0",alt:"cover",width:"720",height:"432",decoding:"sync"})])],-1),Z=a('<p>To open the graph window use <code>Naninovel -&gt; Script Graph</code> editor menu. You can dock the window as any other editor panel if you like to.</p><p>The tool will automatically build graph representation of all the naninovel scripts (represented as nodes) assigned via editor resources (<code>Naninovel -&gt; Resources -&gt; Scripts</code>) and connections between them.</p><p>The connections are generated based on <a href="/api/#goto" target="_blank"><code>@goto</code></a>, <a href="/api/#gosub" target="_blank"><code>@gosub</code></a> and <a href="/api/#choice" target="_blank"><code>@choice</code></a> (when it has a <code>goto</code> parameter) commands. If the command has a conditional expression assigned (<code>if</code> parameter), corresponding port in the node will be highlighted with yellow and you&#39;ll be able to see the expression when hovering the port.</p><p>You can select script asset and open visual editor by double-clicking nodes or clicking ports. Clicking the ports will also scroll the visual editor to a line containing label (in case there were a label specified).</p><p>You can re-position the nodes as you like and their positions will be automatically saved when closing the graph window or exiting Unity; the positions will then be restored when re-open the window. You can also save manually by clicking &quot;Save&quot; button. Clicking &quot;Auto Align&quot; button will reset all the positions.</p><p>When changing scripts or adding new ones, click &quot;Rebuild Graph&quot; button to sync it.</p><p>When <a href="/naninovel-docs/guide/naninovel-scripts#comment-lines" class="vp-link">comment lines</a> are present at the top of a script, associated graph node will show those as a synopsis. To disable that, uncheck <code>Show Synopsis</code> in the scripts configuration menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+x+'" type="image/avif"><source srcset="'+F+'"><img data-imgit-loadable alt="" width="634" height="359" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAB6AAIAAAABAAACSgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAfAAAAEgAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAHwAAABIAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAlW1kYXQKCDgRPRaQENACMm4VwAggQQSABACgEDqlWll62410JEr3yPqOKpNH2kXK8OJpcJ3lXW8by5cnG0LkGZQ3H26nZtL3CqrZz3TJvm6jRPm1UkG3AqunGOPEeis7+uEd1RFYAvJciXKWRuRjCbbalr+arDdPY45lbi7WwAoFGBE9FpUyChXAAAEgAAPHhDo=" type="image/avif"><img src="//:0" alt="cover" width="634" height="359" decoding="sync"></picture></div><h2 id="hot-reload" tabindex="-1">Hot Reload <a class="header-anchor vp-link" href="#hot-reload" aria-label="Permalink to &quot;Hot Reload&quot;">​</a></h2><p>It&#39;s possible to edit scripts at play mode (via both visual and external editors) and have the changes applied immediately, without game restart. The feature is controlled via <code>Hot Reload Scripts</code> property in the scripts configuration and is enabled by default.</p><p>When modifying, adding or removing a line before the currently played one, state rollback will automatically happen to the modified line to prevent state inconsistency.</p><p>In case hot reload is not working, make sure <code>Auto Refresh</code> is enabled and <code>Script Changes While Playing</code> is set to <code>Recompile And Continue Playing</code>. Both properties can be found at <code>Edit -&gt; Preferences -&gt; General</code> Unity editor menu.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+G+'" type="image/avif"><source srcset="'+I+'"><img data-imgit-loadable alt="" width="720" height="311" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAD5bWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAARAAAAQABAAAAAQAAASEAAABJAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUNvbG9yAAAAAGppcHJwAAAAS2lwY28AAAAUaXNwZQAAAAAAAAAkAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAF2lwbWEAAAAAAAAAAQABBAECgwQAAABRbWRhdAoIOBTj9pAQ0AIyPRXABBBBBIABAMvOA/gD8HAjMgU1F7QU3P7IJ++Mu10xy7w2kcjawFGAGSbERZJQNpceckvPPeaHKBYle3w=" type="image/avif"><img src="//:0" alt="cover" width="720" height="311" decoding="sync"></picture></div><p>To manually initiate hot reload of the currently played naninovel script (eg, when editing script file outside of Unity project), use <code>reload</code> <a href="/naninovel-docs/guide/development-console" class="vp-link">console command</a>. The command is editor-only (won&#39;t work in builds).</p><h2 id="ide-support" tabindex="-1">IDE Support <a class="header-anchor vp-link" href="#ide-support" aria-label="Permalink to &quot;IDE Support&quot;">​</a></h2><p>IDE features, like syntax highlighting, error checking, auto-completion and interactive documentation could significantly increase productivity when writing scripts. We&#39;ve made an extension for a free and open-source <a href="https://code.visualstudio.com" class="vp-link" target="_blank" rel="noreferrer">VS Code editor<span class="external-link-icon"> ↗</span></a> (available for Windows, MacOS and Linux), which provides the essential IDE support for NaniScript syntax.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+_+'" type="image/avif"><source srcset="'+Y+'"><img data-imgit-loadable alt="" width="720" height="480" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABrAAIAAAABAAACOwAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAGAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABgAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAh21kYXQKCDgVI7tICGgBMl8VwAQQggSIAQDrlGeXXMk+ADbU3BnwSud9H6HoMUlKRwoCKPaLT8IPNC35mdxnuN/KRMh7dcgCmy09JmyUVKqO2JhAOjtBgoG2ODhj7IUxQqvsCnZTEgsOhYHt5dhzwAoGGBUju0qAMgoVwAABIAAGNODm" type="image/avif"><img src="//:0" alt="cover" width="720" height="480" decoding="sync"></picture></div><p>For more information on how to install and use the extension see the <a href="/naninovel-docs/guide/ide-extension" class="vp-link">IDE extension guide</a>.</p><h2 id="scripts-debug" tabindex="-1">Scripts Debug <a class="header-anchor vp-link" href="#scripts-debug" aria-label="Permalink to &quot;Scripts Debug&quot;">​</a></h2><p>When working with large naninovel scripts, it could become tedious to always play them from start in order to check how things work in particular parts of the script.</p><p>Using <a href="/naninovel-docs/guide/development-console" class="vp-link">development console</a> you can instantly &quot;rewind&quot; currently played script to an arbitrary line:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span>rewind 12</span></span></code></pre></div><p>— will start playing current script from the 12th line; you can rewind forward and backward in the same way. To open the console while game is running, make sure the console is enabled in the engine configuration and press <code>~</code> key (can be changed in the configuration) or perform multi-touch (3 or more simultaneous touches) in case the build is running on a touchscreen device.</p><p>To find out which script and line is currently playing, use debug window: type <code>debug</code> in the development console and press <code>Enter</code> to show the window.</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+q+'" type="image/avif"><source srcset="'+Q+`"><img data-imgit-loadable alt="Scripts Debug" width="720" height="404" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAADAAAIAAAABAAACkAAAABQAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAFAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABQAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAA3G1kYXQKCDgVI5tICGgBMrMBFcAAAEgQUNbbXm39UXs+FDnI4uLoOTYTHWPkx+5OKmb7vIgA0mqwvhDLrslI5tpOigR8VPH+/Ks7T1ZLCTUZQMGifMiahwzeb8LVgK9EAKeNId9uWhWc6f80RidlAd25jBx0S1m/S1C+AOdl9gn+XHgsVCAVVWXqJPGjgkefnCAOEz0Zrarwfr3xnjn9PsGW3diMb97NsbxKE/f9mEMx8cN4xKpRmtLstRx7Ab5ROb+W7gYKBhgVI5tKgDIKFcAAASAABjTg5g==" type="image/avif"><img src="//:0" alt="cover" width="720" height="404" decoding="sync"></picture></div><p>Currently played script name, line number and command (inline) index are displayed in the title of the window. When <a href="/naninovel-docs/guide/voicing#auto-voicing" class="vp-link">auto voicing</a> feature is enabled, name of the corresponding voice clip will also be displayed. You can re-position the window by dragging it by the title. &quot;Stop&quot; button will halt script execution; when script player is stopped &quot;Play&quot; button will resume the execution. You can close the debug window by pressing the &quot;Close&quot; button.</p><p>Debug window is available in both editor and player builds.</p><h2 id="text-identification" tabindex="-1">Text Identification <a class="header-anchor vp-link" href="#text-identification" aria-label="Permalink to &quot;Text Identification&quot;">​</a></h2><p>Features like <a href="/naninovel-docs/guide/localization#scripts-localization" class="vp-link">script localization</a> and <a href="/naninovel-docs/guide/voicing#auto-voicing" class="vp-link">auto voicing</a> require associating text written in Naninovel scenario scripts with other resources; for example translated text to show instead of the associated one or voice clip to play when associated text is printed. For this to work we have to assign each such text a unique identifier.</p><p>By default, Naninovel will automatically identify all the localizable text by its content hash when importing script assets. This works fine as long as you don&#39;t modify the text; but after you do, all the associations will break: you&#39;ll have to re-map auto voice clips or re-translate changed text statements.</p><p>To prevent associations from breaking when editing text, enable <code>Stable Identification</code> under scripts configuration menu. When enabled, Naninovel will explicitly write unique IDs to each localizable text in imported scripts. The downside is that the script text will now have IDs appended to each localizable parameter, eg:</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Kohaku:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Hey!</span><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">|#1|</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[i]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> What&#39;s up?</span><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">|#2|</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Option 1</span><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">|#3|</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">@choice</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> &quot;Option 2</span><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">|#4|</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">&quot;</span></span></code></pre></div><p>— but in return, as long as you don&#39;t remove or change the IDs, the associations won&#39;t break. To make text IDs less distracting, they are colored dim by the IDE extension and visual editor.</p><p>When stable identification is enabled, the system will also make sure all the generated text IDs are unique and were never used before inside the script document; for this, it&#39;ll store latest revision numbers in <code>NaninovelData/ScriptRevisions</code> editor asset. Whenever you remove a line with an assigned text ID, you can be sure that this ID won&#39;t suddenly appear in some other place (unless you specify it manually).</p>`,34),U=[W,T,S,M,R,X,P,V,N,Z];function H(j,O,L,z,K,J){return t(),s("div",null,U)}const ae=i(B,[["render",H]]);export{ee as __pageData,ae as default};
