import{_ as A,c as a,o as s,f as e,df as i,dg as t,gQ as l,gR as o}from"./chunks/framework.BG74BkEs.js";const E=JSON.parse('{"title":"本地化","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/localization.md","filePath":"zh/guide/localization.md","lastUpdated":1698833889000}'),n={name:"zh/guide/localization.md"},c=i+" 1x",p=t+" 1x",d=l+" 1x",r=o+" 1x",h=e('<h1 id="本地化" tabindex="-1">本地化 <a class="header-anchor vp-link" href="#本地化" aria-label="Permalink to &quot;本地化&quot;">​</a></h1><p>所有游戏资源（脚本，音频，语音，背景等）都可以本地化为多种语言/文化。</p><p>默认情况下，所有游戏资源都会根据<em>source locale</em>（源语言环境）来调用。比如，假如你现在英语环境下开发：所有原始资源，naninovel脚本，UI，背景上的指示符号等都为英语；这意味着，<em>source locale</em>为<code>en</code>（或<code>en-GB</code> / <code>en-US</code> / 等，便于你为不同地区适配语言坏境）。</p><p>在<code>Naninovel -&gt; Configuration -&gt; Localization</code>中<code>Source Locale</code>属性可以改变<em>source locale</em>设置。<code>Source Locale</code>仅定义本地相关资源的名字（ID），并用于游戏内&quot;Language&quot;（语言）下拉菜单，和引擎API区分不同地区适配。</p><p>你可以在<code>Resources/Naninovel/Localization</code>（<em>localization resources root</em>又称为本地化资源根目录）添加额外子文件夹来添加其他本地化语言。文件夹命名参考<a href="https://gist.github.com/Elringus/db90d9c74f13c00fa35131e61d1b73cb" class="vp-link" target="_blank" rel="noreferrer">RFC5646<span class="external-link-icon"> ↗</span></a> 。比如，如果要添加德语，创建目录<code>Resources/Naninovel/Localization/de</code>。游戏内语言下拉菜单就会自动添加该语言设置。</p><p>注意，你不用为<em>source locale</em>（源语言环境）在<em>localization resources root</em> （本地化资源根目录）内创建子文件夹。默认所有在此之外的资源都属于<em>source locale</em>（源语言环境）范畴。</p><p>可以通过<code>Loader &gt; Path Prefix</code>属性在本地化配置菜单中更改<em>localization resources root</em>（本地化资源根目录）路径。注意，为&quot;Resources&quot;文件夹（而非&quot;Assets&quot;）的相对路径。资源文件夹由Unity 以<a href="https://docs.unity3d.com/Manual/LoadingResourcesatRuntime.html" class="vp-link" target="_blank" rel="noreferrer">特殊方式<span class="external-link-icon"> ↗</span></a> 处理。你可以在项目里任意位置放多个&quot;Resources&quot;文件夹来达到管理资源的目的。</p><p>您可以设置在玩家首次运行游戏时默认选择的语言环境，通过设置本地化配置菜单中<code>Default Locale</code>属性。如果未指定该属性，则默认情况下，游戏将在<em>source locale</em>（源语言环境）中启动。</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+c+'" type="image/avif"><source srcset="'+p+'"><img data-imgit-loadable alt="" width="720" height="310" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAABWAAIAAAABAAACJgAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAkAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAJAAAABAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAcW1kYXQKCDgU4/aQENACMkoVwAggggSBBQD12rRksf3xVOPIfl+mtaLyb+t7/R06Ohio5s8+B0yEOwbCA0jXDaSasGHuCKmuXOpNUKRZju/HrrnOrTTD0JS8zwoFGBTj9pUyChXAAAEgAAY04OY=" type="image/avif"><img src="//:0" alt="cover" width="720" height="310" decoding="sync"></picture></div><h2 id="资源本地化" tabindex="-1">资源本地化 <a class="header-anchor vp-link" href="#资源本地化" aria-label="Permalink to &quot;资源本地化&quot;">​</a></h2><p><em>localization resources root</em>（本地化资源根目录）存储的是在游戏中本地化设置选择的对应本地化资源。</p><p>比如，如果你想替换&quot;city&quot;的主背景外观（背景元素ID为&quot;MainBackground&quot;），此时选择区域选择为&quot;ja-JP&quot;，将资源放入如下路径： <code>Resources/Naninovel/Localization/ja-JP/Backgrounds/MainBackground/City</code>。</p><h2 id="脚本本地化" tabindex="-1">脚本本地化 <a class="header-anchor vp-link" href="#脚本本地化" aria-label="Permalink to &quot;脚本本地化&quot;">​</a></h2><p>除了Naninovel脚本和托管文本，上述本地化方案适用于所有资源。这类资源，使用<code>Naninovel -&gt; Tools -&gt; Localization</code>里的本地化工具来管理：</p><div class="imgit-picture" style="display:flex;" data-imgit-container><picture style="width:100%;"><source srcset="'+d+'" type="image/avif"><source srcset="'+r+`"><img data-imgit-loadable alt="Localization Tool" width="500" height="327" loading="lazy" decoding="async"></picture><picture class="imgit-cover" style="width:100%;margin-left:-100%;"><source srcset="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAAGobWV0YQAAAAAAAAAvaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAFBpY3R1cmVIYW5kbGVyAAAAAA5waXRtAAAAAAABAAAALGlsb2MAAAAARAAAAgABAAAAAQAAAdAAAAA7AAIAAAABAAACCwAAABMAAABCaWluZgAAAAAAAgAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAGmluZmUCAAAAAAIAAGF2MDFBbHBoYQAAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAAANdpcHJwAAAAsWlwY28AAAAUaXNwZQAAAAAAAAAZAAAAEAAAABBwaXhpAAAAAAMICAgAAAAMYXYxQ4EgAAAAAAATY29scm5jbHgAAgACAACAAAAAFGlzcGUAAAAAAAAAGQAAABAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQFBocIAAAAVm1kYXQKCDgQ8e0gIaAEMi8VwAAASBIAU7Nt93f7lD4D5/woJea1SSWfREpaDtcBftOlYsnfNtx56cLVCWTxMwoFGBDx7SoyChXAAAEgAAJrDuE=" type="image/avif"><img src="//:0" alt="cover" width="500" height="327" decoding="sync"></picture></div><p>首先，选择存储生成的本地化资源的语言环境文件夹的路径。确保选择了实际的语言环境文件夹而非<em>localization resources root</em>（本地化资源根目录）（比如 <code>Resources/Naninovel/Localization/ja-JP</code>）。属性字段下的标签将在选择有效的输出区域设置文件夹时，显示所选本地化目标的名称。</p><p>启用&quot;Try update&quot;（“尝试更新”）属性将尝试保留任何当前现有的本地化资源。禁用后，指定路径上的所有现有本地化资源都将丢失。</p><p>启用 &quot;Localize text&quot;（“本地化文本”）还将生成<a href="/naninovel-docs/zh/guide/managed-text" class="vp-link">托管文本</a> 本地化文档。启用后，将出现&quot;Text Folder&quot;（“文本文件夹”）属性，以允许指定源托管文本文档的路径（<code>Assets/Resources/Naninovel/Text</code>默认）。可以将路径设置为包含文本文档本地化版本的文件夹，以生成使用非源语言的本地化版本。</p><p>按&quot;Generate&quot;（“生成”）按钮创建（更新）本地化资源。</p><p>脚本本地化文档由以下格式的语句组成：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># ID</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Source text</span></span>
<span class="line"><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Translation text</span></span></code></pre></div><p><code># ID</code> 行是naninovel脚本中源语句的唯一标识符，请勿修改。</p><p><code>; Source text</code>是希望翻译的原始文本。这只是一条注释，因此更改此行不会有任何效果。提供它是为了方便。</p><p>将实际翻译直接放在带有源文本的注释行之后。可以使用任意数量的行进行翻译，只需确保将它们放在下一<code># ID</code> 行之前。</p><p>这是通用文本行的示例翻译：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># f63f03ea</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Yuko: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam ut ultricies enim, id venenatis arcu. Nullam rhoncus eros eu ante vulputate tempus.</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Yuko:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Все известные астероиды имеют прямое движение, при этом весеннее равноденствие отражает гейзер. Уравнение времени однократно. Большая Медведица, оценивая блеск освещенного металлического шарика, пространственно притягивает первоначальный метеорный дождь.</span></span></code></pre></div><p>如果翻译占用太多空间，可以将其分解为单独的命令：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># f63f03ea</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Yuko: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam ut ultricies enim, id venenatis arcu. Nullam rhoncus eros eu ante vulputate tempus.</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Yuko:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Все известные астероиды имеют прямое движение, при этом весеннее равноденствие отражает гейзер. Уравнение времени однократно.</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Yuko:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Большая Медведица, оценивая блеск освещенного металлического шарика, пространственно притягивает первоначальный метеорный дождь.</span></span></code></pre></div><p>应该将源语句中存在的任何内联命令包括在翻译中：</p><div class="language-nani vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nani</span><pre class="shiki shiki-themes theme-light theme-dark vp-code"><code><span class="line"><span style="--shiki-light:#51A612;--shiki-dark:#9BC37C;"># b53b395d</span></span>
<span class="line"><span style="--shiki-light:#ACB5C6;--shiki-dark:#5D6470;">; Kohaku: Qui ante molestie sit tempor felis.[br 2][char Kohaku.Casual/Angry][style #ff0000,bold,45]Adipiscing elit?[style default][br][skipInput]</span></span>
<span class="line"><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;">Kohaku:</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;"> Противостояние вызывает кислый метеорный дождь.</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[br</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> 2</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">][char</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> Kohaku.Casual/Angry</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">][style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> #ff0000,bold,45</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">]</span><span style="--shiki-light:#4B5871;--shiki-dark:#ACB2BE;">Меандр разрушаем?</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">[style</span><span style="--shiki-light:#9250BF;--shiki-dark:#E2BE7F;"> default</span><span style="--shiki-light:#257DC8;--shiki-dark:#6CB2ED;">][br][skipInput]</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>不应该翻译角色ID</strong> （或任何其他元素的 ID）。某些功能（例如，字符高亮和嘴型同步）将出现问题。如果你想翻译文本打字机的显示名字，使用<a href="/naninovel-docs/zh/guide/characters#显示姓名" class="vp-link">姓名显示</a> 特性。</p></div><p>生成过程完成后，将在本地化工具窗口中显示包含在生成的本地化文档中的总字数（不包括哈希行）。</p><p>默认情况下，生成的文档将包含从源naninovel脚本获取的待翻译文本。如果您希望从已经生成的本地化文档中获取文本，请选择&quot;Script Folder&quot;（“脚本文件夹”）路径，指向包含为另一个语言环境生成的本地化文档的文件夹。例如，假设您的来源语言环境是西班牙语。默认情况下，本地化文档将包含西班牙语的源文本。但是，如果您已经有西班牙语-&gt;英语翻译，现在需要生成英语-&gt;俄语文档怎么办？只需将&quot;Script Folder&quot;（“脚本文件夹”）指向存储英文文档的文件夹即可；生成的文档将包含来自英文翻译的源文本。</p><div class="tip custom-block"><p class="custom-block-title">EXAMPLE</p><p>您可以在<a href="/naninovel-docs/zh/guide/getting-started#演示项目" class="vp-link">演示项目</a> 中找到示例本地化设置。如果在自己的项目中设置本地化时遇到问题，请将其用作参考。</p></div>`,34),u=[h];function g(k,m,B,C,y,v){return s(),a("div",null,u)}const f=A(n,[["render",g]]);export{E as __pageData,f as default};
